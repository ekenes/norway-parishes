{"version":3,"file":"featuresetgeom-CEfmLQ1Y.js","sources":["../../node_modules/@arcgis/core/arcade/functions/featuresetgeom.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ArcadeExecutionError as e,ExecutionErrorCodes as n}from\"../executionError.js\";import{shapeExtent as t}from\"../kernel.js\";import{H as r,G as i,j as a,u as s}from\"../../chunks/languageUtils.js\";import u from\"../featureset/actions/SpatialFilter.js\";import o from\"../featureset/sources/Empty.js\";import l from\"../../geometry/Geometry.js\";import{relate as c,crosses as f,touches as p,within as m,overlaps as d,contains as w,intersects as y}from\"../../geometry/geometryEngineAsync.js\";function h(e){return e instanceof l}function S(i,a,c,S){return S(i,a,(async(S,R,v)=>{if(v.length<2)throw new e(i,n.WrongNumberOfParameters,a);if(null===(v=r(v))[0]&&null===v[1])return!1;if(s(v[0])){if(v[1]instanceof l)return new u({parentfeatureset:v[0],relation:c,relationGeom:v[1]});if(null===v[1])return new o({parentfeatureset:v[0]});throw new e(i,n.InvalidParameter,a)}if(h(v[0])){if(h(v[1])){switch(c){case\"esriSpatialRelEnvelopeIntersects\":return y(t(v[0]),t(v[1]));case\"esriSpatialRelIntersects\":return y(v[0],v[1]);case\"esriSpatialRelContains\":return w(v[0],v[1]);case\"esriSpatialRelOverlaps\":return d(v[0],v[1]);case\"esriSpatialRelWithin\":return m(v[0],v[1]);case\"esriSpatialRelTouches\":return p(v[0],v[1]);case\"esriSpatialRelCrosses\":return f(v[0],v[1])}throw new e(i,n.InvalidParameter,a)}if(s(v[1]))return new u({parentfeatureset:v[1],relation:c,relationGeom:v[0]});if(null===v[1])return!1;throw new e(i,n.InvalidParameter,a)}if(null===v[0]){if(s(v[1]))return new o({parentfeatureset:v[1]});if(v[1]instanceof l||null===v[1])return!1}throw new e(i,n.InvalidParameter,a)}))}function R(t){\"async\"===t.mode&&(t.functions.intersects=function(e,n){return S(e,n,\"esriSpatialRelIntersects\",t.standardFunctionAsync)},t.functions.envelopeintersects=function(e,n){return S(e,n,\"esriSpatialRelEnvelopeIntersects\",t.standardFunctionAsync)},t.signatures.push({name:\"envelopeintersects\",min:2,max:2}),t.functions.contains=function(e,n){return S(e,n,\"esriSpatialRelContains\",t.standardFunctionAsync)},t.functions.overlaps=function(e,n){return S(e,n,\"esriSpatialRelOverlaps\",t.standardFunctionAsync)},t.functions.within=function(e,n){return S(e,n,\"esriSpatialRelWithin\",t.standardFunctionAsync)},t.functions.touches=function(e,n){return S(e,n,\"esriSpatialRelTouches\",t.standardFunctionAsync)},t.functions.crosses=function(e,n){return S(e,n,\"esriSpatialRelCrosses\",t.standardFunctionAsync)},t.functions.relate=function(u,f){return t.standardFunctionAsync(u,f,(async(t,p,m)=>{if(m=r(m),i(m,3,3,u,f),h(m[0])&&h(m[1]))return c(m[0],m[1],a(m[2]));if(m[0]instanceof l&&null===m[1])return!1;if(m[1]instanceof l&&null===m[0])return!1;if(s(m[0])&&null===m[1])return new o({parentfeatureset:m[0]});if(s(m[1])&&null===m[0])return new o({parentfeatureset:m[1]});if(s(m[0])&&m[1]instanceof l)return m[0].relate(m[1],a(m[2]));if(s(m[1])&&m[0]instanceof l)return m[1].relate(m[0],a(m[2]));if(null===m[0]&&null===m[1])return!1;throw new e(u,n.InvalidParameter,f)}))})}export{R as registerFunctions};\n"],"names":["h","e","l","S","i","a","c","R","v","n","r","s","u","o","y","t","w","d","m","p","f"],"mappings":"slBAIse,SAASA,EAAEC,EAAE,CAAC,OAAOA,aAAaC,CAAC,CAAC,SAASC,EAAEC,EAAEC,EAAEC,EAAEH,EAAE,CAAC,OAAOA,EAAEC,EAAEC,EAAG,MAAMF,EAAEI,EAAEC,IAAI,CAAC,GAAGA,EAAE,OAAO,EAAE,MAAM,IAAIP,EAAEG,EAAEK,EAAE,wBAAwBJ,CAAC,EAAE,IAAWG,EAAEE,EAAEF,CAAC,GAAG,CAAC,IAAjB,MAA2BA,EAAE,CAAC,IAAV,KAAY,MAAM,GAAG,GAAGG,EAAEH,EAAE,CAAC,CAAC,EAAE,CAAC,GAAGA,EAAE,CAAC,YAAYN,EAAE,OAAO,IAAIU,EAAE,CAAC,iBAAiBJ,EAAE,CAAC,EAAE,SAASF,EAAE,aAAaE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAUA,EAAE,CAAC,IAAV,KAAY,OAAO,IAAIK,EAAE,CAAC,iBAAiBL,EAAE,CAAC,CAAC,CAAC,EAAE,MAAM,IAAIP,EAAEG,EAAEK,EAAE,iBAAiBJ,CAAC,CAAC,CAAC,GAAGL,EAAEQ,EAAE,CAAC,CAAC,EAAE,CAAC,GAAGR,EAAEQ,EAAE,CAAC,CAAC,EAAE,CAAC,OAAOF,EAAG,CAAA,IAAI,mCAAmC,OAAOQ,EAAEC,EAAEP,EAAE,CAAC,CAAC,EAAEO,EAAEP,EAAE,CAAC,CAAC,CAAC,EAAE,IAAI,2BAA2B,OAAOM,EAAEN,EAAE,CAAC,EAAEA,EAAE,CAAC,CAAC,EAAE,IAAI,yBAAyB,OAAOQ,EAAER,EAAE,CAAC,EAAEA,EAAE,CAAC,CAAC,EAAE,IAAI,yBAAyB,OAAOS,EAAET,EAAE,CAAC,EAAEA,EAAE,CAAC,CAAC,EAAE,IAAI,uBAAuB,OAAOU,EAAEV,EAAE,CAAC,EAAEA,EAAE,CAAC,CAAC,EAAE,IAAI,wBAAwB,OAAOW,EAAEX,EAAE,CAAC,EAAEA,EAAE,CAAC,CAAC,EAAE,IAAI,wBAAwB,OAAOY,EAAEZ,EAAE,CAAC,EAAEA,EAAE,CAAC,CAAC,CAAC,CAAC,MAAM,IAAIP,EAAEG,EAAEK,EAAE,iBAAiBJ,CAAC,CAAC,CAAC,GAAGM,EAAEH,EAAE,CAAC,CAAC,EAAE,OAAO,IAAII,EAAE,CAAC,iBAAiBJ,EAAE,CAAC,EAAE,SAASF,EAAE,aAAaE,EAAE,CAAC,CAAC,CAAC,EAAE,GAAUA,EAAE,CAAC,IAAV,KAAY,MAAQ,GAAC,MAAM,IAAIP,EAAEG,EAAEK,EAAE,iBAAiBJ,CAAC,CAAC,CAAC,GAAUG,EAAE,CAAC,IAAV,KAAY,CAAC,GAAGG,EAAEH,EAAE,CAAC,CAAC,EAAE,OAAO,IAAIK,EAAE,CAAC,iBAAiBL,EAAE,CAAC,CAAC,CAAC,EAAE,GAAGA,EAAE,CAAC,YAAYN,GAAUM,EAAE,CAAC,IAAV,KAAY,MAAM,EAAE,CAAC,MAAM,IAAIP,EAAEG,EAAEK,EAAE,iBAAiBJ,CAAC,CAAC,CAAC,CAAE,CAAC,SAASE,EAAEQ,EAAE,CAAWA,EAAE,OAAZ,UAAmBA,EAAE,UAAU,WAAW,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,2BAA2BM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,UAAU,mBAAmB,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,mCAAmCM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,WAAW,KAAK,CAAC,KAAK,qBAAqB,IAAI,EAAE,IAAI,CAAC,CAAC,EAAEA,EAAE,UAAU,SAAS,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,yBAAyBM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,UAAU,SAAS,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,yBAAyBM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,UAAU,OAAO,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,uBAAuBM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,UAAU,QAAQ,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,wBAAwBM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,UAAU,QAAQ,SAASd,EAAEQ,EAAE,CAAC,OAAON,EAAEF,EAAEQ,EAAE,wBAAwBM,EAAE,qBAAqB,CAAC,EAAEA,EAAE,UAAU,OAAO,SAASH,EAAEQ,EAAE,CAAC,OAAOL,EAAE,sBAAsBH,EAAEQ,EAAG,MAAML,EAAEI,EAAED,IAAI,CAAC,GAAGA,EAAER,EAAEQ,CAAC,EAAEd,EAAEc,EAAE,EAAE,EAAEN,EAAEQ,CAAC,EAAEpB,EAAEkB,EAAE,CAAC,CAAC,GAAGlB,EAAEkB,EAAE,CAAC,CAAC,EAAE,OAAOZ,EAAEY,EAAE,CAAC,EAAEA,EAAE,CAAC,EAAEb,EAAEa,EAAE,CAAC,CAAC,CAAC,EAA4C,GAAvCA,EAAE,CAAC,YAAYhB,GAAUgB,EAAE,CAAC,IAAV,MAAwBA,EAAE,CAAC,YAAYhB,GAAUgB,EAAE,CAAC,IAAV,KAAY,MAAM,GAAG,GAAGP,EAAEO,EAAE,CAAC,CAAC,GAAUA,EAAE,CAAC,IAAV,KAAY,OAAO,IAAIL,EAAE,CAAC,iBAAiBK,EAAE,CAAC,CAAC,CAAC,EAAE,GAAGP,EAAEO,EAAE,CAAC,CAAC,GAAUA,EAAE,CAAC,IAAV,KAAY,OAAO,IAAIL,EAAE,CAAC,iBAAiBK,EAAE,CAAC,CAAC,CAAC,EAAE,GAAGP,EAAEO,EAAE,CAAC,CAAC,GAAGA,EAAE,CAAC,YAAYhB,EAAE,OAAOgB,EAAE,CAAC,EAAE,OAAOA,EAAE,CAAC,EAAEb,EAAEa,EAAE,CAAC,CAAC,CAAC,EAAE,GAAGP,EAAEO,EAAE,CAAC,CAAC,GAAGA,EAAE,CAAC,YAAYhB,EAAE,OAAOgB,EAAE,CAAC,EAAE,OAAOA,EAAE,CAAC,EAAEb,EAAEa,EAAE,CAAC,CAAC,CAAC,EAAE,GAAUA,EAAE,CAAC,IAAV,MAAoBA,EAAE,CAAC,IAAV,KAAY,MAAM,GAAG,MAAM,IAAIjB,EAAEW,EAAEH,EAAE,iBAAiBW,CAAC,CAAC,CAAG,CAAA,EAAE","x_google_ignoreList":[0]}