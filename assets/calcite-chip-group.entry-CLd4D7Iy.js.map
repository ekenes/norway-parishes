{"version":3,"file":"calcite-chip-group.entry-CLd4D7Iy.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-chip-group.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-abe3b66e.js';\nimport { s as slotChangeGetAssignedElements, k as focusElementInGroup } from './dom-b6dedd88.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport { a as setComponentLoaded, s as setUpLoadableComponent, c as componentFocusable } from './loadable-13e9ffb2.js';\nimport './guid-9c230b6a.js';\nimport './resources-a23d2491.js';\nimport './browser-618ac057.js';\n\nconst chipGroupCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.container{display:flex;inline-size:100%;flex-wrap:wrap;gap:0.5rem}::slotted(calcite-chip){flex:none}:host([scale=s]) .container{gap:0.25rem}:host([scale=l]) .container{gap:0.75rem}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteChipGroupStyle0 = chipGroupCss;\n\nconst ChipGroup = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteChipGroupSelect = createEvent(this, \"calciteChipGroupSelect\", 6);\n        this.items = [];\n        //--------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        //--------------------------------------------------------------------------\n        this.updateItems = (event) => {\n            const itemsFromSlot = this.slotRefEl\n                ?.assignedElements({ flatten: true })\n                .filter((el) => el?.matches(\"calcite-chip\"));\n            this.items = !event\n                ? itemsFromSlot\n                : slotChangeGetAssignedElements(event);\n            if (this.items?.length < 1) {\n                return;\n            }\n            this.items?.forEach((el) => {\n                el.interactive = true;\n                el.scale = this.scale;\n                el.selectionMode = this.selectionMode;\n                el.parentChipGroup = this.el;\n            });\n            this.setSelectedItems(false);\n        };\n        this.updateSelectedItems = () => {\n            this.selectedItems = this.items?.filter((el) => el.selected);\n        };\n        this.setSelectedItems = (emit, elToMatch) => {\n            if (elToMatch) {\n                this.items?.forEach((el) => {\n                    const matchingEl = elToMatch === el;\n                    switch (this.selectionMode) {\n                        case \"multiple\":\n                            if (matchingEl) {\n                                el.selected = !el.selected;\n                            }\n                            break;\n                        case \"single\":\n                            el.selected = matchingEl ? !el.selected : false;\n                            break;\n                        case \"single-persist\":\n                            el.selected = !!matchingEl;\n                            break;\n                    }\n                });\n            }\n            this.updateSelectedItems();\n            if (emit) {\n                this.calciteChipGroupSelect.emit();\n            }\n        };\n        this.disabled = false;\n        this.label = undefined;\n        this.scale = \"m\";\n        this.selectionMode = \"none\";\n        this.selectedItems = [];\n    }\n    onSelectionModeChange() {\n        this.updateItems();\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    calciteInternalChipKeyEventListener(event) {\n        if (event.composedPath().includes(this.el)) {\n            const interactiveItems = this.items?.filter((el) => !el.disabled);\n            switch (event.detail.key) {\n                case \"ArrowRight\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"next\");\n                    break;\n                case \"ArrowLeft\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"previous\");\n                    break;\n                case \"Home\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"first\");\n                    break;\n                case \"End\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"last\");\n                    break;\n            }\n        }\n        event.stopPropagation();\n    }\n    calciteChipCloseListener(event) {\n        const item = event.target;\n        if (this.items?.includes(item)) {\n            if (this.items?.indexOf(item) > 0) {\n                focusElementInGroup(this.items, item, \"previous\");\n            }\n            else if (this.items?.indexOf(item) === 0) {\n                focusElementInGroup(this.items, item, \"next\");\n            }\n            else {\n                focusElementInGroup(this.items, item, \"first\");\n            }\n        }\n        this.items = this.items?.filter((el) => el !== item);\n        event.stopPropagation();\n    }\n    calciteChipSelectListener(event) {\n        if (event.composedPath().includes(this.el)) {\n            this.setSelectedItems(true, event.target);\n        }\n        event.stopPropagation();\n    }\n    calciteInternalChipSelectListener(event) {\n        if (event.composedPath().includes(this.el)) {\n            this.setSelectedItems(false, event.target);\n        }\n        event.stopPropagation();\n    }\n    calciteInternalSyncSelectedChips(event) {\n        if (event.composedPath().includes(this.el)) {\n            this.updateSelectedItems();\n            if (this.selectionMode === \"single\" && this.selectedItems.length > 1) {\n                this.setSelectedItems(false, event.target);\n            }\n        }\n        event.stopPropagation();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * Sets focus on the component's first focusable element.\n     */\n    async setFocus() {\n        await componentFocusable(this);\n        if (!this.disabled) {\n            return (this.selectedItems[0] || this.items[0])?.setFocus();\n        }\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    //--------------------------------------------------------------------------\n    render() {\n        const role = this.selectionMode === \"none\" || this.selectionMode === \"multiple\" ? \"group\" : \"radiogroup\";\n        const { disabled } = this;\n        return (h(InteractiveContainer, { key: '0db5548f1c2854898191b4d6eb8140cae2faf3d8', disabled: disabled }, h(\"div\", { key: '60fc92fea20478ee6fde23d807f17f7f472c1f5a', \"aria-label\": this.label, class: \"container\", role: role }, h(\"slot\", { key: 'd43fcf04af0063cd4d00f46e6dd61347eafccb3b', onSlotchange: this.updateItems, ref: (el) => (this.slotRefEl = el) }))));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"selectionMode\": [\"onSelectionModeChange\"]\n    }; }\n};\nChipGroup.style = CalciteChipGroupStyle0;\n\nexport { ChipGroup as calcite_chip_group };\n\n//# sourceMappingURL=calcite-chip-group.entry.js.map"],"names":["chipGroupCss","CalciteChipGroupStyle0","ChipGroup","hostRef","registerInstance","createEvent","event","itemsFromSlot","_a","el","slotChangeGetAssignedElements","_b","_c","emit","elToMatch","matchingEl","updateHostInteraction","setComponentLoaded","setUpLoadableComponent","interactiveItems","focusElementInGroup","item","_d","componentFocusable","role","disabled","h","InteractiveContainer","getElement"],"mappings":"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","x_google_ignoreList":[0]}