{"version":3,"mappings":"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","names":["r","S","o","i","g","f$2","f","e","t","a","s","l","n","u","p","m","h","c","v","x","T","d","M","w","j","y","k","_a","_b","b","_c","B","_","I","R","__vitePreload"],"ignoreList":[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14],"sources":["../../node_modules/@arcgis/core/views/support/spatialReferenceSupport.js","../../node_modules/@arcgis/core/views/3d/terrain/TilingScheme.js","../../node_modules/@arcgis/core/views/3d/terrain/TerrainConst.js","../../node_modules/@arcgis/core/views/3d/terrain/NeighborIndex.js","../../node_modules/@arcgis/core/views/3d/support/supportedSpatialReference.js","../../node_modules/@arcgis/core/chunks/terrainUtilsPlanar.js","../../node_modules/@arcgis/core/chunks/terrainUtilsSpherical.js","../../node_modules/@arcgis/core/views/3d/terrain/terrainUtils.js","../../node_modules/@arcgis/core/widgets/BasemapGallery/support/basemapCompatibilityUtils.js","../../node_modules/@arcgis/core/widgets/BasemapGallery/support/BasemapGalleryItem.js","../../node_modules/@arcgis/core/widgets/BasemapGallery/support/LocalBasemapsSource.js","../../node_modules/@arcgis/core/widgets/BasemapGallery/support/PortalBasemapsSource.js","../../node_modules/@arcgis/core/widgets/BasemapGallery/BasemapGalleryViewModel.js","../../node_modules/@arcgis/core/widgets/BasemapGallery/css.js","../../node_modules/@arcgis/core/widgets/BasemapGallery.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{SupportedGCSWkids as i}from\"../../geometry/support/SupportedGCSWkids.js\";import{ViewingMode as o}from\"../ViewingMode.js\";function r(r,S){return null!=r&&(null==S||(S===o.Local?!r.isGeographic||(r.isWGS84||r.wkid===i.CGCS2000):r.isWebMercator||r.isWGS84||r.wkid===i.CGCS2000||r.wkid===i.GCSMARS2000||r.wkid===i.GCSMARS2000_SPHERE||r.wkid===i.GCSMOON2000))}export{r as isSpatialReferenceSupported};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport\"../../../geometry.js\";import e from\"../../../core/Error.js\";import\"../../../core/has.js\";import{deg2rad as t,floatEqualAbsolute as i,floatEqualRelative as s}from\"../../../core/mathUtils.js\";import{getMetersPerUnitForSR as r}from\"../../../core/unitUtils.js\";import l from\"../../../geometry/Extent.js\";import n from\"../../../geometry/SpatialReference.js\";import{create as o}from\"../../../geometry/support/aaBoundingRect.js\";import{isGeographic as a}from\"../../../geometry/support/spatialReferenceUtils.js\";import{x2lon as h,y2lat as c}from\"../../../geometry/support/webMercatorUtils.js\";import m from\"../../../layers/support/LOD.js\";import u from\"../../../layers/support/TileInfo.js\";import p from\"../../../geometry/Point.js\";const g=12;class f{constructor(e){const t=f.checkUnsupported(e);if(null!=t)throw t;const i=e;this.spatialReference=i.spatialReference,this._isWebMercator=this.spatialReference.isWebMercator,this._isGCS=a(this.spatialReference),this.origin=[i.origin.x,i.origin.y],this.pixelSize=i.size[0],this.dpi=i.dpi;const s=i.lods.reduce(((e,t)=>(t.level<e.minLod.level&&(e.minLod=t),e.max=Math.max(e.max,t.level),e)),{minLod:i.lods[0],max:-1/0}),r=s.minLod,l=2**r.level;let n=r.resolution*l,o=r.scale*l;this.levels=new Array(s.max+1);for(let a=0;a<this.levels.length;a++)this.levels[a]={resolution:n,scale:o,tileSize:[n*i.size[0],n*i.size[1]]},n/=2,o/=2}clone(){return new f(this.toTileInfo())}toTileInfo(){return new u({dpi:this.dpi,origin:new p({x:this.origin[0],y:this.origin[1],spatialReference:this.spatialReference}),size:[this.pixelSize,this.pixelSize],spatialReference:this.spatialReference,lods:this.levels.map(((e,t)=>new m({level:t,scale:e.scale,resolution:e.resolution})))})}getExtent(e,t,i,s){const r=this.levels[e],l=r.tileSize[0],n=r.tileSize[1];s[0]=this.origin[0]+i*l,s[2]=this.origin[0]+(i+1)*l,s[3]=this.origin[1]-t*n,s[1]=this.origin[1]-(t+1)*n}convertExtentToRadians(e,i){this._isWebMercator?(i[0]=h(e[0]),i[1]=c(e[1]),i[2]=h(e[2]),i[3]=c(e[3])):this._isGCS&&(i[0]=t(e[0]),i[1]=t(e[1]),i[2]=t(e[2]),i[3]=t(e[3]))}getExtentGeometry(e,t,i,s=new l){return this.getExtent(e,t,i,v),s.spatialReference=this.spatialReference,s.xmin=v[0],s.ymin=v[1],s.xmax=v[2],s.ymax=v[3],s.zmin=void 0,s.zmax=void 0,s}ensureMaxLod(e){if(null==e)return!1;let t=!1;for(;this.levels.length<=e;){const{resolution:e,scale:i}=this.levels[this.levels.length-1],s=e/2*this.pixelSize;this.levels.push({resolution:e/2,scale:i/2,tileSize:[s,s]}),t=!0}return t}capMaxLod(e){this.levels.length>e+1&&(this.levels.length=e+1)}getMaxLod(){return this.levels.length-1}scaleAtLevel(e){return this.levels[0].scale/2**e}levelAtScale(e){const t=this.levels[0].scale;return e>=t?0:Math.log(t/e)*Math.LOG2E}resolutionAtLevel(e){return this.levels[0].resolution/2**e}compatibleWith(e,t=1/0){if(f.checkUnsupported(e))return!1;const s=new f(e);if(!s.spatialReference.equals(this.spatialReference))return!1;if(s.pixelSize!==this.pixelSize)return!1;const r=Math.min(this.levels.length-1,s.levels.length-1,t),l=this.levels[r].resolution;let n=.5*l;if(!i(s.origin[0],this.origin[0],n)||!i(s.origin[1],this.origin[1],n))return!1;return n=.5*l/2**r/this.pixelSize*g,i(l,s.levels[r].resolution,n)}rootTilesInExtent(e,t=null,i=1/0){const s=new Array,r=this.levels[0].tileSize;if(null==e||0===r[0]||0===r[1])return s;f.computeRowColExtent(e,r,this.origin,v);let l=v[1],n=v[3],o=v[0],a=v[2];const h=a-o,c=n-l;if(h*c>i){const e=Math.floor(Math.sqrt(i));c>e&&(l=l+Math.floor(.5*c)-Math.floor(.5*e),n=l+e),h>e&&(o=o+Math.floor(.5*h)-Math.floor(.5*e),a=o+e)}for(let m=l;m<n;m++)for(let e=o;e<a;e++)s.push([0,m,e]);return null!=t&&(t[0]=this.origin[0]+o*r[0],t[1]=this.origin[1]-n*r[1],t[2]=this.origin[0]+a*r[0],t[3]=this.origin[1]-l*r[1]),s}static computeRowColExtent(e,t,i,s){const r=.001*(e[2]-e[0]+(e[3]-e[1]));s[0]=Math.max(0,Math.floor((e[0]+r-i[0])/t[0])),s[2]=Math.max(0,Math.ceil((e[2]-r-i[0])/t[0])),s[1]=Math.max(0,Math.floor((i[1]-e[3]+r)/t[1])),s[3]=Math.max(0,Math.ceil((i[1]-e[1]-r)/t[1]))}static isPowerOfTwo(e){const t=e.lods,i=t[0].resolution*2**t[0].level;return!t.some((e=>!s(e.resolution,i/2**e.level)))}static hasGapInLevels(e){const t=e.lods.map((e=>e.level));t.sort(((e,t)=>e-t));for(let i=1;i<t.length;i++)if(t[i]!==t[0]+i)return!0;return!1}static tileSizeSupported(e){const t=e.size[1];return t===e.size[0]&&!(t&t-1)&&t>=128&&t<=512}static hasOriginPerLODs(e){const t=e.origin;return e.lods.some((e=>null!=e.origin&&(e.origin[0]!==t.x||e.origin[1]!==t.y)))}static getMissingTileInfoError(){return new e(\"tilingscheme:tile-info-missing\",\"Tiling scheme must have tiling information\")}static checkUnsupported(t){return null==t?x():t.lods.length<1?new e(\"tilingscheme:generic\",\"Tiling scheme must have at least one level\"):f.isPowerOfTwo(t)?f.hasGapInLevels(t)?new e(\"tilingscheme:gaps\",\"Tiling scheme levels must not have gaps between min and max level\"):f.tileSizeSupported(t)?f.hasOriginPerLODs(t)?new e(\"tilingscheme:multiple-origin\",\"Tiling scheme levels must not have their own origin\"):null:new e(\"tilingscheme:tile-size\",\"Tiles must be square and size must be one of [128, 256, 512]\"):new e(\"tilingscheme:power-of-two\",\"Tiling scheme must be power of two\")}static fromExtent(e,t){const i=e[2]-e[0],s=e[3]-e[1],l=r(t),n=1.2*Math.max(i,s),o=256,a=n/o,h=a*l*(96/.0254),c=new f(new u({size:[o,o],origin:new p({x:e[0]-.5*(n-i),y:e[3]+.5*(n-s)}),lods:[new m({level:0,resolution:a,scale:h})],spatialReference:t}));return c.ensureMaxLod(20),c}static makeWebMercatorAuxiliarySphere(e){const t=new f(f.WebMercatorAuxiliarySphereTileInfo);return t.ensureMaxLod(e),t}static makeGCSWithTileSize(e,t=256,i=16){const s=256/t,r=new f(new u({size:[t,t],origin:new p({x:-180,y:90,spatialReference:e}),spatialReference:e,lods:[new m({level:0,resolution:.703125*s,scale:295497598.570834*s})]}));return r.ensureMaxLod(i),r}get test(){}}function x(){return new e(\"tilingscheme:tile-info-missing\",\"Tiling scheme must have tiling information\")}f.WebMercatorAuxiliarySphereTileInfo=new u({size:[256,256],origin:new p({x:-20037508.342787,y:20037508.342787,spatialReference:n.WebMercator}),spatialReference:n.WebMercator,lods:[new m({level:0,resolution:156543.03392800014,scale:591657527.591555})]}),f.WebMercatorAuxiliarySphere=f.makeWebMercatorAuxiliarySphere(19);const v=o();export{f as TilingScheme,x as getMissingTileInfoError};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{clampFloat32 as e,numberMaxFloat32 as t}from\"../../../core/mathUtils.js\";import{create as o}from\"../../../geometry/support/aaBoundingRect.js\";import{TilingScheme as r}from\"./TilingScheme.js\";const s=64,a=512,i=2.5,l=e(t/10),n=2,m=o();r.WebMercatorAuxiliarySphere.getExtent(0,0,0,m);const c=o([-180,-90,180,90]),u=\"Cannot extend surface to encompass all layers because it would result in too many root tiles.\",p=\"Surface extent is too large for tile resolution at level 0.\",f=4;export{l as elevationNoDataValue,c as geographicWorldExtent,i as maxMemoryLodBias,a as maxPatchTesselation,s as maxRootTiles,f as maxTileNeighborLevelDelta,n as progressiveLoadingModulo,u as tooManyRootTilesAfterChangeError,p as tooManyRootTilesForLayerError,m as webMercatorWorldExtent};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nvar T;!function(T){T[T.NORTH=0]=\"NORTH\",T[T.NORTH_EAST=1]=\"NORTH_EAST\",T[T.EAST=2]=\"EAST\",T[T.SOUTH_EAST=3]=\"SOUTH_EAST\",T[T.SOUTH=4]=\"SOUTH\",T[T.SOUTH_WEST=5]=\"SOUTH_WEST\",T[T.WEST=6]=\"WEST\",T[T.NORTH_WEST=7]=\"NORTH_WEST\"}(T||(T={}));export{T as NeighborIndex};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isMars as r,isMoon as t,isWGS84 as e,isCGCS2000 as n}from\"../../../geometry/support/spatialReferenceUtils.js\";function o(e){return i(e)||r(e)||t(e)}function i(r){return e(r)||n(r)}export{i as isSupportedEarthGCS,o as isSupportedGCSOnGlobe};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{c as t,d as o,f as n,g as r,h as i}from\"./vec32.js\";import{create as s}from\"../core/libs/gl-matrix-2/factories/vec3f64.js\";import{containsPoint as l,containsPointWithMargin as a,fromExtent as c,create as u}from\"../geometry/support/aaBoundingRect.js\";import{isSupportedEarthGCS as f}from\"../views/3d/support/supportedSpatialReference.js\";import{maxRootTiles as m}from\"../views/3d/terrain/TerrainConst.js\";import{getMissingTileInfoError as p,TilingScheme as h}from\"../views/3d/terrain/TilingScheme.js\";const g=s(),d=s(),x=s(),M=s();function S(e,t,o=0){const n=e.extent;if(null==n)return!1;if(0===o)return l(n,t);const r=Math.min(n[2]-n[0],n[3]-n[1]);return a(n,t,o*r)}function v(e,s,l,a){t(g,l),g[a]=s[a];const c=o(g,g,s),u=o(d,e,s),f=n(u,c),m=n(c,c);let p;p=f<=0?s:m<=f?l:r(g,s,i(c,c,f/m));const h=o(g,e,p);return Math.PI/2-Math.atan(h[2]/Math.sqrt(h[0]*h[0]+h[1]*h[1]))}function w(e,t,o){const n=e.extent;if(null==n)return 0;x[0]=n[0],x[1]=n[1],x[2]=o,M[0]=n[2],M[1]=n[3],M[2]=o;let r=1/0,i=1/0;return t[0]<x[0]?r=v(t,x,M,0):t[0]>M[0]&&(r=v(t,M,x,0)),t[1]<x[1]?i=v(t,x,M,1):t[1]>M[1]&&(i=v(t,M,x,1)),Math.min(r,i)}function T(t,o,n,r){if(null==t)return p();const i=t.spatialReference;if(i.isGeographic&&!f(i))return new e(\"tilingscheme:local-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in local scenes\");const s=h.checkUnsupported(t);if(null!=s)return s;if(null==n)return new e(\"tilingscheme:extent-not-exist\",\"The layer does not provide a layer extent.\");const l=j(t,n);return l||(null==o||i.equals(o)||o.isWGS84&&i.isWebMercator?null:new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the local scene\"))}function j(t,o){const n=t.lods,r=n[0].resolution*2**n[0].level,i=[r*t.size[0],r*t.size[1]],s=[t.origin.x,t.origin.y],l=c(o),a=u();h.computeRowColExtent(l,i,s,a);const f=(a[2]-a[0])*(a[3]-a[1]);if(f>m){const o=n[0].scale*2**n[0].level;let i=Math.max((l[3]-l[1])/t.size[1],(l[2]-l[0])/t.size[0])*o/r;const s=Math.floor(Math.log(i)/Math.log(10));return i=Math.ceil(i/10**s)*10**s,new e(\"tilingscheme:too-many-root-tiles\",\"Scale of level 0 of the tiling scheme (1:\"+Math.floor(o).toLocaleString()+\") is too large for the layer's extent. Suggested scale: 1:\"+i.toLocaleString()+\".\",{level0Scale:o,suggestedLevel0Scale:i,requiredNumRootTiles:f,allowedNumRootTiles:m})}return null}const y=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:T,isInsideExtent:S,tiltToExtentEdge:w},Symbol.toStringTag,{value:\"Module\"}));export{w as a,T as c,S as i,y as t};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../core/Error.js\";import{isSupportedGCSOnGlobe as i}from\"../views/3d/support/supportedSpatialReference.js\";import{getMissingTileInfoError as t,TilingScheme as n}from\"../views/3d/terrain/TilingScheme.js\";function l(){return!0}function r(){return 0}function o(l,r,o,s){if(null==l)return t();const c=l?.lods.length-1,a=l.spatialReference;if(a.isWebMercator){if(!n.makeWebMercatorAuxiliarySphere(c).compatibleWith(l,s))return new e(\"tilingscheme:incompatible-global-web-mercator\",\"The tiling scheme is not compatible with the ArcGIS Online Web Mercator tiling scheme\")}else{if(!i(a))return new e(\"tilingscheme:global-unsupported-spatial-reference\",\"The tiling scheme spatial reference is not supported in global scenes\");if(!n.makeGCSWithTileSize(l.spatialReference,l.size[0],c).compatibleWith(l,s))return l.spatialReference.isWGS84?new e(\"tilingscheme:incompatible-global-wgs84\",\"The tiling scheme is not compatible with the ArcGIS Online WGS84 tiling scheme\"):new e(\"tilingscheme:incompatible-global\",\"The tiling scheme is not compatible with the ArcGIS Online tiling scheme\")}return null==r||l.spatialReference.equals(r)?null:new e(\"tilingscheme:spatial-reference-mismatch\",\"The tiling scheme does not match the spatial reference of the global scene\")}const s=Object.freeze(Object.defineProperty({__proto__:null,checkIfTileInfoSupportedForViewSR:o,isInsideExtent:l,tiltToExtentEdge:r},Symbol.toStringTag,{value:\"Module\"}));export{r as a,o as c,l as i,s as t};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport n from\"../../../core/Collection.js\";import{isCGCS2000 as t,isEarth as e}from\"../../../geometry/support/spatialReferenceUtils.js\";import{getTileMaxtrixSetFromActiveLayer as r}from\"../../../layers/support/layerUtils.js\";import{ViewingMode as o}from\"../../ViewingMode.js\";import{NeighborIndex as i}from\"./NeighborIndex.js\";import{isRasterTile as u,isTileTexture as l,isImageWithType as f,isVectorTile as c}from\"./TerrainData.js\";import{t as T}from\"../../../chunks/terrainUtilsPlanar.js\";import{t as a}from\"../../../chunks/terrainUtilsSpherical.js\";const s={[o.Global]:a,[o.Local]:T};function S(n,t){n||console.warn(\"Terrain: \"+t)}let E=!1,p=!1;function H(n){p=n,E=E||n}function O(n){E=n}function m(n,t){if(E&&!n){const n=(new Error).stack?.slice(5);throw console.warn(\"Terrain internal: \"+(t??\"\")+\" at \"+n),new Error(\"Assertion failed\"+(t?\": \"+t:\"\"))}}function _(n){return\"imagery-tile\"===n?.type||\"wcs\"===n?.type}function I(n){return\"imagery-tile-3d\"===n?.type}function y(n){return\"tile-3d\"===n?.type}function R(n){return\"vector-tile-3d\"===n?.type}function d(n){return\"wmts-3d\"===n?.type}function N(n){return\"elevation-3d\"===n?.type}function U(n){return\"elevation\"===n?.type}function W(n){return\"group\"===n?.type}function A(n){return n&&(y(n)||d(n)||I(n)||R(n))}function x(n){return n&&(y(n)||I(n)||R(n)||d(n))}function L(n){return x(n)||N(n)}function g(n){return u(n?.sourceLayerInfo?.data)}function h(n){return v(n?.sourceLayerInfo)||!!n?.isVTLBackground}function w(n){return l(n?.sourceLayerInfo?.data)}function j(n){const t=n?.sourceLayerInfo?.data;return f(t)||t instanceof HTMLImageElement||t instanceof HTMLCanvasElement||t instanceof ImageData}function v(n){return c(n?.data)}function C(n){return null!=n&&\"release\"in n&&n.release(),null}function b(n){return n.fetchTile&&!1!==n.hasOverriddenFetchTile}function M(n,t,e,r,o){return s[r].checkIfTileInfoSupportedForViewSR(n,e,t,o)}function V(n,t,e){let r=null,i=null;if(\"wmts\"===n?.type){const o=k(n,t,e);r=o.tileInfo,i=o.fullExtent}else{i=_(n)?n.getCompatibleFullExtent(t):n.fullExtent;const u=e===o.Local;if(_(n))r=n.getCompatibleTileInfo(t,i,u);else if(\"vector-tile\"===n?.type){r=u&&!F(t)||D.force512VTL?n.tileInfo:n.tileInfo.getCompatibleForVTL(256)}else r=n.tileInfo}const u=\"tilemapCache\"in n?n.tilemapCache?.effectiveMaxLOD:void 0;return null!=r&&null!=i&&null==M(r,i,t,e,u)?{tileInfo:r,fullExtent:i}:null}function k(t,e,o){const i=r(t);if(null!=i){if(!n.isCollection(i))return{tileInfo:i.tileInfo,fullExtent:i.fullExtent};{const n=i.find((n=>null==M(n.tileInfo,n.fullExtent,e,o)));if(n)return{tileInfo:n.tileInfo,fullExtent:n.fullExtent}}}return{tileInfo:null,fullExtent:null}}function F(n){return n.isWGS84||n.isWebMercator||t(n)||!e(n)}const D={force512VTL:!1};function G(n){return\"[\"+n[0]+\",\"+n[1]+\",\"+n[2]+\"]\"}function B(n){return\"(\"+n[0]+\",\"+n[1]+\",\"+n[2]+\")\"}function P(n,t,e=tn){return Math.abs(n-t)<e}function q(n){return n===i.NORTH_EAST?i.SOUTH_WEST:n===i.NORTH_WEST?i.SOUTH_EAST:n===i.SOUTH_WEST?i.NORTH_EAST:i.NORTH_WEST}function z(n){return n===i.NORTH?i.SOUTH:n===i.EAST?i.WEST:n===i.SOUTH?i.NORTH:i.EAST}function J(n){return n===i.NORTH_WEST||n===i.SOUTH_WEST}function K(n){return n===i.NORTH_WEST||n===i.NORTH_EAST}function Q(n){return n===i.NORTH_WEST||n===i.WEST||n===i.SOUTH_WEST}function X(n){return n===i.NORTH_EAST||n===i.EAST||n===i.SOUTH_EAST}function Y(n){return n===i.SOUTH_EAST||n===i.SOUTH||n===i.SOUTH_WEST}function Z(n){return n===i.NORTH_EAST||n===i.NORTH||n===i.NORTH_WEST}const $=[i.NORTH,i.EAST,i.SOUTH,i.WEST],nn=[i.NORTH_EAST,i.SOUTH_EAST,i.SOUTH_WEST,i.NORTH_WEST],tn=1e-5;export{P as almostEquals,M as checkIfTileInfoSupportedForView,O as enableInternalTerrainChecks,E as enableTerrainInternalChecks,H as enableTerrainWaterproofChecks,p as enableWaterproofTests,tn as eps,k as getTileInfoAndExtentFromWMTSLayer,V as getTiledLayerInfo,m as internalAssert,A as isBlendableLayerView,X as isEast,U as isElevationLayer,N as isElevationLayerView,W as isGroupLayerView,j as isImageSourceRenderInfo,I as isImageryTileLayerView,g as isImageryTileRenderInfo,x as isMapTileLayerView,Z as isNorth,K as isNorthCorner,_ as isProjectableRasterLayer,Y as isSouth,L as isSurfaceLayerView,w as isTextureTileRenderInfo,y as isTileLayerView,R as isVectorTileLayerView,v as isVectorTilePerLayerInfo,h as isVectorTileRenderInfo,d as isWMTSLayerView,Q as isWest,J as isWestCorner,G as lij2s,nn as neighborCornerIndices,$ as neighborEdgeIndices,q as oppositeCorner,z as oppositeEdge,C as releaseTerrainData,D as test,b as useFetchTileForLayer,B as v32s,F as vtlAssumes256PixelSizeAsDefault,S as weakAssert};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSome as e}from\"../../../core/arrayUtils.js\";import t from\"../../../core/Error.js\";import{throwIfAborted as a}from\"../../../core/promiseUtils.js\";import{isTiledLayer as i,isBasemap3DSupportedLayer as r,isBasemapSupportedTiledLayer as n}from\"../../../layers/support/layerUtils.js\";import{stringFromViewingMode as s,ViewingMode as l}from\"../../../views/ViewingMode.js\";import{getTileInfoAndExtentFromWMTSLayer as o,checkIfTileInfoSupportedForView as p}from\"../../../views/3d/terrain/terrainUtils.js\";import{TilingScheme as c}from\"../../../views/3d/terrain/TilingScheme.js\";import{isSpatialReferenceSupported as m}from\"../../../views/support/spatialReferenceSupport.js\";async function f(e,t={}){const{basemap:i,view:r}=e;await i.load(t),y(i),await h(i,r,t),a(t)}async function u(t,r={}){const{basemap:n,view:s}=t;a(r);const l=n.baseLayers.find((e=>\"unknown\"===e.type))?.loadError;if(null!=l)throw l;if(!s||\"spatialReferenceLocked\"in s&&!s.spatialReferenceLocked)return;if(await n.load(r),a(r),0===n.baseLayers.length)return;const o=n.baseLayers.at(0);if(!i(o))return;if(n.spatialReference){if(s.spatialReference.equals(n.spatialReference))return;w()}await o.load(r),a(r);const p=((\"supportedSpatialReferences\"in o?o.supportedSpatialReferences:null)||[\"tileInfo\"in o?o.tileInfo?.spatialReference:null]).filter(e);0!==p.length&&p.every((e=>!s.spatialReference.equals(e)))&&w()}function w(){throw new t(\"basemap-compatibility:incompatible-spatial-reference\",\"Basemap spatial reference is not compatible with the view\")}function y(e){if(0===e.baseLayers.length&&0===e.referenceLayers.length)return;const t=e.baseLayers.concat(e.referenceLayers).toArray().filter((e=>!r(e))).map((e=>b(e)));if(t.length)throw t[0]}function b(e){return new t(\"basemap-compatibility:unsupported-basemap-layer-type\",\"Unsupported basemap layer type ${operationalLayerType}\",{layer:e,operationalLayerType:e.operationalLayerType||\"unknown\"})}async function h(e,a,i){if(0===e.baseLayers.length)return;const r=e.baseLayers.at(0);if(n(r)){try{await r.load(i)}catch(s){const e=\"basemap-compatibility:unknown-error\",a=\"Unknown basemap compatibility error\",{name:i=e,message:r=a,details:n}=s;throw new t(i,r,n)}g(r,a)}}function g(e,a){const i=a.state.viewingMode;if(!i)return;let r,n;if(\"wmts\"===e?.type){const s=o(e,a.spatialReference,i);if(null==s.tileInfo)throw new t(\"basemapgalleryitem:tiling-scheme-incompatible\",\"Basemap tiling scheme is incompatible with the view\");r=s.tileInfo,n=s.fullExtent}else r=e.tileInfo,n=e.fullExtent;if(null==r)return;if(!m(r.spatialReference,i))throw new t(`basemapgalleryitem:spatial-reference-unsupported-${s(i)}`,`Basemap spatial reference is unsupported in ${s(i)} mode`);const f=\"vector-tile\"===e?.type?r.getCompatibleForVTL(256):null;if(i===l.Global){let a=p(r,n,null,i);if(a&&\"vector-tile\"===e?.type&&null!=n&&f&&!p(f,n,null,i)&&(a=null),a){const e=r.spatialReference.isWebMercator?\"web-mercator\":\"wgs84\";throw new t(`basemapgalleryitem:tiling-scheme-unsupported-${e}-global`,\"Basemap tiling scheme is unsupported in global mode\",{error:a})}}else if(c.checkUnsupported(r))throw new t(\"basemapgalleryitem:tiling-scheme-unsupported-local\",\"Basemap tiling scheme is unsupported in local mode\");const u=a.basemapTerrain?.tilingScheme;if(u&&!u.compatibleWith(r)&&(\"vector-tile\"!==e?.type||!f||!u.compatibleWith(f)))throw new t(\"basemapgalleryitem:tiling-scheme-incompatible\",\"Basemap tiling scheme is incompatible with the view\")}export{u as default2DCompatibility,f as default3DCompatibility};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import t from\"../../../core/Accessor.js\";import{IdentifiableMixin as s}from\"../../../core/Identifiable.js\";import{isAbortError as r}from\"../../../core/promiseUtils.js\";import{watch as i,whenOnce as o}from\"../../../core/reactiveUtils.js\";import{property as a}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as l}from\"../../../core/accessorSupport/decorators/subclass.js\";import{findSpatialReference as n}from\"../../../support/basemapUtils.js\";let p=class extends(s(t)){constructor(e){super(e),this.compatibilityFunction=null,this.error=null,this.state=\"loading\",this.view=null}initialize(){const e=()=>this.refresh();this.addHandles([i((()=>this.basemap?.loadStatus),e),i((()=>this.compatibilityFunction),e),i((()=>this.view&&\"basemapTerrain\"in this.view&&this.view.basemapTerrain?.tilingScheme),e),i((()=>this.view?.ready),e),i((()=>this.view?.spatialReference),e)]),this.refresh()}destroy(){this._cancelRefresh(),this.basemap=null,this.compatibilityFunction=null,this.view=null}get _spatialReferenceTask(){return n(this.view,this.basemap)}set basemap(e){e&&e.load().catch((()=>{})),this._set(\"basemap\",e)}get spatialReference(){return this._spatialReferenceTask.spatialReference}refresh(){this._cancelRefresh(),this._set(\"state\",\"loading\");const e=this.basemap?.loadStatus;if(\"loaded\"!==e&&\"failed\"!==e)return;if(!this.compatibilityFunction)return void(\"loaded\"===e?(this._set(\"state\",\"ready\"),this._set(\"error\",null)):(this._set(\"state\",\"error\"),this._set(\"error\",this.basemap.loadError)));const t=new AbortController,{signal:s}=t;this.compatibilityFunction(this,{signal:s}).then((()=>o((()=>!this._spatialReferenceTask.updating),s))).then((()=>{this._set(\"state\",\"ready\"),this._set(\"error\",null)})).catch((e=>{r(e)||(this._set(\"state\",\"error\"),this._set(\"error\",e))})),this._refreshController=t}_cancelRefresh(){this._refreshController&&(this._refreshController.abort(),this._refreshController=null)}};e([a({readOnly:!0})],p.prototype,\"_spatialReferenceTask\",null),e([a()],p.prototype,\"basemap\",null),e([a()],p.prototype,\"compatibilityFunction\",void 0),e([a({readOnly:!0})],p.prototype,\"error\",void 0),e([a({readOnly:!0})],p.prototype,\"spatialReference\",null),e([a({readOnly:!0})],p.prototype,\"state\",void 0),e([a()],p.prototype,\"view\",void 0),p=e([l(\"esri.widgets.BasemapGallery.support.BasemapGalleryItem\")],p);const h=p;export{h as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../../chunks/tslib.es6.js\";import r from\"../../../Basemap.js\";import s from\"../../../core/Accessor.js\";import e from\"../../../core/Collection.js\";import{property as t}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/Logger.js\";import\"../../../core/RandomLCG.js\";import{subclass as p}from\"../../../core/accessorSupport/decorators/subclass.js\";const a=e.ofType(r);let c=class extends s{constructor(o){super(o),this.basemaps=new a}destroy(){this.basemaps.forEach((o=>o.destroy()))}get state(){return\"ready\"}refresh(){}};o([t({type:a})],c.prototype,\"basemaps\",void 0),o([t({readOnly:!0})],c.prototype,\"state\",null),c=o([p(\"esri.widgets.BasemapGallery.support.LocalBasemapsSource\")],c);const m=c;export{m as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../../chunks/tslib.es6.js\";import a from\"../../../Basemap.js\";import e from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import r from\"../../../core/Loadable.js\";import o from\"../../../core/Logger.js\";import{EsriPromiseMixin as i}from\"../../../core/Promise.js\";import{isAbortError as l}from\"../../../core/promiseUtils.js\";import{watch as p,initial as n}from\"../../../core/reactiveUtils.js\";import{property as m}from\"../../../core/accessorSupport/decorators/property.js\";import\"../../../core/has.js\";import\"../../../core/RandomLCG.js\";import{subclass as h}from\"../../../core/accessorSupport/decorators/subclass.js\";import c from\"../../../portal/Portal.js\";import u from\"./LocalBasemapsSource.js\";const d=e.ofType(a);let y=class extends(r.LoadableMixin(i(u))){constructor(t){super(t),this._lastPortalBasemapFetchController=null,this.basemaps=new d,this.filterFunction=null,this.portal=c.getDefault(),this.query=null,this.updateBasemapsCallback=null,this.viewType=null}initialize(){this.addHandles(p((()=>[this.filterFunction,this.loadStatus,this.portal?.basemapGalleryGroupQuery,this.portal?.basemapGalleryGroupQuery3D,this.portal?.user,this.query,this.updateBasemapsCallback]),(()=>this.refresh()),n))}destroy(){this.filterFunction=null,this.portal=null,this.basemaps.forEach((t=>t.destroy()))}get state(){return\"not-loaded\"===this.loadStatus?\"not-loaded\":\"loading\"===this.loadStatus||this._lastPortalBasemapFetchController?\"loading\":\"ready\"}load(t){return this.addResolvingPromise(this.portal.load(t)),Promise.resolve(this)}async refresh(){if(\"loaded\"!==this.loadStatus)return;this._lastPortalBasemapFetchController&&(this._lastPortalBasemapFetchController.abort(),this._lastPortalBasemapFetchController=null);const t=this.portal,a=new AbortController;this._lastPortalBasemapFetchController=a,this.notifyChange(\"state\");try{const e=await t.fetchBasemaps(this._toQueryString(this.query),{signal:a.signal,include3d:\"3d\"===this.viewType||void 0});await this._updateBasemaps(e)}catch(e){if(l(e))throw e;o.getLogger(this).warn(new s(\"basemap-source:fetch-basemaps-error\",\"Could not fetch basemaps from portal.\",{error:e})),await this._updateBasemaps()}this._lastPortalBasemapFetchController=null,this.notifyChange(\"state\")}_toQueryString(t){return t&&\"string\"!=typeof t?Object.keys(t).map((a=>`${a}:${t[a]}`)).join(\" AND \"):t}async _updateBasemaps(t=[]){let a=await this._filterBasemaps(t);a=this.updateBasemapsCallback?await this.updateBasemapsCallback(a):a,this.basemaps.removeAll(),this.basemaps.addMany(a)}async _filterBasemaps(t){if(!this.filterFunction)return t;const a=t.map(this.filterFunction),e=await Promise.all(a);return t.filter(((t,a)=>e[a]))}};t([m({readOnly:!0,type:d})],y.prototype,\"basemaps\",void 0),t([m()],y.prototype,\"filterFunction\",void 0),t([m({type:c})],y.prototype,\"portal\",void 0),t([m()],y.prototype,\"query\",void 0),t([m({readOnly:!0})],y.prototype,\"state\",null),t([m()],y.prototype,\"updateBasemapsCallback\",void 0),t([m()],y.prototype,\"viewType\",void 0),y=t([h(\"esri.widgets.BasemapGallery.support.PortalBasemapsSource\")],y);const f=y;export{f as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import t from\"../../Basemap.js\";import s from\"../../core/Collection.js\";import i from\"../../core/Loadable.js\";import{watch as a,on as r,when as o}from\"../../core/reactiveUtils.js\";import{property as n}from\"../../core/accessorSupport/decorators/property.js\";import{cast as p}from\"../../core/accessorSupport/decorators/cast.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";import{canProjectWithoutEngine as m,isLoaded as l,load as u}from\"../../geometry/projection.js\";import{equals as d}from\"../../geometry/support/spatialReferenceUtils.js\";import{isLinkChartView as h}from\"../../linkChart/utils.js\";import{contentEquals as f}from\"../../support/basemapUtils.js\";import{default3DCompatibility as y,default2DCompatibility as v}from\"./support/basemapCompatibilityUtils.js\";import b from\"./support/BasemapGalleryItem.js\";import w from\"./support/LocalBasemapsSource.js\";import g from\"./support/PortalBasemapsSource.js\";const j=s.ofType(b);function B(e){return e&&\"esri.portal.Portal\"===e.declaredClass}function _(e){return e&&!(e instanceof g)&&(!!e.portal||!!e.query)}function I(e){return e&&\"basemaps\"in e&&\"state\"in e&&\"refresh\"in e}let R=class extends i{constructor(e){super(e),this._loadingProjectionEngine=!1,this.items=new j,this.source=new g,this.view=null}initialize(){const e=()=>this._recreateItems();this.addHandles([a((()=>\"ready\"===this.state?this.compatibilityFunction:null),(()=>this._updateItems())),r((()=>this.source?.basemaps),\"change\",e,{onListenerAdd:e}),o((()=>this.view),(()=>{this.source instanceof g&&(this.source.viewType=this.view?.type)}),{once:!0})])}destroy(){const e=this.source.basemaps.find((e=>e===this.activeBasemap));e&&this.source.basemaps.remove(e),this.source?.destroy()}get activeBasemap(){return this.view?.map?.basemap??null}set activeBasemap(e){const s=this.view;if(!s?.map)return;const i=\"string\"==typeof e?t.fromId(e):e;if(!i||!s.ready)return s.map.basemap=i,void this._clearOverride(\"activeBasemap\");const a=i.spatialReference||this.items?.find((e=>this.basemapEquals(i,e.basemap)))?.spatialReference;if(a&&\"spatialReferenceLocked\"in s&&!s.spatialReferenceLocked){const t=s.spatialReference;if(null!=a&&!d(t,a)&&!m(s.spatialReference,a)&&!l())return this._override(\"activeBasemap\",i),this._loadingProjectionEngine=!0,void u().then((()=>{this._get(\"activeBasemap\")===e&&(s.map.basemap=e,s.spatialReference=a,this._clearOverride(\"activeBasemap\"))}),(()=>{})).then((()=>{this._loadingProjectionEngine=!1}));s.map.basemap=i,this._clearOverride(\"activeBasemap\"),null==a||d(s.spatialReference,a)||(s.spatialReference=a)}else s.map.basemap=i,this._clearOverride(\"activeBasemap\")}get activeBasemapIndex(){const{state:e,activeBasemap:t}=this;return\"ready\"!==e?-1:this._findBasemapIndex(t)}get compatibilityFunction(){return\"3d\"===this.view?.type?y:v}set compatibilityFunction(e){this._overrideIfSome(\"compatibilityFunction\",e)}castSource(e){return Array.isArray(e)||s.isCollection(e)?new w({basemaps:Array.isArray(e)?new s(e):e}):B(e)?new g({portal:e}):_(e)?new g(e):I(e)?e:null}get state(){return this.view?.ready&&this.source?h(this.view)&&!this.view.inGeographicLayout?\"unsupported\":this._loadingProjectionEngine?\"loading\":\"ready\":\"disabled\"}basemapEquals(e,t){return f(e,t)}refresh(){this._recreateItems()}load(){return this.loadSource()}loadSource(e){return this.addResolvingPromise(i.isLoadable(this.source)?this.source.load(e):null),Promise.resolve(this)}_findBasemapIndex(e){const{items:t}=this,s=t.findIndex((t=>t.basemap===e));return-1===s?t.findIndex((t=>this.basemapEquals(t.basemap,e))):s}_recreateItems(){const e=this.source?.basemaps??[],{view:t,compatibilityFunction:s}=this,i=new Map(this.items.map((e=>[e.basemap,e]))),a=e.map((e=>{const a=i.get(e);return a?(i.delete(e),a):new b({basemap:e,compatibilityFunction:s,view:t})}));this.items.removeAll(),this.items.addMany(a),i.forEach((e=>e.destroy()))}_updateItems(){for(const e of this.items)e.compatibilityFunction=this.compatibilityFunction,e.view=this.view}};e([n()],R.prototype,\"_loadingProjectionEngine\",void 0),e([n()],R.prototype,\"activeBasemap\",null),e([n({readOnly:!0})],R.prototype,\"activeBasemapIndex\",null),e([n()],R.prototype,\"compatibilityFunction\",null),e([n({readOnly:!0,type:j})],R.prototype,\"items\",void 0),e([n()],R.prototype,\"source\",void 0),e([p(\"source\")],R.prototype,\"castSource\",null),e([n({readOnly:!0})],R.prototype,\"state\",null),e([n()],R.prototype,\"view\",void 0),R=e([c(\"esri.widgets.BasemapGallery.BasemapGalleryViewModel\")],R);const S=R;export{S as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e=\"esri-basemap-gallery\",t={base:e,sourceLoading:`${e}--source-loading`,layoutGrid:`${e}--grid`,narrowItems:`${e}--narrow-items`,loader:`${e}__loader`,item:`${e}__item`,itemContainer:`${e}__item-container`,itemContent:`${e}__item-content`,itemTitle:`${e}__item-title`,itemTagsContainer:`${e}__item-tags-container`,itemThumbnail:`${e}__item-thumbnail`,selectedItem:`${e}__item--selected`,itemError:`${e}__item--error`};export{t as css};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import{getAssetUrl as t}from\"../assets.js\";import{when as s}from\"../core/reactiveUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/Logger.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import{getBasemapThumbnailUrl as r,isBasemap3D as o,isBasemapInBeta as l}from\"../support/basemapUtils.js\";import n from\"./Widget.js\";import d from\"./BasemapGallery/BasemapGalleryViewModel.js\";import{css as p}from\"./BasemapGallery/css.js\";import{loadCalciteComponents as m}from\"./support/componentsUtils.js\";import{globalCss as c}from\"./support/globalCss.js\";import{Heading as h}from\"./support/Heading.js\";import{accessibleHandler as u}from\"./support/decorators/accessibleHandler.js\";import{messageBundle as g}from\"./support/decorators/messageBundle.js\";import{tsx as v}from\"./support/jsxFactory.js\";import{onResize as y}from\"./support/widgetUtils.js\";const b={small:200,default:280,wide:420};let w=class extends n{constructor(e,t){super(e,t),this.disabled=!1,this.headingLevel=2,this.messages=null,this.viewModel=new d,this._focusBasemapItemEnabled=!1,this._container=null,this._width=0,this._onContainerCreated=e=>{this._container=e}}initialize(){this.addHandles([y((()=>this._container),(({contentRect:e})=>{this._width=e.width})),s((()=>this.source),(()=>this.viewModel.loadSource()),{sync:!0,initial:!0})])}loadDependencies(){return m({scrim:()=>import(\"@esri/calcite-components/dist/components/calcite-scrim.js\"),chip:()=>import(\"@esri/calcite-components/dist/components/calcite-chip.js\")})}get activeBasemap(){return this.viewModel.activeBasemap}set activeBasemap(e){this.viewModel.activeBasemap=e}get icon(){return\"basemap\"}set icon(e){this._overrideIfSome(\"icon\",e)}get label(){return this.messages?.widgetLabel??\"\"}set label(e){this._overrideIfSome(\"label\",e)}get source(){return this.viewModel.source}set source(e){this.viewModel.source=e}get view(){return this.viewModel.view}set view(e){this.viewModel.view=e}render(){const e=\"loading\"===this.source.state,t=this.disabled||\"disabled\"===this.viewModel.state,s={[p.sourceLoading]:e,[c.disabled]:t},a=this._width;a<=b.small||a>=b.wide?s[p.layoutGrid]=!0:a<b.default&&(s[p.narrowItems]=!0);const i=this._getContext();return v(\"div\",{afterCreate:this._onContainerCreated,class:this.classes(p.base,c.widget,c.panel,s),key:\"container\",styles:{\"--esri-basemap-gallery-small\":`${b.small}px`}},0===this._width?null:i)}_getContext(){if(\"unsupported\"===this.viewModel.state)return v(\"div\",{class:c.empty,key:\"empty-message\"},v(h,{level:this.headingLevel},this.messages.unsupported));if(\"loading\"===this.source.state)return v(\"div\",{class:p.loader,key:\"loader\"});const e=this.viewModel.items;return e.length>0?v(\"ul\",{\"aria-disabled\":this.disabled,\"aria-label\":this.label,bind:this,class:p.itemContainer,key:\"item-container\",onkeydown:this._handleKeyDown,role:\"radiogroup\"},e.map(((e,t)=>this._renderBasemapGalleryItem(e,t))).toArray()):v(\"div\",{class:c.empty,key:\"empty-message\"},v(h,{level:this.headingLevel},this.messages.noBasemaps))}_getRoundRobinIndex(e,t){return(e+t)%t}_handleKeyDown(e){const{key:t}=e;if(![\"ArrowUp\",\"ArrowDown\",\"ArrowRight\",\"ArrowLeft\"].includes(t))return;e.preventDefault();const{items:s,activeBasemapIndex:a}=this.viewModel,i=\"ArrowUp\"===t||\"ArrowLeft\"===t?this._getRoundRobinIndex(Math.max(a-1,-1),s.length):this._getRoundRobinIndex(a+1,s.length),r=s.at(i);\"ready\"===r?.state&&(this.viewModel.activeBasemap=r.basemap),this._focusBasemapItemEnabled=!0}_focusBasemapItem(e){this._focusBasemapItemEnabled&&0===e.tabIndex&&(e.focus(),this._focusBasemapItemEnabled=!1)}_handleClick(e){const t=e.currentTarget[\"data-item\"];\"ready\"===t.state&&(this.viewModel.activeBasemap=t.basemap)}_renderBasemapGalleryItem(e,s){const a=r(e.basemap)||t(\"esri/themes/base/images/basemap-toggle-64.svg\"),i=e.basemap.title,l=e.basemap.portalItem?.snippet,n=e.error?.message||l||i,{viewModel:{state:d,activeBasemapIndex:m}}=this,h=this.disabled||\"disabled\"===d,u=m===s,g=u||-1===m&&0===s?0:-1,y=\"loading\"===d,b={[p.selectedItem]:u,[p.itemError]:\"error\"===e.state},w=`basemapgallery-item-${e.uid}`;return v(\"li\",{afterUpdate:this._focusBasemapItem,\"aria-checked\":u.toString(),\"aria-disabled\":h.toString(),\"aria-labelledby\":w,bind:this,class:this.classes(p.item,b),\"data-item\":e,key:e.uid,onclick:this._handleClick,onkeydown:this._handleClick,role:\"radio\",tabIndex:g,title:n},v(\"img\",{alt:\"\",class:p.itemThumbnail,src:a}),v(\"div\",{class:p.itemContent,key:\"content\"},v(\"div\",{class:p.itemTitle,key:\"title\"},v(\"span\",{id:w},i)),o(e.basemap)?this._renderTags(e.basemap):null),\"loading\"===e.state||u&&y?v(\"calcite-scrim\",null,v(\"span\",{\"aria-hidden\":\"true\",class:c.loaderAnimation,key:\"loader\",role:\"presentation\"})):null)}_renderTags(e){return v(\"div\",{class:p.itemTagsContainer,key:\"tag\"},this._render3DTag(),l(e)?this._renderBetaTag():null)}_render3DTag(){const{messages:e}=this;return v(\"calcite-chip\",{key:\"tag-3d\",scale:\"s\",value:e.tag3D},this.messages.tag3D)}_renderBetaTag(){const{messages:e}=this;return v(\"calcite-chip\",{appearance:\"outline-fill\",key:\"tag-beta\",scale:\"s\",value:e.tagBeta},this.messages.tagBeta)}};e([a()],w.prototype,\"activeBasemap\",null),e([a()],w.prototype,\"disabled\",void 0),e([a()],w.prototype,\"headingLevel\",void 0),e([a()],w.prototype,\"icon\",null),e([a()],w.prototype,\"label\",null),e([a(),g(\"esri/widgets/BasemapGallery/t9n/BasemapGallery\")],w.prototype,\"messages\",void 0),e([a()],w.prototype,\"source\",null),e([a()],w.prototype,\"view\",null),e([a()],w.prototype,\"viewModel\",void 0),e([a()],w.prototype,\"_focusBasemapItemEnabled\",void 0),e([a()],w.prototype,\"_container\",void 0),e([a()],w.prototype,\"_width\",void 0),e([u()],w.prototype,\"_handleClick\",null),w=e([i(\"esri.widgets.BasemapGallery\")],w);const _=w;export{_ as default};\n"],"file":"assets/BasemapGallery-Cpa_a_my.js"}