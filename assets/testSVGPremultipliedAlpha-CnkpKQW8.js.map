{"version":3,"file":"testSVGPremultipliedAlpha-CnkpKQW8.js","sources":["../../node_modules/@arcgis/core/views/webgl/capabilities/DisjointTimerQuery.js","../../node_modules/@arcgis/core/views/webgl/WebGLDriverTestModule.js","../../node_modules/@arcgis/core/views/webgl/testSVGPremultipliedAlpha.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nclass e{constructor(e,E,t,T,r,_,i,u,n){this.createQuery=e,this.deleteQuery=E,this.resultAvailable=t,this.getResult=T,this.disjoint=r,this.beginTimeElapsed=_,this.endTimeElapsed=i,this.createTimestamp=u,this.timestampBits=n}}let E=!1;function t(t,T){if(T.disjointTimerQuery)return null;let r=t.getExtension(\"EXT_disjoint_timer_query_webgl2\");return r?new e((()=>t.createQuery()),(e=>{t.deleteQuery(e),E=!1}),(e=>t.getQueryParameter(e,t.QUERY_RESULT_AVAILABLE)),(e=>t.getQueryParameter(e,t.QUERY_RESULT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>{E||(E=!0,t.beginQuery(r.TIME_ELAPSED_EXT,e))}),(()=>{t.endQuery(r.TIME_ELAPSED_EXT),E=!1}),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>t.getQuery(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):(r=t.getExtension(\"EXT_disjoint_timer_query\"),r?new e((()=>r.createQueryEXT()),(e=>{r.deleteQueryEXT(e),E=!1}),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_AVAILABLE_EXT)),(e=>r.getQueryObjectEXT(e,r.QUERY_RESULT_EXT)),(()=>t.getParameter(r.GPU_DISJOINT_EXT)),(e=>{E||(E=!0,r.beginQueryEXT(r.TIME_ELAPSED_EXT,e))}),(()=>{r.endQueryEXT(r.TIME_ELAPSED_EXT),E=!1}),(e=>r.queryCounterEXT(e,r.TIMESTAMP_EXT)),(()=>r.getQueryEXT(r.TIMESTAMP_EXT,r.QUERY_COUNTER_BITS_EXT))):null)}export{e as DisjointTimerQuery,t as createDisjointTimerQuery,E as hasRunningElapsedTimer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{disposeMaybe as s}from\"../../core/maybe.js\";class t{constructor(){this._result=!1}dispose(){this._program=s(this._program)}get result(){return null!=this._program&&(this._result=this._test(this._program),this.dispose()),this._result}}export{t as WebGLDriverTestModule};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Pos2us as e}from\"../2d/engine/webgl/DefaultVertexAttributeLayouts.js\";import{BufferObject as r}from\"./BufferObject.js\";import{TextureWrapMode as t,TextureSamplingMode as o,Usage as n,FramebufferBit as s,PrimitiveType as i,PixelFormat as a,PixelType as p}from\"./enums.js\";import{FramebufferObject as m}from\"./FramebufferObject.js\";import{Texture as u}from\"./Texture.js\";import{TextureDescriptor as c}from\"./TextureDescriptor.js\";import{VertexArrayObject as d}from\"./VertexArrayObject.js\";import{WebGLDriverTestModule as g}from\"./WebGLDriverTestModule.js\";class f extends g{constructor(e){super(),this._rctx=e;const r=\"\\n    precision highp float;\\n\\n    attribute vec2 a_pos;\\n    varying vec2 v_uv;\\n\\n    void main() {\\n      v_uv = a_pos;\\n      gl_Position = vec4(a_pos * 2.0 - 1.0, 0.0, 1.0);\\n    }\\n    \",t=\"\\n    precision highp float;\\n\\n    varying vec2 v_uv;\\n\\n    uniform sampler2D u_texture;\\n\\n    void main() {\\n      gl_FragColor = texture2D(u_texture, v_uv);\\n    }\\n    \";this._program=e.programCache.acquire(r,t,new Map([[\"a_pos\",0]]))}dispose(){super.dispose()}_test(g){const f=this._rctx;if(!f.gl)return g.dispose(),!0;const l=new c(1);l.wrapMode=t.CLAMP_TO_EDGE,l.samplingMode=o.NEAREST;const _=new m(f,l),v=r.createVertex(f,n.STATIC_DRAW,new Uint16Array([0,0,1,0,0,1,1,1])),x=new d(f,new Map([[\"a_pos\",0]]),e,new Map([[\"geometry\",v]])),h=new c;h.samplingMode=o.LINEAR,h.wrapMode=t.CLAMP_TO_EDGE;const b=new u(f,h,w);f.useProgram(g),f.bindTexture(b,0),g.setUniform1i(\"u_texture\",0);const A=f.getBoundFramebufferObject(),{x:E,y:T,width:j,height:C}=f.getViewport();f.bindFramebuffer(_),f.setViewport(0,0,1,1),f.setClearColor(0,0,0,0),f.setBlendingEnabled(!1),f.clear(s.COLOR),f.bindVAO(x),f.drawArrays(i.TRIANGLE_STRIP,0,4);const y=new Uint8Array(4);return _.readPixels(0,0,1,1,a.RGBA,p.UNSIGNED_BYTE,y),x.dispose(),_.dispose(),b.dispose(),f.setViewport(E,T,j,C),f.bindFramebuffer(A),255!==y[0]}}const w=new Image;w.src=\"data:image/svg+xml,%3C%3Fxml version='1.0' encoding='UTF-8'%3F%3E%3Csvg width='5' height='5' version='1.1' viewBox='0 0 5 5' xmlns='http://www.w3.org/2000/svg'%3E%3Crect width='5' height='5' fill='%23f00' fill-opacity='.5'/%3E%3C/svg%3E%0A\",w.width=5,w.height=5,w.decode();export{f as SVGPremultipliedAlpha};\n"],"names":["e","E","t","T","r","_","i","u","n","s","f","g","l","c","o","m","v","x","d","h","b","w","A","j","C","y","a","p"],"mappings":"mWAIA,MAAMA,CAAC,CAAC,YAAYA,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAEC,EAAE,CAAC,KAAK,YAAYR,EAAE,KAAK,YAAYC,EAAE,KAAK,gBAAgBC,EAAE,KAAK,UAAUC,EAAE,KAAK,SAASC,EAAE,KAAK,iBAAiBC,EAAE,KAAK,eAAeC,EAAE,KAAK,gBAAgBC,EAAE,KAAK,cAAcC,CAAC,CAAC,CAAC,IAAIP,EAAE,GAAG,SAASC,EAAE,EAAEC,EAAE,CAAC,GAAGA,EAAE,mBAAmB,OAAO,KAAK,IAAIC,EAAE,EAAE,aAAa,iCAAiC,EAAE,OAAOA,EAAE,IAAIJ,EAAG,IAAI,EAAE,cAAgBA,GAAG,CAAC,EAAE,YAAYA,CAAC,EAAEC,EAAE,EAAE,EAAID,GAAG,EAAE,kBAAkBA,EAAE,EAAE,sBAAsB,EAAIA,GAAG,EAAE,kBAAkBA,EAAE,EAAE,YAAY,EAAI,IAAI,EAAE,aAAaI,EAAE,gBAAgB,EAAIJ,GAAG,CAACC,IAAIA,EAAE,GAAG,EAAE,WAAWG,EAAE,iBAAiBJ,CAAC,EAAE,EAAI,IAAI,CAAC,EAAE,SAASI,EAAE,gBAAgB,EAAEH,EAAE,EAAE,EAAID,GAAGI,EAAE,gBAAgBJ,EAAEI,EAAE,aAAa,EAAI,IAAI,EAAE,SAASA,EAAE,cAAcA,EAAE,sBAAsB,CAAG,GAAEA,EAAE,EAAE,aAAa,0BAA0B,EAAEA,EAAE,IAAIJ,EAAG,IAAII,EAAE,iBAAmBJ,GAAG,CAACI,EAAE,eAAeJ,CAAC,EAAEC,EAAE,EAAE,EAAID,GAAGI,EAAE,kBAAkBJ,EAAEI,EAAE,0BAA0B,EAAIJ,GAAGI,EAAE,kBAAkBJ,EAAEI,EAAE,gBAAgB,EAAI,IAAI,EAAE,aAAaA,EAAE,gBAAgB,EAAIJ,GAAG,CAACC,IAAIA,EAAE,GAAGG,EAAE,cAAcA,EAAE,iBAAiBJ,CAAC,EAAE,EAAI,IAAI,CAACI,EAAE,YAAYA,EAAE,gBAAgB,EAAEH,EAAE,EAAE,EAAID,GAAGI,EAAE,gBAAgBJ,EAAEI,EAAE,aAAa,EAAI,IAAIA,EAAE,YAAYA,EAAE,cAAcA,EAAE,sBAAsB,CAAG,EAAC,KAAK,CCAvoC,MAAMF,CAAC,CAAC,aAAa,CAAC,KAAK,QAAQ,EAAE,CAAC,SAAS,CAAC,KAAK,SAASO,EAAE,KAAK,QAAQ,CAAC,CAAC,IAAI,QAAQ,CAAC,OAAa,KAAK,UAAX,OAAsB,KAAK,QAAQ,KAAK,MAAM,KAAK,QAAQ,EAAE,KAAK,QAAS,GAAE,KAAK,OAAO,CAAC,CCAiU,MAAMC,UAAUC,CAAC,CAAC,YAAYX,EAAE,CAAC,MAAO,EAAC,KAAK,MAAMA,EAAE,MAAMI,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAmMF,EAAE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAAiL,KAAK,SAASF,EAAE,aAAa,QAAQI,EAAEF,EAAE,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,SAAS,CAAC,MAAM,QAAS,CAAA,CAAC,MAAMS,EAAE,CAAC,MAAMD,EAAE,KAAK,MAAM,GAAG,CAACA,EAAE,GAAG,OAAOC,EAAE,QAAS,EAAC,GAAG,MAAMC,EAAE,IAAIC,EAAE,CAAC,EAAED,EAAE,SAASV,EAAE,cAAcU,EAAE,aAAaE,EAAE,QAAQ,MAAMT,EAAE,IAAIU,EAAEL,EAAEE,CAAC,EAAEI,EAAEZ,EAAE,aAAaM,EAAEF,EAAE,YAAY,IAAI,YAAY,CAAC,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,EAAES,EAAE,IAAIC,EAAER,EAAE,IAAI,IAAI,CAAC,CAAC,QAAQ,CAAC,CAAC,CAAC,EAAEV,EAAE,IAAI,IAAI,CAAC,CAAC,WAAWgB,CAAC,CAAC,CAAC,CAAC,EAAEG,EAAE,IAAIN,EAAEM,EAAE,aAAaL,EAAE,OAAOK,EAAE,SAASjB,EAAE,cAAc,MAAMkB,EAAE,IAAIb,EAAEG,EAAES,EAAEE,CAAC,EAAEX,EAAE,WAAWC,CAAC,EAAED,EAAE,YAAYU,EAAE,CAAC,EAAET,EAAE,aAAa,YAAY,CAAC,EAAE,MAAMW,EAAEZ,EAAE,0BAA2B,EAAC,CAAC,EAAET,EAAE,EAAEE,EAAE,MAAMoB,EAAE,OAAOC,CAAC,EAAEd,EAAE,YAAW,EAAGA,EAAE,gBAAgBL,CAAC,EAAEK,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,EAAEA,EAAE,cAAc,EAAE,EAAE,EAAE,CAAC,EAAEA,EAAE,mBAAmB,EAAE,EAAEA,EAAE,MAAMD,EAAE,KAAK,EAAEC,EAAE,QAAQO,CAAC,EAAEP,EAAE,WAAWJ,EAAE,eAAe,EAAE,CAAC,EAAE,MAAMmB,EAAE,IAAI,WAAW,CAAC,EAAE,OAAOpB,EAAE,WAAW,EAAE,EAAE,EAAE,EAAEqB,EAAE,KAAKC,EAAE,cAAcF,CAAC,EAAER,EAAE,QAAO,EAAGZ,EAAE,QAAS,EAACe,EAAE,QAAO,EAAGV,EAAE,YAAYT,EAAEE,EAAEoB,EAAEC,CAAC,EAAEd,EAAE,gBAAgBY,CAAC,EAAQG,EAAE,CAAC,IAAT,GAAU,CAAC,CAAC,MAAMJ,EAAE,IAAI,MAAMA,EAAE,IAAI,kPAAkPA,EAAE,MAAM,EAAEA,EAAE,OAAO,EAAEA,EAAE,OAAQ","x_google_ignoreList":[0,1,2]}