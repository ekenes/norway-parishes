{"version":3,"file":"FeatureEffect-BsqcWUbG.js","sources":["../../node_modules/@arcgis/core/layers/support/FeatureFilter.js","../../node_modules/@arcgis/core/layers/support/FeatureEffect.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import{geometryTypes as t}from\"../../geometry.js\";import{JSONMap as i}from\"../../core/jsonMap.js\";import{JSONSupport as r}from\"../../core/JSONSupport.js\";import{clone as s}from\"../../core/lang.js\";import{property as o}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as n}from\"../../core/accessorSupport/decorators/subclass.js\";import l from\"../../rest/support/Query.js\";import a from\"../../time/TimeExtent.js\";var p;const c=new i({esriSpatialRelIntersects:\"intersects\",esriSpatialRelContains:\"contains\",esriSpatialRelCrosses:\"crosses\",esriSpatialRelDisjoint:\"disjoint\",esriSpatialRelEnvelopeIntersects:\"envelope-intersects\",esriSpatialRelIndexIntersects:\"index-intersects\",esriSpatialRelOverlaps:\"overlaps\",esriSpatialRelTouches:\"touches\",esriSpatialRelWithin:\"within\",esriSpatialRelRelation:\"relation\"}),m=new i({esriSRUnit_Meter:\"meters\",esriSRUnit_Kilometer:\"kilometers\",esriSRUnit_Foot:\"feet\",esriSRUnit_StatuteMile:\"miles\",esriSRUnit_NauticalMile:\"nautical-miles\",esriSRUnit_USNauticalMile:\"us-nautical-miles\"});let u=p=class extends r{constructor(e){super(e),this.where=null,this.geometry=null,this.spatialRelationship=\"intersects\",this.distance=void 0,this.objectIds=null,this.units=null,this.timeExtent=null}createQuery(e={}){const{where:t,geometry:i,spatialRelationship:r,timeExtent:o,objectIds:n,units:a,distance:p}=this;return new l({geometry:s(i),objectIds:s(n),spatialRelationship:r,timeExtent:s(o),where:t,units:a,distance:p,...e})}clone(){const{where:e,geometry:t,spatialRelationship:i,timeExtent:r,objectIds:o,units:n,distance:l}=this;return new p({geometry:s(t),objectIds:s(o),spatialRelationship:i,timeExtent:s(r),where:e,units:n,distance:l})}};e([o({type:String,json:{write:!0}})],u.prototype,\"where\",void 0),e([o({types:t,json:{write:!0}})],u.prototype,\"geometry\",void 0),e([o({type:c.apiValues,json:{name:\"spatialRel\",read:{reader:c.read},write:{allowNull:!1,writer:c.write,overridePolicy(){return{enabled:null!=this.geometry}}}}})],u.prototype,\"spatialRelationship\",void 0),e([o({type:Number,json:{write:{overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],u.prototype,\"distance\",void 0),e([o({type:[Number],json:{write:!0}})],u.prototype,\"objectIds\",void 0),e([o({type:m.apiValues,json:{read:m.read,write:{writer:m.write,overridePolicy(e){return{enabled:null!=e&&null!=this.geometry}}}}})],u.prototype,\"units\",void 0),e([o({type:a,json:{write:!0}})],u.prototype,\"timeExtent\",void 0),u=p=e([n(\"esri.layers.support.FeatureFilter\")],u);const d=u;export{d as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{JSONSupport as t}from\"../../core/JSONSupport.js\";import{setDeepValue as l}from\"../../core/object.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as o}from\"../../core/accessorSupport/decorators/subclass.js\";import{read as s,write as c}from\"../effects/jsonUtils.js\";import u from\"./FeatureFilter.js\";var d;const f={read:{reader:s},write:{writer:c,overridePolicy(){return{allowNull:null!=this.excludedEffect,isRequired:null==this.excludedEffect}}}},n={read:{reader:s},write:{writer:c,overridePolicy(){return{allowNull:null!=this.includedEffect,isRequired:null==this.includedEffect}}}},a={name:\"showExcludedLabels\",default:!0};let p=d=class extends t{constructor(e){super(e),this.filter=null,this.includedEffect=null,this.excludedEffect=null,this.excludedLabelsVisible=!1}write(e,t){const l=super.write(e,t);if(t?.origin){if(l.filter){const e=Object.keys(l.filter);if(e.length>1||\"where\"!==e[0])return t.messages?.push(new r(\"web-document-write:unsupported-feature-effect\",\"Invalid feature effect 'filter'. A filter can only contain a 'where' property\",{layer:t.layer,effect:this})),null}if(\"showExcludedLabels\"in l)return t.messages?.push(new r(\"web-document-write:unsupported-feature-effect\",\"Invalid value for property 'excludedLabelsVisible' which should always be 'true'\",{layer:t.layer,effect:this})),null}return l}clone(){return new d({filter:null!=this.filter?this.filter.clone():null,includedEffect:this.includedEffect,excludedEffect:this.excludedEffect,excludedLabelsVisible:this.excludedLabelsVisible})}};e([i({type:u,json:{write:{allowNull:!0,writer(e,r,t,i){const o=e?.write({},i);o&&0!==Object.keys(o).length?l(t,o,r):l(t,null,r)}}}})],p.prototype,\"filter\",void 0),e([i({json:{read:s,write:{writer:c,allowNull:!0},origins:{\"web-map\":f,\"portal-item\":f}}})],p.prototype,\"includedEffect\",void 0),e([i({json:{read:s,write:{writer:c,allowNull:!0},origins:{\"web-map\":n,\"portal-item\":n}}})],p.prototype,\"excludedEffect\",void 0),e([i({type:Boolean,json:{write:!0,name:\"showExcludedLabels\",origins:{\"web-map\":a,\"portal-item\":a}}})],p.prototype,\"excludedLabelsVisible\",void 0),p=d=e([o(\"esri.layers.support.FeatureEffect\")],p);const w=p;export{w as default};\n"],"names":["p","c","i","m","u","r","o","n","a","l","s","e","t","d","f","_a","_b","w"],"mappings":"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","x_google_ignoreList":[0,1]}