{"version":3,"file":"calcite-action-bar.entry-BYx2k0NO.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-action-bar.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-abe3b66e.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot-167e1146.js';\nimport { s as slotChangeGetAssignedElements, b as slotChangeHasAssignedElement, f as focusFirstTabbable } from './dom-b6dedd88.js';\nimport { a as setComponentLoaded, s as setUpLoadableComponent, c as componentFocusable } from './loadable-13e9ffb2.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale-60f8ca58.js';\nimport { c as createObserver } from './observers-9c166451.js';\nimport { u as updateMessages, c as connectMessages, s as setUpMessages, d as disconnectMessages } from './t9n-75defee3.js';\nimport { t as toggleChildActionText, q as queryActions, g as geActionDimensions, o as overflowActions, E as ExpandToggle, a as getOverflowCount } from './ExpandToggle-623527ca.js';\nimport { D as DEBOUNCE } from './resources-a23d2491.js';\nimport { d as debounce } from './debounce-6e4946fd.js';\nimport './guid-9c230b6a.js';\nimport './browser-618ac057.js';\nimport './key-3ee05994.js';\nimport './resources-c6ed25f3.js';\nimport './resources-fa285c14.js';\n\nconst CSS = {\n    actionGroupEnd: \"action-group--end\",\n};\nconst SLOTS = {\n    actionsEnd: \"actions-end\",\n    bottomActions: \"bottom-actions\",\n    expandTooltip: \"expand-tooltip\",\n};\n\nconst actionBarCss = \":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host{pointer-events:auto;display:inline-flex;align-self:stretch;gap:var(--calcite-action-bar-items-space, 0)}:host([layout=vertical]){flex-direction:column}:host([layout=vertical]):host([overflow-actions-disabled]){overflow-y:auto}:host([layout=vertical]):host([expanded]){max-inline-size:var(--calcite-action-bar-expanded-max-width, auto)}:host([layout=vertical]) .action-group--end{margin-block-start:auto}:host([layout=vertical]) ::slotted(calcite-action-group:not(:last-of-type)){border-block-end-width:var(--calcite-border-width-sm)}:host([layout=horizontal]){flex-direction:row}:host([layout=horizontal]):host([overflow-actions-disabled]){overflow-x:auto}:host([layout=horizontal]) .action-group--end{margin-inline-start:auto}:host([layout=horizontal]) ::slotted(calcite-action-group:not(:last-of-type)){border-inline-end-width:var(--calcite-border-width-sm)}.action-group--end{justify-content:flex-end}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteActionBarStyle0 = actionBarCss;\n\nconst ActionBar = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteActionBarToggle = createEvent(this, \"calciteActionBarToggle\", 6);\n        this.mutationObserver = createObserver(\"mutation\", () => {\n            const { el, expanded } = this;\n            toggleChildActionText({ el, expanded });\n            this.overflowActions();\n        });\n        this.resizeObserver = createObserver(\"resize\", (entries) => this.resizeHandlerEntries(entries));\n        // --------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        // --------------------------------------------------------------------------\n        this.actionMenuOpenHandler = (event) => {\n            if (event.target.menuOpen) {\n                const composedPath = event.composedPath();\n                Array.from(this.el.querySelectorAll(\"calcite-action-group\")).forEach((group) => {\n                    if (!composedPath.includes(group)) {\n                        group.menuOpen = false;\n                    }\n                });\n            }\n        };\n        this.resizeHandlerEntries = (entries) => {\n            entries.forEach(this.resizeHandler);\n        };\n        this.resizeHandler = (entry) => {\n            const { width, height } = entry.contentRect;\n            this.resize({ width, height });\n        };\n        this.resize = debounce(({ width, height }) => {\n            const { el, expanded, expandDisabled, layout, overflowActionsDisabled } = this;\n            if (overflowActionsDisabled ||\n                (layout === \"vertical\" && !height) ||\n                (layout === \"horizontal\" && !width)) {\n                return;\n            }\n            const actions = queryActions(el);\n            const actionCount = expandDisabled ? actions.length : actions.length + 1;\n            const actionGroups = Array.from(el.querySelectorAll(\"calcite-action-group\"));\n            this.setGroupLayout(actionGroups);\n            const groupCount = this.hasActionsEnd || this.hasBottomActions || !expandDisabled\n                ? actionGroups.length + 1\n                : actionGroups.length;\n            const { actionHeight, actionWidth } = geActionDimensions(actions);\n            const overflowCount = getOverflowCount({\n                layout,\n                actionCount,\n                actionHeight,\n                actionWidth,\n                height,\n                width,\n                groupCount,\n            });\n            overflowActions({\n                actionGroups,\n                expanded,\n                overflowCount,\n            });\n        }, DEBOUNCE.resize);\n        this.toggleExpand = () => {\n            this.expanded = !this.expanded;\n            this.calciteActionBarToggle.emit();\n        };\n        this.handleDefaultSlotChange = (event) => {\n            const groups = slotChangeGetAssignedElements(event).filter((el) => el.matches(\"calcite-action-group\"));\n            this.setGroupLayout(groups);\n        };\n        this.handleActionsEndSlotChange = (event) => {\n            this.hasActionsEnd = slotChangeHasAssignedElement(event);\n        };\n        this.handleBottomActionsSlotChange = (event) => {\n            this.hasBottomActions = slotChangeHasAssignedElement(event);\n        };\n        this.handleTooltipSlotChange = (event) => {\n            const tooltips = slotChangeGetAssignedElements(event).filter((el) => el?.matches(\"calcite-tooltip\"));\n            this.expandTooltip = tooltips[0];\n        };\n        this.actionsEndGroupLabel = undefined;\n        this.expandDisabled = false;\n        this.expanded = false;\n        this.layout = \"vertical\";\n        this.overflowActionsDisabled = false;\n        this.overlayPositioning = \"absolute\";\n        this.position = undefined;\n        this.scale = undefined;\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.effectiveLocale = undefined;\n        this.hasActionsEnd = false;\n        this.hasBottomActions = false;\n        this.expandTooltip = undefined;\n        this.defaultMessages = undefined;\n    }\n    expandHandler() {\n        this.overflowActions();\n    }\n    expandedHandler() {\n        const { el, expanded } = this;\n        toggleChildActionText({ el, expanded });\n        this.overflowActions();\n    }\n    layoutHandler() {\n        this.updateGroups();\n    }\n    overflowDisabledHandler(overflowActionsDisabled) {\n        if (overflowActionsDisabled) {\n            this.resizeObserver?.disconnect();\n            return;\n        }\n        this.resizeObserver?.observe(this.el);\n        this.overflowActions();\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    effectiveLocaleChange() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    componentDidLoad() {\n        const { el, expanded } = this;\n        setComponentLoaded(this);\n        toggleChildActionText({ el, expanded });\n        this.overflowActions();\n    }\n    connectedCallback() {\n        const { el, expanded } = this;\n        connectLocalized(this);\n        connectMessages(this);\n        toggleChildActionText({ el, expanded });\n        this.mutationObserver?.observe(el, { childList: true, subtree: true });\n        if (!this.overflowActionsDisabled) {\n            this.resizeObserver?.observe(el);\n        }\n        this.overflowActions();\n        connectConditionalSlotComponent(this);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        await setUpMessages(this);\n    }\n    disconnectedCallback() {\n        this.mutationObserver?.disconnect();\n        this.resizeObserver?.disconnect();\n        disconnectConditionalSlotComponent(this);\n        disconnectLocalized(this);\n        disconnectMessages(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Methods\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * Overflows actions that won't fit into menus.\n     *\n     * @internal\n     */\n    async overflowActions() {\n        this.resize({ width: this.el.clientWidth, height: this.el.clientHeight });\n    }\n    /**\n     * Sets focus on the component's first focusable element.\n     */\n    async setFocus() {\n        await componentFocusable(this);\n        focusFirstTabbable(this.el);\n    }\n    updateGroups() {\n        this.setGroupLayout(Array.from(this.el.querySelectorAll(\"calcite-action-group\")));\n    }\n    setGroupLayout(groups) {\n        groups.forEach((group) => (group.layout = this.layout));\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    renderBottomActionGroup() {\n        const { expanded, expandDisabled, el, position, toggleExpand, scale, layout, messages, actionsEndGroupLabel, overlayPositioning, } = this;\n        const expandToggleNode = !expandDisabled ? (h(ExpandToggle, { collapseLabel: messages.collapseLabel, collapseText: messages.collapse, el: el, expandLabel: messages.expandLabel, expandText: messages.expand, expanded: expanded, position: position, scale: scale, toggle: toggleExpand, tooltip: this.expandTooltip })) : null;\n        return (h(\"calcite-action-group\", { class: CSS.actionGroupEnd, hidden: this.expandDisabled && !(this.hasActionsEnd || this.hasBottomActions), label: actionsEndGroupLabel, layout: layout, overlayPositioning: overlayPositioning, scale: scale }, h(\"slot\", { name: SLOTS.actionsEnd, onSlotchange: this.handleActionsEndSlotChange }), h(\"slot\", { name: SLOTS.bottomActions, onSlotchange: this.handleBottomActionsSlotChange }), h(\"slot\", { name: SLOTS.expandTooltip, onSlotchange: this.handleTooltipSlotChange }), expandToggleNode));\n    }\n    render() {\n        return (h(Host, { key: 'ff6e365531a0ed2032864bb0777910c3932e9c6b', onCalciteActionMenuOpen: this.actionMenuOpenHandler }, h(\"slot\", { key: 'f12b2f455752a62ee32b65224bed385940135a49', onSlotchange: this.handleDefaultSlotChange }), this.renderBottomActionGroup()));\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"expandDisabled\": [\"expandHandler\"],\n        \"expanded\": [\"expandedHandler\"],\n        \"layout\": [\"layoutHandler\"],\n        \"overflowActionsDisabled\": [\"overflowDisabledHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }; }\n};\nActionBar.style = CalciteActionBarStyle0;\n\nexport { ActionBar as calcite_action_bar };\n\n//# sourceMappingURL=calcite-action-bar.entry.js.map"],"names":["CSS","SLOTS","actionBarCss","CalciteActionBarStyle0","ActionBar","hostRef","registerInstance","createEvent","createObserver","el","expanded","toggleChildActionText","entries","event","composedPath","group","entry","width","height","debounce","expandDisabled","layout","overflowActionsDisabled","actions","queryActions","actionCount","actionGroups","groupCount","actionHeight","actionWidth","geActionDimensions","overflowCount","getOverflowCount","overflowActions","DEBOUNCE","groups","slotChangeGetAssignedElements","slotChangeHasAssignedElement","tooltips","_a","_b","updateMessages","setComponentLoaded","connectLocalized","connectMessages","connectConditionalSlotComponent","setUpLoadableComponent","setUpMessages","disconnectConditionalSlotComponent","disconnectLocalized","disconnectMessages","componentFocusable","focusFirstTabbable","position","toggleExpand","scale","messages","actionsEndGroupLabel","overlayPositioning","expandToggleNode","h","ExpandToggle","Host","getElement"],"mappings":"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","x_google_ignoreList":[0]}