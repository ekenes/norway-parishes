{"version":3,"file":"calcite-handle.entry-LjPE15Ti.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-handle.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-abe3b66e.js';\nimport { t as toAriaBoolean } from './dom-b6dedd88.js';\nimport { s as setUpLoadableComponent, a as setComponentLoaded, c as componentFocusable } from './loadable-13e9ffb2.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale-60f8ca58.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages, u as updateMessages } from './t9n-75defee3.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport './guid-9c230b6a.js';\nimport './resources-a23d2491.js';\nimport './browser-618ac057.js';\nimport './key-3ee05994.js';\nimport './observers-9c166451.js';\n\nconst CSS = {\n    handle: \"handle\",\n    handleSelected: \"handle--selected\",\n};\nconst ICONS = {\n    drag: \"drag\",\n};\nconst SUBSTITUTIONS = {\n    itemLabel: \"{itemLabel}\",\n    position: \"{position}\",\n    total: \"{total}\",\n};\n\nconst handleCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}.handle{display:flex;align-items:center;justify-content:center;align-self:stretch;border-style:none;outline-color:transparent;color:var(--calcite-handle-icon-color, var(--calcite-color-border-input));background-color:var(--calcite-handle-background-color, transparent);padding-block:0.75rem;padding-inline:0.25rem;line-height:0}.handle calcite-icon{color:inherit}:host(:not([disabled])) .handle{cursor:move}:host(:not([disabled])) .handle:hover{color:var(--calcite-handle-icon-color-hover, var(--calcite-color-text-1));background-color:var(--calcite-handle-background-color-hover, var(--calcite-color-foreground-2))}:host(:not([disabled])) .handle:focus{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          );color:var(--calcite-handle-icon-color-hover, var(--calcite-color-text-1))}:host(:not([disabled])) .handle--selected{color:var(--calcite-handle-icon-color-selected, var(--calcite-color-text-1));background-color:var(--calcite-handle-background-color-selected, var(--calcite-color-foreground-3))}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteHandleStyle0 = handleCss;\n\nconst Handle = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteHandleChange = createEvent(this, \"calciteHandleChange\", 6);\n        this.calciteHandleNudge = createEvent(this, \"calciteHandleNudge\", 6);\n        this.calciteInternalAssistiveTextChange = createEvent(this, \"calciteInternalAssistiveTextChange\", 6);\n        this.handleKeyDown = (event) => {\n            if (this.disabled) {\n                return;\n            }\n            switch (event.key) {\n                case \" \":\n                    this.selected = !this.selected;\n                    this.calciteHandleChange.emit();\n                    event.preventDefault();\n                    break;\n                case \"ArrowUp\":\n                    if (!this.selected) {\n                        return;\n                    }\n                    event.preventDefault();\n                    this.calciteHandleNudge.emit({ direction: \"up\" });\n                    break;\n                case \"ArrowDown\":\n                    if (!this.selected) {\n                        return;\n                    }\n                    event.preventDefault();\n                    this.calciteHandleNudge.emit({ direction: \"down\" });\n                    break;\n            }\n        };\n        this.handleBlur = () => {\n            if (this.blurUnselectDisabled || this.disabled) {\n                return;\n            }\n            if (this.selected) {\n                this.selected = false;\n                this.calciteHandleChange.emit();\n            }\n        };\n        this.selected = false;\n        this.disabled = false;\n        this.dragHandle = undefined;\n        this.messages = undefined;\n        this.setPosition = undefined;\n        this.setSize = undefined;\n        this.label = undefined;\n        this.blurUnselectDisabled = false;\n        this.messageOverrides = undefined;\n        this.effectiveLocale = undefined;\n        this.defaultMessages = undefined;\n    }\n    handleAriaTextChange() {\n        const message = this.getAriaText(\"live\");\n        if (message) {\n            this.calciteInternalAssistiveTextChange.emit({\n                message,\n            });\n        }\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    connectedCallback() {\n        connectMessages(this);\n        connectLocalized(this);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        await setUpMessages(this);\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    disconnectedCallback() {\n        disconnectMessages(this);\n        disconnectLocalized(this);\n    }\n    effectiveLocaleChange() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Methods\n    //\n    // --------------------------------------------------------------------------\n    /** Sets focus on the component. */\n    async setFocus() {\n        await componentFocusable(this);\n        this.handleButton?.focus();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    getTooltip() {\n        const { label, messages } = this;\n        if (!messages) {\n            return \"\";\n        }\n        if (!label) {\n            return messages.dragHandleUntitled;\n        }\n        return messages.dragHandle.replace(SUBSTITUTIONS.itemLabel, label);\n    }\n    getAriaText(type) {\n        const { setPosition, setSize, label, messages, selected } = this;\n        if (!messages || !label || typeof setSize !== \"number\" || typeof setPosition !== \"number\") {\n            return null;\n        }\n        const text = type === \"label\"\n            ? selected\n                ? messages.dragHandleChange\n                : messages.dragHandleIdle\n            : selected\n                ? messages.dragHandleActive\n                : messages.dragHandleCommit;\n        const replacePosition = text.replace(SUBSTITUTIONS.position, setPosition.toString());\n        const replaceLabel = replacePosition.replace(SUBSTITUTIONS.itemLabel, label);\n        return replaceLabel.replace(SUBSTITUTIONS.total, setSize.toString());\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        return (h(InteractiveContainer, { key: '1a694de393421691c83e7265850275c217ef7ffe', disabled: this.disabled }, h(\"span\", { key: '82ff692c15c2d9294ceb814b3f7f06bb4d8ff0e0', \"aria-checked\": this.disabled ? null : toAriaBoolean(this.selected), \"aria-disabled\": this.disabled ? toAriaBoolean(this.disabled) : null, \"aria-label\": this.disabled ? null : this.getAriaText(\"label\"), class: { [CSS.handle]: true, [CSS.handleSelected]: !this.disabled && this.selected }, onBlur: this.handleBlur, onKeyDown: this.handleKeyDown, ref: (el) => {\n                this.handleButton = el;\n            },\n            // role of radio is being applied to allow space key to select in screen readers\n            role: \"radio\", tabIndex: this.disabled ? null : 0, title: this.getTooltip() }, h(\"calcite-icon\", { key: '25862a953826aea2d594507157aaffc21d07001c', icon: ICONS.drag, scale: \"s\" }))));\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"messages\": [\"handleAriaTextChange\"],\n        \"label\": [\"handleAriaTextChange\"],\n        \"selected\": [\"handleAriaTextChange\"],\n        \"setPosition\": [\"handleAriaTextChange\"],\n        \"setSize\": [\"handleAriaTextChange\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }; }\n};\nHandle.style = CalciteHandleStyle0;\n\nexport { Handle as calcite_handle };\n\n//# sourceMappingURL=calcite-handle.entry.js.map"],"names":["CSS","ICONS","SUBSTITUTIONS","handleCss","CalciteHandleStyle0","Handle","hostRef","registerInstance","createEvent","event","message","connectMessages","connectLocalized","setUpLoadableComponent","setUpMessages","setComponentLoaded","updateHostInteraction","disconnectMessages","disconnectLocalized","updateMessages","componentFocusable","_a","label","messages","type","setPosition","setSize","selected","h","InteractiveContainer","toAriaBoolean","el","getElement"],"mappings":"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","x_google_ignoreList":[0]}