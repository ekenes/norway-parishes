{"version":3,"file":"OperationalLayer-Da4YsTIo.js","sources":["../../node_modules/@arcgis/core/layers/mixins/operationalLayers.js","../../node_modules/@arcgis/core/layers/mixins/OperationalLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nconst e={ArcGISAnnotationLayer:!0,ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GeoRSS:!0,GroupLayer:!0,KML:!0,KnowledgeGraphLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,SubtypeGroupLayer:!0,VectorTileLayer:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},r={ArcGISImageServiceLayer:!0,ArcGISImageServiceVectorLayer:!0,ArcGISMapServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BingMapsAerial:!0,BingMapsHybrid:!0,BingMapsRoad:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},a={ArcGISFeatureLayer:!0,SubtypeGroupTable:!0},i={\"web-scene/operational-layers\":{ArcGISDimensionLayer:!0,ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledElevationServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,BuildingSceneLayer:!0,CatalogLayer:!0,CSV:!0,GeoJSON:!0,GroupLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,KML:!0,LineOfSightLayer:!0,MediaLayer:!0,OGCFeatureLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,RasterDataLayer:!0,VectorTileLayer:!0,ViewshedLayer:!0,Voxel:!0,WFS:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/basemap\":{ArcGISImageServiceLayer:!0,ArcGISMapServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISTiledImageServiceLayer:!0,ArcGISTiledMapServiceLayer:!0,OpenStreetMap:!0,VectorTileLayer:!0,WMS:!0,WebTiledLayer:!0},\"web-scene/ground\":{ArcGISTiledElevationServiceLayer:!0,RasterDataElevationLayer:!0},\"web-scene/tables\":{ArcGISFeatureLayer:!0},\"web-map/operational-layers\":e,\"web-map/basemap\":r,\"web-map/tables\":a,\"link-chart/operational-layers\":{...e,LinkChartLayer:!0},\"link-chart/basemap\":r,\"link-chart/tables\":a,\"portal-item/operational-layers\":{ArcGISFeatureLayer:!0,ArcGISImageServiceLayer:!0,ArcGISSceneServiceLayer:!0,ArcGISStreamLayer:!0,ArcGISTiledImageServiceLayer:!0,BuildingSceneLayer:!0,IntegratedMesh3DTilesLayer:!0,IntegratedMeshLayer:!0,MediaLayer:!0,OrientedImageryLayer:!0,PointCloudLayer:!0,SubtypeGroupLayer:!0}};export{i as supportedTypes};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../chunks/tslib.es6.js\";import r from\"../../core/Error.js\";import{isBlobProtocol as t}from\"../../core/urlUtils.js\";import{property as i}from\"../../core/accessorSupport/decorators/property.js\";import{Integer as o,Null as s}from\"../../core/accessorSupport/ensureType.js\";import\"../../core/RandomLCG.js\";import\"../../core/has.js\";import{reader as n}from\"../../core/accessorSupport/decorators/reader.js\";import{subclass as a}from\"../../core/accessorSupport/decorators/subclass.js\";import{writer as p}from\"../../core/accessorSupport/decorators/writer.js\";import{excludeTables as l}from\"../../core/accessorSupport/layerContainerType.js\";import{readLoadable as y}from\"../../core/accessorSupport/read.js\";import{willPropertyWrite as m}from\"../../core/accessorSupport/write.js\";import{supportedTypes as c}from\"./operationalLayers.js\";import{listMode as d,opacity as u}from\"../support/commonProperties.js\";import w from\"../../time/TimeExtent.js\";const b=b=>{let T=class extends b{constructor(){super(...arguments),this.persistenceEnabled=!0,this.title=null}readId(e,r,t){return\"Group Layer\"===t?.portalItem?.type?void 0:e}writeListMode(e,r,t,i){(i&&\"ground\"===i.layerContainerType||e&&m(this,t,{},i))&&(r[t]=e)}writeOperationalLayerType(e,r,t,i){e&&\"tables\"!==i?.layerContainerType&&(r.layerType=e)}writeTitle(e,r){r.title=e??\"Layer\"}readTimeExtent(e){return e?w.fromArray(e):null}writeTimeExtent(e,t,i,o){e&&\"tables\"!==o.layerContainerType&&(e.isEmpty?o?.messages&&o.messages.push(new r(\"layer:invalid-visibilityTimeExtent\",\"visibilityTimeExtent cannot be empty\")):t[i]=e.toArray())}read(e,r){r&&(r.layer=this),y(this,e,(r=>super.read(e,r)),r)}write(e,i){if(!this.persistenceEnabled&&!i?.ignorePersistenceEnabled)return null;if(i?.origin){const e=`${i.origin}/${i.layerContainerType||\"operational-layers\"}`,t=c[e];let o=!!t?.[this.operationalLayerType];if(\"ArcGISTiledElevationServiceLayer\"===this.operationalLayerType&&\"web-scene/operational-layers\"===e&&(o=!1),\"ArcGISDimensionLayer\"===this.operationalLayerType&&\"web-map/operational-layers\"===e&&(o=!1),!o)return i.messages?.push(new r(\"layer:unsupported\",`Layers (${this.title}, ${this.id}) of type '${this.declaredClass}' are not supported in the context of '${e}'`,{layer:this})),null}const o=super.write(e,{...i,layer:this}),s=!!i&&!!i.messages&&!!i.messages.filter((e=>e instanceof r&&\"web-document-write:property-required\"===e.name)).length;return t(o?.url)?(i?.messages?.push(new r(\"layer:invalid-url\",`Layer (${this.title}, ${this.id}) of type '${this.declaredClass}' using a Blob URL cannot be written to web scenes and web maps`,{layer:this})),null):!this.url&&s?null:o}beforeSave(){}};return e([i({type:String,json:{write:{ignoreOrigin:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0}},\"portal-item\":{write:!1}}}})],T.prototype,\"id\",void 0),e([n(\"id\",[\"id\"])],T.prototype,\"readId\",null),e([i(d)],T.prototype,\"listMode\",void 0),e([p(\"listMode\")],T.prototype,\"writeListMode\",null),e([i({type:String,readOnly:!0,json:{read:!1,write:{target:\"layerType\",ignoreOrigin:!0},origins:{\"portal-item\":{write:!1},\"web-scene\":{name:\"layerType\",read:!1,write:{enabled:!0,ignoreOrigin:!0,layerContainerTypes:l}}}}})],T.prototype,\"operationalLayerType\",void 0),e([p(\"operationalLayerType\")],T.prototype,\"writeOperationalLayerType\",null),e([i(u)],T.prototype,\"opacity\",void 0),e([i({type:Boolean,readOnly:!1})],T.prototype,\"persistenceEnabled\",void 0),e([i({type:String,json:{write:{ignoreOrigin:!0,writerEnsuresNonNull:!0},origins:{\"web-scene\":{write:{isRequired:!0,ignoreOrigin:!0,writerEnsuresNonNull:!0}},\"portal-item\":{write:!1}}},value:\"Layer\"})],T.prototype,\"title\",void 0),e([p(\"title\"),p([\"web-scene\"],\"title\")],T.prototype,\"writeTitle\",null),e([i({type:w,json:{origins:{\"web-scene\":{write:{layerContainerTypes:l}}}}})],T.prototype,\"visibilityTimeExtent\",void 0),e([n(\"visibilityTimeExtent\")],T.prototype,\"readTimeExtent\",null),e([p([\"portal-item\",\"web-map\",\"web-scene\"],\"visibilityTimeExtent\",{visibilityTimeExtent:{type:[[o,s]]}})],T.prototype,\"writeTimeExtent\",null),e([i({type:Boolean,json:{origins:{\"web-scene\":{name:\"visibility\",write:{enabled:!0,layerContainerTypes:l}}},name:\"visibility\",write:!0}})],T.prototype,\"visible\",void 0),T=e([a(\"esri.layers.mixins.OperationalLayer\")],T),T};function T(e){return\"operationalLayerType\"in e}export{b as OperationalLayer,T as isOperationalLayer};\n"],"names":["e","r","a","i","b","T","t","_a","m","w","o","y","c","s","n","d","p","l","u"],"mappings":"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","x_google_ignoreList":[0,1]}