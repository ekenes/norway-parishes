{"version":3,"file":"t9n-75defee3-C5gYEskH.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/t9n-75defee3.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { a as getAssetPath } from './index-abe3b66e.js';\nimport { g as getSupportedLocale } from './locale-60f8ca58.js';\nimport { i as isBrowser } from './browser-618ac057.js';\n\nconst componentLangToMessageBundleCache = {};\nasync function getMessageBundle(lang, component) {\n    const key = `${component}_${lang}`;\n    if (componentLangToMessageBundleCache[key]) {\n        return componentLangToMessageBundleCache[key];\n    }\n    componentLangToMessageBundleCache[key] = fetch(getAssetPath(`./assets/${component}/t9n/messages_${lang}.json`))\n        .then((resp) => {\n        if (!resp.ok) {\n            throwMessageFetchError();\n        }\n        return resp.json();\n    })\n        .catch(() => throwMessageFetchError());\n    return componentLangToMessageBundleCache[key];\n}\nfunction throwMessageFetchError() {\n    throw new Error(\"could not fetch component message bundle\");\n}\nfunction mergeMessages(component) {\n    component.messages = {\n        ...component.defaultMessages,\n        ...component.messageOverrides,\n    };\n}\nfunction noop() {\n    // intentionally empty\n}\n/**\n * This utility sets up the messages used by the component. It should be awaited in the `componentWillLoad` lifecycle hook.\n *\n * @param component\n */\nasync function setUpMessages(component) {\n    component.defaultMessages = await fetchMessages(component, component.effectiveLocale);\n    mergeMessages(component);\n}\nasync function fetchMessages(component, lang) {\n    if (!isBrowser()) {\n        return {};\n    }\n    const { el } = component;\n    const tag = el.tagName.toLowerCase();\n    const componentName = tag.replace(\"calcite-\", \"\");\n    return getMessageBundle(getSupportedLocale(lang, \"t9n\"), componentName);\n}\n/**\n * This utility must be set up for the component to update its default message bundle if the locale changes.\n *\n * It can be set up in **either** of the following ways:\n *\n * 1. called from `LocalizedComponent`'s `onLocaleChange` method or\n * 2. called from a watcher configured to watch `LocalizedComponent`'s `effectiveLocale` prop\n *\n * @param component\n * @param lang\n */\nasync function updateMessages(component, lang) {\n    component.defaultMessages = await fetchMessages(component, lang);\n    mergeMessages(component);\n}\n/**\n * This utility sets up internals for messages support.\n *\n * It needs to be called in `connectedCallback`\n *\n * **Note**: this must be called after `LocalizedComponent`'s `connectLocalized` method.\n *\n * @param component\n */\nfunction connectMessages(component) {\n    component.onMessagesChange = defaultOnMessagesChange;\n}\n/**\n * This utility tears down internals for messages support.\n *\n * It needs to be called in `disconnectedCallback`\n *\n * @param component\n */\nfunction disconnectMessages(component) {\n    // we set this to noop to for watchers triggered when components are disconnected\n    component.onMessagesChange = noop;\n}\nfunction defaultOnMessagesChange() {\n    mergeMessages(this);\n}\n\nexport { connectMessages as c, disconnectMessages as d, setUpMessages as s, updateMessages as u };\n\n//# sourceMappingURL=t9n-75defee3.js.map"],"names":["componentLangToMessageBundleCache","getMessageBundle","lang","component","key","getAssetPath","resp","throwMessageFetchError","mergeMessages","noop","setUpMessages","fetchMessages","isBrowser","el","componentName","getSupportedLocale","updateMessages","connectMessages","defaultOnMessagesChange","disconnectMessages"],"mappings":"iGAAA;AAAA;AAAA;AAAA;AAAA,GASA,MAAMA,EAAoC,CAAE,EAC5C,eAAeC,EAAiBC,EAAMC,EAAW,CAC7C,MAAMC,EAAM,GAAGD,CAAS,IAAID,CAAI,GAChC,OAAIF,EAAkCI,CAAG,IAGzCJ,EAAkCI,CAAG,EAAI,MAAMC,EAAa,YAAYF,CAAS,iBAAiBD,CAAI,OAAO,CAAC,EACzG,KAAMI,IACFA,EAAK,IACNC,EAAwB,EAErBD,EAAK,KAAM,EACrB,EACI,MAAM,IAAMC,GAAwB,GAClCP,EAAkCI,CAAG,CAChD,CACA,SAASG,GAAyB,CAC9B,MAAM,IAAI,MAAM,0CAA0C,CAC9D,CACA,SAASC,EAAcL,EAAW,CAC9BA,EAAU,SAAW,CACjB,GAAGA,EAAU,gBACb,GAAGA,EAAU,gBAChB,CACL,CACA,SAASM,GAAO,CAEhB,CAMA,eAAeC,EAAcP,EAAW,CACpCA,EAAU,gBAAkB,MAAMQ,EAAcR,EAAWA,EAAU,eAAe,EACpFK,EAAcL,CAAS,CAC3B,CACA,eAAeQ,EAAcR,EAAWD,EAAM,CAC1C,GAAI,CAACU,EAAS,EACV,MAAO,CAAE,EAEb,KAAM,CAAE,GAAAC,CAAE,EAAKV,EAETW,EADMD,EAAG,QAAQ,YAAa,EACV,QAAQ,WAAY,EAAE,EAChD,OAAOZ,EAAiBc,EAAmBb,EAAM,KAAK,EAAGY,CAAa,CAC1E,CAYA,eAAeE,EAAeb,EAAWD,EAAM,CAC3CC,EAAU,gBAAkB,MAAMQ,EAAcR,EAAWD,CAAI,EAC/DM,EAAcL,CAAS,CAC3B,CAUA,SAASc,EAAgBd,EAAW,CAChCA,EAAU,iBAAmBe,CACjC,CAQA,SAASC,EAAmBhB,EAAW,CAEnCA,EAAU,iBAAmBM,CACjC,CACA,SAASS,GAA0B,CAC/BV,EAAc,IAAI,CACtB","x_google_ignoreList":[0]}