{"version":3,"file":"imageryUtils-nUvRlgH2.js","sources":["../../node_modules/@arcgis/core/layers/save/imageryUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as t}from\"./utils.js\";import{getWGS84ExtentForItem as r,removeTypeKeyword as a,typeKeyword as i,toggleTypeKeyword as s}from\"../../portal/support/portalItemUtils.js\";const l=\"Image Service\",y=\"imagery-layer-save\",n=\"imagery-layer-save-as\",o=\"imagery-tile-layer-save\",m=\"imagery-tile-layer-save-as\";function c(e){if(\"imagery\"===e.type)return{isValid:!0};const{raster:t}=e,r=\"Function\"===t?.datasetFormat?t.primaryRasters?.rasters[0]:t;return{isValid:\"RasterTileServer\"===r?.datasetFormat&&(\"Raster\"===r.tileType||\"Map\"===r.tileType),errorMessage:\"imagery tile layer should be created from a tiled image service.\"}}function p(e){const t=e.layerJSON;return Promise.resolve(t&&Object.keys(t).length?t:null)}async function u(e,t){const{parsedUrl:l,title:y,fullExtent:n}=e;t.url=l.path,t.title||=y;try{t.extent=await r(n)}catch{t.extent=void 0}a(t,i.METADATA),s(t,i.TILED_IMAGERY,\"imagery-tile\"===e.type)}async function g(t,r){const a=\"imagery\"===t.type?y:o;return e({layer:t,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:a},r)}async function v(e,r,a){const i=\"imagery\"===e.type?n:m;return t({layer:e,itemType:l,validateLayer:c,createItemData:p,errorNamePrefix:i,newItem:r,setItemProperties:u},a)}export{g as save,v as saveAs};\n"],"names":["l","y","n","o","m","c","e","t","r","_a","p","u","a","i","s","g","v"],"mappings":"mSAI6L,MAAMA,EAAE,gBAAgBC,EAAE,qBAAqBC,EAAE,wBAAwBC,EAAE,0BAA0BC,EAAE,6BAA6B,SAASC,EAAEC,EAAE,OAAC,GAAeA,EAAE,OAAd,UAAmB,MAAM,CAAC,QAAQ,EAAE,EAAE,KAAK,CAAC,OAAOC,CAAC,EAAED,EAAEE,GAAeD,GAAA,YAAAA,EAAG,iBAAhB,YAA8BE,EAAAF,EAAE,iBAAF,YAAAE,EAAkB,QAAQ,GAAGF,EAAE,MAAM,CAAC,SAA6BC,GAAA,YAAAA,EAAG,iBAAxB,qBAAmDA,EAAE,WAAb,UAA+BA,EAAE,WAAV,OAAoB,aAAa,kEAAkE,CAAC,CAAC,SAASE,EAAEJ,EAAE,CAAC,MAAMC,EAAED,EAAE,UAAU,OAAO,QAAQ,QAAQC,GAAG,OAAO,KAAKA,CAAC,EAAE,OAAOA,EAAE,IAAI,CAAC,CAAC,eAAeI,EAAEL,EAAEC,EAAE,CAAC,KAAK,CAAC,UAAUP,EAAE,MAAMC,EAAE,WAAWC,CAAC,EAAEI,EAAEC,EAAE,IAAIP,EAAE,KAAKO,EAAE,QAAFA,EAAE,MAAQN,GAAE,GAAG,CAACM,EAAE,OAAO,MAAMC,EAAEN,CAAC,CAAC,MAAM,CAACK,EAAE,OAAO,MAAM,CAACK,EAAEL,EAAEM,EAAE,QAAQ,EAAEC,EAAEP,EAAEM,EAAE,cAA+BP,EAAE,OAAnB,cAAuB,CAAC,CAAC,eAAeS,EAAER,EAAEC,EAAE,CAAC,MAAM,EAAcD,EAAE,OAAd,UAAmBN,EAAEE,EAAE,OAAOG,EAAE,CAAC,MAAMC,EAAE,SAASP,EAAE,cAAcK,EAAE,eAAeK,EAAE,gBAAgB,CAAC,EAAEF,CAAC,CAAC,CAAC,eAAeQ,EAAEV,EAAEE,EAAE,EAAE,CAAC,MAAMK,EAAcP,EAAE,OAAd,UAAmBJ,EAAEE,EAAE,OAAOG,EAAE,CAAC,MAAMD,EAAE,SAASN,EAAE,cAAcK,EAAE,eAAeK,EAAE,gBAAgBG,EAAE,QAAQL,EAAE,kBAAkBG,CAAC,EAAE,CAAC,CAAC","x_google_ignoreList":[0]}