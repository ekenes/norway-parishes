{"version":3,"file":"calcite-combobox_3.entry-s39iMJ8_.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-combobox_3.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { h, r as registerInstance, c as createEvent, H as Host, g as getElement } from './index-abe3b66e.js';\nimport { c as calciteSize48 } from './core-1f5dba8b.js';\nimport { f as filter, e as escapeRegExp } from './filter-ec7b1a9c.js';\nimport { C as nodeListToArray, E as getElementWidth, F as getTextWidth, t as toAriaBoolean, e as getSlotted } from './dom-b6dedd88.js';\nimport { d as defaultMenuPlacement, f as filterValidFlipPlacements, c as connectFloatingUI, r as reposition, a as disconnectFloatingUI, F as FloatingCSS } from './floating-ui-382f6e89.js';\nimport { s as submitForm, c as connectForm, a as afterConnectDefaultValueSet, d as disconnectForm, H as HiddenFormInputSlot } from './form-8ec29459.js';\nimport { g as guid } from './guid-9c230b6a.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport { c as connectLabel, d as disconnectLabel, g as getLabelText } from './label-043ae25a.js';\nimport { b as componentLoaded, c as componentFocusable, s as setUpLoadableComponent, a as setComponentLoaded } from './loadable-13e9ffb2.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale-60f8ca58.js';\nimport { c as createObserver } from './observers-9c166451.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent-4d1d6536.js';\nimport { D as DEBOUNCE } from './resources-a23d2491.js';\nimport { c as connectMessages, s as setUpMessages, d as disconnectMessages, u as updateMessages } from './t9n-75defee3.js';\nimport { g as getIconScale, c as componentOnReady } from './component-5f0a8be8.js';\nimport { V as Validation } from './Validation-c59cb4eb.js';\nimport { i as isBrowser } from './browser-618ac057.js';\nimport { d as debounce } from './debounce-6e4946fd.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot-167e1146.js';\nimport './key-3ee05994.js';\n\nconst CSS$3 = {\n    button: \"x-button\",\n};\nconst XButton = ({ disabled, key, label, scale, }) => (h(\"button\", { \"aria-label\": label, class: CSS$3.button, disabled: disabled, key: key, tabIndex: -1, type: \"button\" },\n    h(\"calcite-icon\", { icon: \"x\", scale: getIconScale(scale) })));\n\nconst ComboboxItem$1 = \"CALCITE-COMBOBOX-ITEM\";\nconst ComboboxItemGroup$1 = \"CALCITE-COMBOBOX-ITEM-GROUP\";\nconst ComboboxChildSelector = `${ComboboxItem$1}, ${ComboboxItemGroup$1}`;\nconst CSS$2 = {\n    input: \"input\",\n    inputHidden: \"input--hidden\",\n    chipInvisible: \"chip--invisible\",\n    selectionDisplayFit: \"selection-display-fit\",\n    selectionDisplaySingle: \"selection-display-single\",\n    listContainer: \"list-container\",\n    icon: \"icon\",\n    placeholderIcon: \"placeholder-icon\",\n    selectedIcon: \"selected-icon\",\n};\nconst IDS = {\n    validationMessage: \"comboboxValidationMessage\",\n};\n\nfunction getAncestors(element) {\n    const parent = element.parentElement?.closest(ComboboxChildSelector);\n    const grandparent = parent?.parentElement?.closest(ComboboxChildSelector);\n    return [parent, grandparent].filter((el) => el);\n}\nfunction getItemAncestors(item) {\n    return (item.ancestors?.filter((el) => el.nodeName === \"CALCITE-COMBOBOX-ITEM\") || []);\n}\nfunction getItemChildren(item) {\n    return nodeListToArray(item.querySelectorAll(\"calcite-combobox-item\"));\n}\nfunction hasActiveChildren(node) {\n    const items = nodeListToArray(node.querySelectorAll(\"calcite-combobox-item\"));\n    return items.filter((item) => item.selected).length > 0;\n}\nfunction getDepth(element) {\n    if (!isBrowser()) {\n        return 0;\n    }\n    const result = document.evaluate(\"ancestor::calcite-combobox-item | ancestor::calcite-combobox-item-group\", element, null, XPathResult.UNORDERED_NODE_SNAPSHOT_TYPE, null);\n    return result.snapshotLength;\n}\nfunction isSingleLike(selectionMode) {\n    return selectionMode.includes(\"single\");\n}\nfunction getLabel(item) {\n    return item.shortHeading || item.textLabel;\n}\n\nconst comboboxCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{position:relative;display:block}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]) .x-button{inline-size:1rem;block-size:1rem}:host([scale=m]) .x-button{inline-size:1.5rem;block-size:1.5rem}:host([scale=l]) .x-button{inline-size:2rem;block-size:2rem}.x-button{margin:0px;display:flex;cursor:pointer;appearance:none;align-content:center;align-items:center;justify-content:center;align-self:center;border-width:2px;background-color:transparent;color:var(--calcite-color-text-3);outline-color:transparent;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;border-radius:50%;border-color:transparent;background-color:var(--calcite-color-foreground-2)}.x-button:active,.x-button:hover{color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-3)}.x-button:active{border-style:solid;border-color:var(--calcite-color-brand)}.x-button calcite-icon{color:inherit}:host([scale=s]){font-size:var(--calcite-font-size--2);--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.25rem - 1px)}:host([scale=s]) .x-button{margin-inline:0.5rem}:host([scale=m]){font-size:var(--calcite-font-size--1);--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-input-height:1rem;--calcite-internal-combobox-input-margin-block:calc(0.5rem - 1px)}:host([scale=m]) .x-button{margin-inline-end:0.75rem}:host([scale=l]){font-size:var(--calcite-font-size-0);--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-input-height:1.5rem;--calcite-internal-combobox-input-margin-block:calc(0.625rem - 1px)}:host([scale=l]) .x-button{margin-inline-end:1rem}.wrapper{display:flex;border-width:1px;border-style:solid;border-color:var(--calcite-color-border-input);background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-1);outline-color:transparent;padding-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.wrapper:hover .icon{color:var(--calcite-color-text-1)}:host(:focus-within) .wrapper,.wrapper--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}:host([read-only]) .wrapper{background-color:var(--calcite-color-background)}:host([read-only]) .label{font-weight:var(--calcite-font-weight-medium)}:host([status=invalid]) .wrapper{border-color:var(--calcite-color-status-danger)}:host([status=invalid]:focus-within) .wrapper{outline:2px solid var(--calcite-color-status-danger);outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}.wrapper--single{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l);cursor:pointer;flex-wrap:nowrap}.grid-input{position:relative;display:flex;flex-grow:1;flex-wrap:wrap;align-items:center;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;gap:var(--calcite-combobox-item-spacing-unit-s);margin-inline-end:var(--calcite-combobox-item-spacing-unit-s)}.grid-input.selection-display-fit,.grid-input.selection-display-single{flex-wrap:nowrap;overflow:hidden}.input{flex-grow:1;appearance:none;overflow:hidden;text-overflow:ellipsis;border-style:none;background-color:transparent;padding:0px;font-family:inherit;color:var(--calcite-color-text-1);font-size:inherit;block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height);inline-size:100%;margin-block-end:var(--calcite-combobox-item-spacing-unit-s);min-inline-size:4.8125rem}.input:focus{outline:2px solid transparent;outline-offset:2px}.input:placeholder-shown{text-overflow:ellipsis}.input--single{padding:0px;margin-block:var(--calcite-internal-combobox-input-margin-block)}.wrapper--active .input-single{cursor:text}.input--hidden{pointer-events:none;inline-size:0px;min-inline-size:0px;opacity:0}.input--icon{padding-block:0;padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.placeholder-icon{color:var(--calcite-color-text-3)}.input-wrap{display:flex;flex-grow:1;align-items:center}.input-wrap--single{flex:1 1 0%;overflow:hidden}.label{pointer-events:none;max-inline-size:100%;flex:1 1 auto;overflow:hidden;text-overflow:ellipsis;white-space:nowrap;padding:0px;font-weight:var(--calcite-font-weight-normal);block-size:var(--calcite-combobox-input-height);line-height:var(--calcite-combobox-input-height)}.label--icon{padding-inline:var(--calcite-combobox-item-spacing-unit-l)}.icon-end,.icon-start{display:flex;cursor:pointer;align-items:center}.icon-end{flex:none}.icon-end .icon{color:var(--calcite-color-text-3)}.floating-ui-container{--calcite-floating-ui-z-index:var(--calcite-z-index-dropdown);display:block;position:absolute;z-index:var(--calcite-floating-ui-z-index);visibility:hidden}.floating-ui-container .calcite-floating-ui-anim{position:relative;transition:var(--calcite-floating-ui-transition);transition-property:inset, left, opacity;opacity:0;box-shadow:0 0 16px 0 rgba(0, 0, 0, 0.16);z-index:var(--calcite-z-index);border-radius:0.25rem}.floating-ui-container[data-placement^=bottom] .calcite-floating-ui-anim{inset-block-start:-5px}.floating-ui-container[data-placement^=top] .calcite-floating-ui-anim{inset-block-start:5px}.floating-ui-container[data-placement^=left] .calcite-floating-ui-anim{left:5px}.floating-ui-container[data-placement^=right] .calcite-floating-ui-anim{left:-5px}.floating-ui-container[data-placement] .calcite-floating-ui-anim--active{opacity:1;inset-block:0;left:0}.floating-ui-container--active{visibility:visible}@media (forced-colors: active){.wrapper,.floating-ui-container--active{border:1px solid canvasText}}.screen-readers-only{position:absolute;inline-size:1px;block-size:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0, 0, 0, 0);white-space:nowrap;border-width:0}.list-container{max-block-size:45vh;overflow-y:auto;background-color:var(--calcite-color-foreground-1);inline-size:var(--calcite-dropdown-width, 100%)}.list{margin:0px;display:block;padding:0px}.list--hide{block-size:0px;overflow:hidden}calcite-chip{--calcite-animation-timing:0}.chip{margin-block:calc(var(--calcite-combobox-item-spacing-unit-s) / 4);max-inline-size:100%}.chip--active{background-color:var(--calcite-color-foreground-3)}.chip--invisible{visibility:hidden;position:absolute}.item{display:block}.validation-container{display:flex;flex-direction:column;align-items:flex-start;align-self:stretch}:host([scale=m]) .validation-container,:host([scale=l]) .validation-container{padding-block-start:0.5rem}:host([scale=s]) .validation-container{padding-block-start:0.25rem}::slotted(input[slot=hidden-form-input]){margin:0 !important;opacity:0 !important;outline:none !important;padding:0 !important;position:absolute !important;inset:0 !important;transform:none !important;-webkit-appearance:none !important;z-index:-1 !important}:host([hidden]){display:none}[hidden]{display:none}::slotted(calcite-combobox-item-group:not(:first-child)){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}\";\nconst CalciteComboboxStyle0 = comboboxCss;\n\nconst isGroup = (el) => el.tagName === ComboboxItemGroup$1;\nconst itemUidPrefix = \"combobox-item-\";\nconst chipUidPrefix = \"combobox-chip-\";\nconst labelUidPrefix = \"combobox-label-\";\nconst listboxUidPrefix = \"combobox-listbox-\";\nconst inputUidPrefix = \"combobox-input-\";\nconst Combobox = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteComboboxChange = createEvent(this, \"calciteComboboxChange\", 6);\n        this.calciteComboboxFilterChange = createEvent(this, \"calciteComboboxFilterChange\", 6);\n        this.calciteComboboxChipClose = createEvent(this, \"calciteComboboxChipClose\", 6);\n        this.calciteComboboxBeforeClose = createEvent(this, \"calciteComboboxBeforeClose\", 6);\n        this.calciteComboboxClose = createEvent(this, \"calciteComboboxClose\", 6);\n        this.calciteComboboxBeforeOpen = createEvent(this, \"calciteComboboxBeforeOpen\", 6);\n        this.calciteComboboxOpen = createEvent(this, \"calciteComboboxOpen\", 6);\n        this.placement = defaultMenuPlacement;\n        this.internalValueChangeFlag = false;\n        this.textInput = null;\n        this.mutationObserver = createObserver(\"mutation\", () => this.updateItems());\n        this.resizeObserver = createObserver(\"resize\", () => {\n            this.setMaxScrollerHeight();\n            this.refreshSelectionDisplay();\n        });\n        this.guid = guid();\n        this.inputHeight = 0;\n        this.ignoreSelectedEventsFlag = false;\n        this.openTransitionProp = \"opacity\";\n        this.setFilteredPlacements = () => {\n            const { el, flipPlacements } = this;\n            this.filteredFlipPlacements = flipPlacements\n                ? filterValidFlipPlacements(flipPlacements, el)\n                : null;\n        };\n        this.getValue = () => {\n            const items = this.selectedItems.map((item) => item?.value?.toString());\n            return items?.length ? (items.length > 1 ? items : items[0]) : \"\";\n        };\n        this.onLabelClick = () => {\n            this.setFocus();\n        };\n        this.keyDownHandler = (event) => {\n            if (this.readOnly) {\n                return;\n            }\n            const { key } = event;\n            switch (key) {\n                case \"Tab\":\n                    this.activeChipIndex = -1;\n                    this.activeItemIndex = -1;\n                    if (this.allowCustomValues && this.filterText) {\n                        this.addCustomChip(this.filterText, true);\n                        event.preventDefault();\n                    }\n                    else if (this.open) {\n                        this.open = false;\n                        event.preventDefault();\n                    }\n                    else if (!this.allowCustomValues && this.filterText) {\n                        this.clearInputValue();\n                        this.filterItems(\"\");\n                        this.updateActiveItemIndex(-1);\n                    }\n                    break;\n                case \"ArrowLeft\":\n                    if (this.activeChipIndex !== -1 || this.textInput.selectionStart === 0) {\n                        this.previousChip();\n                        event.preventDefault();\n                    }\n                    break;\n                case \"ArrowRight\":\n                    if (this.activeChipIndex !== -1) {\n                        this.nextChip();\n                        event.preventDefault();\n                    }\n                    break;\n                case \"ArrowUp\":\n                    if (this.filteredItems.length) {\n                        event.preventDefault();\n                        if (this.open) {\n                            this.shiftActiveItemIndex(-1);\n                        }\n                        if (!this.comboboxInViewport()) {\n                            this.el.scrollIntoView();\n                        }\n                    }\n                    break;\n                case \"ArrowDown\":\n                    if (this.filteredItems.length) {\n                        event.preventDefault();\n                        if (this.open) {\n                            this.shiftActiveItemIndex(1);\n                        }\n                        else {\n                            this.open = true;\n                            this.ensureRecentSelectedItemIsActive();\n                        }\n                        if (!this.comboboxInViewport()) {\n                            this.el.scrollIntoView();\n                        }\n                    }\n                    break;\n                case \" \":\n                    if (!this.textInput.value && !event.defaultPrevented) {\n                        if (!this.open) {\n                            this.open = true;\n                            this.shiftActiveItemIndex(1);\n                        }\n                        event.preventDefault();\n                    }\n                    break;\n                case \"Home\":\n                    if (!this.open) {\n                        return;\n                    }\n                    event.preventDefault();\n                    this.updateActiveItemIndex(0);\n                    this.scrollToActiveItem();\n                    if (!this.comboboxInViewport()) {\n                        this.el.scrollIntoView();\n                    }\n                    break;\n                case \"End\":\n                    if (!this.open) {\n                        return;\n                    }\n                    event.preventDefault();\n                    this.updateActiveItemIndex(this.filteredItems.length - 1);\n                    this.scrollToActiveItem();\n                    if (!this.comboboxInViewport()) {\n                        this.el.scrollIntoView();\n                    }\n                    break;\n                case \"Escape\":\n                    if (!this.clearDisabled && !this.open) {\n                        this.clearValue();\n                    }\n                    this.open = false;\n                    event.preventDefault();\n                    break;\n                case \"Enter\":\n                    if (this.open && this.activeItemIndex > -1) {\n                        const item = this.filteredItems[this.activeItemIndex];\n                        this.toggleSelection(item, !item.selected);\n                        event.preventDefault();\n                    }\n                    else if (this.activeChipIndex > -1) {\n                        this.removeActiveChip();\n                        event.preventDefault();\n                    }\n                    else if (this.allowCustomValues && this.filterText) {\n                        this.addCustomChip(this.filterText, true);\n                        event.preventDefault();\n                    }\n                    else if (!event.defaultPrevented) {\n                        if (submitForm(this)) {\n                            event.preventDefault();\n                        }\n                    }\n                    break;\n                case \"Delete\":\n                case \"Backspace\": {\n                    const notDeletable = this.selectionDisplay === \"single\" ||\n                        (this.selectionDisplay === \"fit\" && this.selectedHiddenChipsCount > 0);\n                    if (notDeletable) {\n                        return;\n                    }\n                    if (this.activeChipIndex > -1) {\n                        event.preventDefault();\n                        this.removeActiveChip();\n                    }\n                    else if (!this.filterText && this.isMulti()) {\n                        event.preventDefault();\n                        this.removeLastChip();\n                    }\n                    break;\n                }\n            }\n        };\n        this.setMaxScrollerHeight = async () => {\n            const { listContainerEl, open, referenceEl } = this;\n            if (!listContainerEl || !open) {\n                return;\n            }\n            await this.reposition(true);\n            const maxScrollerHeight = this.getMaxScrollerHeight();\n            listContainerEl.style.maxHeight = maxScrollerHeight > 0 ? `${maxScrollerHeight}px` : \"\";\n            listContainerEl.style.minWidth = `${referenceEl.clientWidth}px`;\n            await this.reposition(true);\n        };\n        this.calciteChipCloseHandler = (comboboxItem) => {\n            this.open = false;\n            const selection = this.items.find((item) => item === comboboxItem);\n            if (selection) {\n                this.toggleSelection(selection, false);\n            }\n            this.calciteComboboxChipClose.emit();\n        };\n        this.clickHandler = (event) => {\n            if (this.readOnly) {\n                return;\n            }\n            const composedPath = event.composedPath();\n            if (composedPath.some((node) => node.tagName === \"CALCITE-CHIP\")) {\n                this.open = false;\n                event.preventDefault();\n                return;\n            }\n            if (composedPath.some((node) => node.classList?.contains(CSS$3.button))) {\n                this.clearValue();\n                event.preventDefault();\n                return;\n            }\n            this.open = !this.open;\n            this.ensureRecentSelectedItemIsActive();\n        };\n        this.refreshSelectionDisplay = async () => {\n            await componentLoaded(this);\n            if (isSingleLike(this.selectionMode)) {\n                return;\n            }\n            if (!this.textInput) {\n                return;\n            }\n            const { allSelectedIndicatorChipEl, chipContainerEl, selectionDisplay, placeholder, selectedIndicatorChipEl, textInput, } = this;\n            const chipContainerElGap = parseInt(getComputedStyle(chipContainerEl).gap.replace(\"px\", \"\"));\n            const chipContainerElWidth = getElementWidth(chipContainerEl);\n            const { fontSize, fontFamily } = getComputedStyle(textInput);\n            const inputTextWidth = getTextWidth(placeholder, `${fontSize} ${fontFamily}`);\n            const inputWidth = (inputTextWidth || parseInt(calciteSize48)) + chipContainerElGap;\n            const allSelectedIndicatorChipElWidth = getElementWidth(allSelectedIndicatorChipEl);\n            const selectedIndicatorChipElWidth = getElementWidth(selectedIndicatorChipEl);\n            const largestSelectedIndicatorChipWidth = Math.max(allSelectedIndicatorChipElWidth, selectedIndicatorChipElWidth);\n            this.setCompactSelectionDisplay({\n                chipContainerElGap,\n                chipContainerElWidth,\n                inputWidth,\n                largestSelectedIndicatorChipWidth,\n            });\n            if (selectionDisplay === \"fit\") {\n                const chipEls = Array.from(this.el.shadowRoot.querySelectorAll(\"calcite-chip\")).filter((chipEl) => chipEl.closable);\n                const availableHorizontalChipElSpace = Math.round(chipContainerElWidth -\n                    ((this.selectedHiddenChipsCount > 0 ? selectedIndicatorChipElWidth : 0) +\n                        chipContainerElGap +\n                        inputWidth +\n                        chipContainerElGap));\n                this.refreshChipDisplay({ availableHorizontalChipElSpace, chipContainerElGap, chipEls });\n                this.setVisibleAndHiddenChips(chipEls);\n            }\n        };\n        this.setFloatingEl = (el) => {\n            this.floatingEl = el;\n            connectFloatingUI(this, this.referenceEl, this.floatingEl);\n        };\n        this.setContainerEl = (el) => {\n            this.resizeObserver.observe(el);\n            this.listContainerEl = el;\n            this.transitionEl = el;\n        };\n        this.setChipContainerEl = (el) => {\n            this.resizeObserver.observe(el);\n            this.chipContainerEl = el;\n        };\n        this.setReferenceEl = (el) => {\n            this.referenceEl = el;\n            connectFloatingUI(this, this.referenceEl, this.floatingEl);\n        };\n        this.setAllSelectedIndicatorChipEl = (el) => {\n            this.allSelectedIndicatorChipEl = el;\n        };\n        this.setSelectedIndicatorChipEl = (el) => {\n            this.selectedIndicatorChipEl = el;\n        };\n        this.inputHandler = (event) => {\n            const value = event.target.value;\n            this.filterText = value;\n        };\n        this.filterItems = (() => {\n            const find = (item, filteredData) => item &&\n                filteredData.some(({ label, value }) => isGroup(item) ? label === item.label : value === item.value && label === item.textLabel);\n            return debounce((text, setOpenToEmptyState = false, emit = true) => {\n                const filteredData = filter(this.data, text);\n                const itemsAndGroups = this.getItemsAndGroups();\n                const matchAll = text === \"\";\n                itemsAndGroups.forEach((item) => {\n                    if (matchAll) {\n                        item.hidden = false;\n                        return;\n                    }\n                    const hidden = !find(item, filteredData);\n                    item.hidden = hidden;\n                    const [parent, grandparent] = item.ancestors;\n                    if (find(parent, filteredData) || find(grandparent, filteredData)) {\n                        item.hidden = false;\n                    }\n                    if (!hidden) {\n                        item.ancestors.forEach((ancestor) => (ancestor.hidden = false));\n                    }\n                });\n                this.filterTextMatchPattern =\n                    this.filterText && new RegExp(`(${escapeRegExp(this.filterText)})`, \"i\");\n                this.filteredItems = this.getFilteredItems();\n                this.filteredItems.forEach((item) => {\n                    item.filterTextMatchPattern = this.filterTextMatchPattern;\n                });\n                if (setOpenToEmptyState) {\n                    this.open = this.filterText.trim().length > 0 && this.filteredItems.length > 0;\n                }\n                if (emit) {\n                    this.calciteComboboxFilterChange.emit();\n                }\n            }, DEBOUNCE.filter);\n        })();\n        this.internalComboboxChangeEvent = () => {\n            this.calciteComboboxChange.emit();\n        };\n        this.emitComboboxChange = debounce(this.internalComboboxChangeEvent, 0);\n        this.getSelectedItems = () => {\n            if (!this.isMulti()) {\n                const match = this.items.find(({ selected }) => selected);\n                return match ? [match] : [];\n            }\n            return (this.items\n                .filter((item) => item.selected && (this.selectionMode !== \"ancestors\" || !hasActiveChildren(item)))\n                /** Preserve order of entered tags */\n                .sort((a, b) => {\n                const aIdx = this.selectedItems.indexOf(a);\n                const bIdx = this.selectedItems.indexOf(b);\n                if (aIdx > -1 && bIdx > -1) {\n                    return aIdx - bIdx;\n                }\n                return bIdx - aIdx;\n            }));\n        };\n        this.updateItems = () => {\n            this.items = this.getItems();\n            this.groupItems = this.getGroupItems();\n            this.data = this.getData();\n            this.selectedItems = this.getSelectedItems();\n            this.filteredItems = this.getFilteredItems();\n            this.needsIcon = this.getNeedsIcon();\n            this.items.forEach((item) => {\n                item.selectionMode = this.selectionMode;\n                item.scale = this.scale;\n            });\n            if (!this.allowCustomValues) {\n                this.setMaxScrollerHeight();\n            }\n            this.groupItems.forEach((groupItem, index, items) => {\n                if (index === 0) {\n                    groupItem.afterEmptyGroup = false;\n                }\n                const nextGroupItem = items[index + 1];\n                if (nextGroupItem) {\n                    nextGroupItem.afterEmptyGroup = groupItem.children.length === 0;\n                }\n            });\n        };\n        this.scrollToActiveItem = () => {\n            const activeItem = this.filteredItems[this.activeItemIndex];\n            if (!activeItem) {\n                return;\n            }\n            const height = this.calculateScrollerHeight(activeItem);\n            const { offsetHeight, scrollTop } = this.listContainerEl;\n            if (offsetHeight + scrollTop < activeItem.offsetTop + height) {\n                this.listContainerEl.scrollTop = activeItem.offsetTop - offsetHeight + height;\n            }\n            else if (activeItem.offsetTop < scrollTop) {\n                this.listContainerEl.scrollTop = activeItem.offsetTop;\n            }\n        };\n        this.comboboxFocusHandler = () => {\n            if (this.disabled) {\n                return;\n            }\n            this.textInput?.focus();\n        };\n        this.clearDisabled = false;\n        this.filterText = \"\";\n        this.selectionDisplay = \"all\";\n        this.open = false;\n        this.disabled = false;\n        this.form = undefined;\n        this.label = undefined;\n        this.placeholder = undefined;\n        this.placeholderIcon = undefined;\n        this.placeholderIconFlipRtl = false;\n        this.maxItems = 0;\n        this.validationMessage = undefined;\n        this.validationIcon = undefined;\n        this.validity = {\n            valid: false,\n            badInput: false,\n            customError: false,\n            patternMismatch: false,\n            rangeOverflow: false,\n            rangeUnderflow: false,\n            stepMismatch: false,\n            tooLong: false,\n            tooShort: false,\n            typeMismatch: false,\n            valueMissing: false,\n        };\n        this.name = undefined;\n        this.allowCustomValues = undefined;\n        this.overlayPositioning = \"absolute\";\n        this.required = false;\n        this.selectionMode = \"multiple\";\n        this.scale = \"m\";\n        this.status = \"idle\";\n        this.value = null;\n        this.flipPlacements = undefined;\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.selectedItems = [];\n        this.filteredItems = [];\n        this.readOnly = false;\n        this.items = [];\n        this.groupItems = [];\n        this.needsIcon = undefined;\n        this.activeItemIndex = -1;\n        this.activeChipIndex = -1;\n        this.activeDescendant = \"\";\n        this.compactSelectionDisplay = false;\n        this.selectedHiddenChipsCount = 0;\n        this.selectedVisibleChipsCount = 0;\n        this.effectiveLocale = undefined;\n        this.defaultMessages = undefined;\n    }\n    filterTextChange(value) {\n        this.updateActiveItemIndex(-1);\n        this.filterItems(value, true);\n    }\n    openHandler() {\n        onToggleOpenCloseComponent(this);\n        if (this.disabled) {\n            this.open = false;\n            return;\n        }\n        this.setMaxScrollerHeight();\n    }\n    handleDisabledChange(value) {\n        if (!value) {\n            this.open = false;\n        }\n    }\n    maxItemsHandler() {\n        this.setMaxScrollerHeight();\n    }\n    overlayPositioningHandler() {\n        this.reposition(true);\n    }\n    handlePropsChange() {\n        this.updateItems();\n    }\n    valueHandler(value) {\n        if (!this.internalValueChangeFlag) {\n            const items = this.getItems();\n            if (Array.isArray(value)) {\n                items.forEach((item) => (item.selected = value.includes(item.value)));\n            }\n            else if (value) {\n                items.forEach((item) => (item.selected = value === item.value));\n            }\n            else {\n                items.forEach((item) => (item.selected = false));\n            }\n            this.updateItems();\n        }\n    }\n    onMessagesChange() {\n        /*  wired up by t9n util */\n    }\n    flipPlacementsHandler() {\n        this.setFilteredPlacements();\n        this.reposition(true);\n    }\n    selectedItemsHandler() {\n        this.internalValueChangeFlag = true;\n        this.value = this.getValue();\n        this.internalValueChangeFlag = false;\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    async documentClickHandler(event) {\n        if (this.disabled || event.composedPath().includes(this.el)) {\n            return;\n        }\n        await componentOnReady(this.el);\n        if (!this.allowCustomValues && this.filterText) {\n            this.clearInputValue();\n            this.filterItems(\"\");\n            this.updateActiveItemIndex(-1);\n        }\n        if (this.allowCustomValues && this.filterText.trim().length) {\n            this.addCustomChip(this.filterText);\n        }\n        this.open = false;\n    }\n    calciteComboboxItemChangeHandler(event) {\n        if (this.ignoreSelectedEventsFlag) {\n            return;\n        }\n        const target = event.target;\n        const newIndex = this.filteredItems.indexOf(target);\n        this.updateActiveItemIndex(newIndex);\n        this.toggleSelection(target, target.selected);\n    }\n    calciteInternalComboboxItemChangeHandler(event) {\n        event.stopPropagation();\n        this.updateItems();\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * Updates the position of the component.\n     *\n     * @param delayed Reposition the component after a delay\n     * @returns Promise\n     */\n    async reposition(delayed = false) {\n        const { floatingEl, referenceEl, placement, overlayPositioning, filteredFlipPlacements } = this;\n        return reposition(this, {\n            floatingEl,\n            referenceEl,\n            overlayPositioning,\n            placement,\n            flipPlacements: filteredFlipPlacements,\n            type: \"menu\",\n        }, delayed);\n    }\n    /** Sets focus on the component. */\n    async setFocus() {\n        await componentFocusable(this);\n        this.textInput?.focus();\n        this.activeChipIndex = -1;\n        this.activeItemIndex = -1;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        connectLocalized(this);\n        connectMessages(this);\n        connectLabel(this);\n        connectForm(this);\n        this.internalValueChangeFlag = true;\n        this.value = this.getValue();\n        this.internalValueChangeFlag = false;\n        this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n        this.updateItems();\n        this.setFilteredPlacements();\n        if (this.open) {\n            this.openHandler();\n            onToggleOpenCloseComponent(this);\n        }\n        connectFloatingUI(this, this.referenceEl, this.floatingEl);\n    }\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        this.updateItems();\n        await setUpMessages(this);\n        this.filterItems(this.filterText, false, false);\n    }\n    componentDidLoad() {\n        afterConnectDefaultValueSet(this, this.getValue());\n        connectFloatingUI(this, this.referenceEl, this.floatingEl);\n        setComponentLoaded(this);\n    }\n    componentDidRender() {\n        if (this.el.offsetHeight !== this.inputHeight) {\n            this.reposition(true);\n            this.inputHeight = this.el.offsetHeight;\n        }\n        updateHostInteraction(this);\n    }\n    componentDidUpdate() {\n        this.refreshSelectionDisplay();\n    }\n    disconnectedCallback() {\n        this.mutationObserver?.disconnect();\n        this.resizeObserver?.disconnect();\n        disconnectLabel(this);\n        disconnectForm(this);\n        disconnectFloatingUI(this, this.referenceEl, this.floatingEl);\n        disconnectLocalized(this);\n        disconnectMessages(this);\n    }\n    effectiveLocaleChange() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    clearValue() {\n        this.ignoreSelectedEventsFlag = true;\n        this.items.forEach((el) => (el.selected = false));\n        this.ignoreSelectedEventsFlag = false;\n        this.selectedItems = [];\n        this.emitComboboxChange();\n        this.open = false;\n        this.updateActiveItemIndex(-1);\n        this.resetText();\n        this.filterItems(\"\");\n        this.setFocus();\n    }\n    clearInputValue() {\n        this.textInput.value = \"\";\n        this.filterText = \"\";\n    }\n    comboboxInViewport() {\n        const bounding = this.el.getBoundingClientRect();\n        return (bounding.top >= 0 &&\n            bounding.left >= 0 &&\n            bounding.right <= (window.innerWidth || document.documentElement.clientWidth) &&\n            bounding.bottom <= (window.innerHeight || document.documentElement.clientHeight));\n    }\n    onBeforeOpen() {\n        this.scrollToActiveItem();\n        this.calciteComboboxBeforeOpen.emit();\n    }\n    onOpen() {\n        this.calciteComboboxOpen.emit();\n    }\n    onBeforeClose() {\n        this.calciteComboboxBeforeClose.emit();\n    }\n    onClose() {\n        this.calciteComboboxClose.emit();\n    }\n    ensureRecentSelectedItemIsActive() {\n        const { selectedItems } = this;\n        const targetIndex = selectedItems.length === 0 ? 0 : this.items.indexOf(selectedItems[selectedItems.length - 1]);\n        this.updateActiveItemIndex(targetIndex);\n    }\n    hideChip(chipEl) {\n        chipEl.classList.add(CSS$2.chipInvisible);\n    }\n    showChip(chipEl) {\n        chipEl.classList.remove(CSS$2.chipInvisible);\n    }\n    refreshChipDisplay({ chipEls, availableHorizontalChipElSpace, chipContainerElGap, }) {\n        chipEls.forEach((chipEl) => {\n            if (!chipEl.selected) {\n                this.hideChip(chipEl);\n            }\n            else {\n                const chipElWidth = getElementWidth(chipEl);\n                if (chipElWidth && chipElWidth < availableHorizontalChipElSpace) {\n                    availableHorizontalChipElSpace -= chipElWidth + chipContainerElGap;\n                    this.showChip(chipEl);\n                    return;\n                }\n            }\n            this.hideChip(chipEl);\n        });\n    }\n    setCompactSelectionDisplay({ chipContainerElGap, chipContainerElWidth, inputWidth, largestSelectedIndicatorChipWidth, }) {\n        const newCompactBreakpoint = Math.round(largestSelectedIndicatorChipWidth + chipContainerElGap + inputWidth);\n        if (!this.maxCompactBreakpoint || this.maxCompactBreakpoint < newCompactBreakpoint) {\n            this.maxCompactBreakpoint = newCompactBreakpoint;\n        }\n        this.compactSelectionDisplay = chipContainerElWidth < this.maxCompactBreakpoint;\n    }\n    setVisibleAndHiddenChips(chipEls) {\n        let newSelectedVisibleChipsCount = 0;\n        chipEls.forEach((chipEl) => {\n            if (chipEl.selected && !chipEl.classList.contains(CSS$2.chipInvisible)) {\n                newSelectedVisibleChipsCount++;\n            }\n        });\n        if (newSelectedVisibleChipsCount !== this.selectedVisibleChipsCount) {\n            this.selectedVisibleChipsCount = newSelectedVisibleChipsCount;\n        }\n        const newSelectedHiddenChipsCount = this.getSelectedItems().length - newSelectedVisibleChipsCount;\n        if (newSelectedHiddenChipsCount !== this.selectedHiddenChipsCount) {\n            this.selectedHiddenChipsCount = newSelectedHiddenChipsCount;\n        }\n    }\n    getMaxScrollerHeight() {\n        const items = this.getItemsAndGroups().filter((item) => !item.hidden);\n        const { maxItems } = this;\n        let itemsToProcess = 0;\n        let maxScrollerHeight = 0;\n        if (items.length > maxItems) {\n            items.forEach((item) => {\n                if (itemsToProcess < maxItems) {\n                    const height = this.calculateScrollerHeight(item);\n                    if (height > 0) {\n                        maxScrollerHeight += height;\n                        itemsToProcess++;\n                    }\n                }\n            });\n        }\n        return maxScrollerHeight;\n    }\n    calculateScrollerHeight(item) {\n        if (!item) {\n            return;\n        }\n        // if item has children items, don't count their height twice\n        const parentHeight = item.getBoundingClientRect().height;\n        const childrenTotalHeight = Array.from(item.querySelectorAll(ComboboxChildSelector)).reduce((total, child) => total + child.getBoundingClientRect().height, 0);\n        return parentHeight - childrenTotalHeight;\n    }\n    getItemsAndGroups() {\n        return [...this.groupItems, ...this.items];\n    }\n    toggleSelection(item, value) {\n        if (!item ||\n            (this.selectionMode === \"single-persist\" &&\n                item.selected &&\n                item.value === this.value &&\n                !value)) {\n            return;\n        }\n        if (this.isMulti()) {\n            item.selected = value;\n            this.updateAncestors(item);\n            this.selectedItems = this.getSelectedItems();\n            this.emitComboboxChange();\n            this.resetText();\n            this.filterItems(\"\");\n        }\n        else {\n            this.ignoreSelectedEventsFlag = true;\n            this.items.forEach((el) => (el.selected = el === item ? value : false));\n            this.ignoreSelectedEventsFlag = false;\n            this.selectedItems = this.getSelectedItems();\n            this.emitComboboxChange();\n            if (this.textInput) {\n                this.textInput.value = getLabel(item);\n            }\n            this.open = false;\n            this.updateActiveItemIndex(-1);\n            this.resetText();\n            this.filterItems(\"\");\n        }\n    }\n    updateAncestors(item) {\n        if (this.selectionMode !== \"ancestors\") {\n            return;\n        }\n        const ancestors = getItemAncestors(item);\n        const children = getItemChildren(item);\n        if (item.selected) {\n            ancestors.forEach((el) => {\n                el.selected = true;\n            });\n        }\n        else {\n            children.forEach((el) => (el.selected = false));\n            [...ancestors].forEach((el) => {\n                if (!hasActiveChildren(el)) {\n                    el.selected = false;\n                }\n            });\n        }\n    }\n    getFilteredItems() {\n        return this.filterText === \"\" ? this.items : this.items.filter((item) => !item.hidden);\n    }\n    getData() {\n        return this.items.map((item) => ({\n            description: item.description,\n            filterDisabled: item.filterDisabled,\n            label: item.textLabel,\n            metadata: item.metadata,\n            shortHeading: item.shortHeading,\n            value: item.value,\n        }));\n    }\n    getNeedsIcon() {\n        return isSingleLike(this.selectionMode) && this.items.some((item) => item.icon);\n    }\n    resetText() {\n        if (this.textInput) {\n            this.textInput.value = \"\";\n        }\n        this.filterText = \"\";\n    }\n    getItems() {\n        const items = Array.from(this.el.querySelectorAll(ComboboxItem$1));\n        return items.filter((item) => !item.disabled);\n    }\n    getGroupItems() {\n        return Array.from(this.el.querySelectorAll(ComboboxItemGroup$1));\n    }\n    addCustomChip(value, focus) {\n        const existingItem = this.items.find((el) => el.textLabel === value);\n        if (existingItem) {\n            this.toggleSelection(existingItem, true);\n        }\n        else {\n            if (!this.isMulti()) {\n                this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n            }\n            const item = document.createElement(\"calcite-combobox-item\");\n            item.value = value;\n            item.textLabel = value;\n            item.selected = true;\n            this.el.prepend(item);\n            this.resetText();\n            if (focus) {\n                this.setFocus();\n            }\n            this.updateItems();\n            this.filterItems(\"\");\n            this.open = true;\n            this.emitComboboxChange();\n        }\n    }\n    removeActiveChip() {\n        this.toggleSelection(this.selectedItems[this.activeChipIndex], false);\n        this.setFocus();\n    }\n    removeLastChip() {\n        this.toggleSelection(this.selectedItems[this.selectedItems.length - 1], false);\n        this.setFocus();\n    }\n    previousChip() {\n        const length = this.selectedItems.length - 1;\n        const active = this.activeChipIndex;\n        this.activeChipIndex = active === -1 ? length : Math.max(active - 1, 0);\n        this.updateActiveItemIndex(-1);\n        this.focusChip();\n    }\n    nextChip() {\n        const last = this.selectedItems.length - 1;\n        const newIndex = this.activeChipIndex + 1;\n        if (newIndex > last) {\n            this.activeChipIndex = -1;\n            this.setFocus();\n        }\n        else {\n            this.activeChipIndex = newIndex;\n            this.focusChip();\n        }\n        this.updateActiveItemIndex(-1);\n    }\n    focusChip() {\n        const guid = this.selectedItems[this.activeChipIndex]?.guid;\n        const chip = guid\n            ? this.referenceEl.querySelector(`#${chipUidPrefix}${guid}`)\n            : null;\n        chip?.setFocus();\n    }\n    shiftActiveItemIndex(delta) {\n        const { length } = this.filteredItems;\n        const newIndex = (this.activeItemIndex + length + delta) % length;\n        this.updateActiveItemIndex(newIndex);\n        this.scrollToActiveItem();\n    }\n    updateActiveItemIndex(index) {\n        this.activeItemIndex = index;\n        let activeDescendant = null;\n        this.filteredItems.forEach((el, i) => {\n            if (i === index) {\n                el.active = true;\n                activeDescendant = `${itemUidPrefix}${el.guid}`;\n            }\n            else {\n                el.active = false;\n            }\n        });\n        this.activeDescendant = activeDescendant;\n        if (this.activeItemIndex > -1) {\n            this.activeChipIndex = -1;\n        }\n    }\n    isAllSelected() {\n        return this.getItems().length === this.getSelectedItems().length;\n    }\n    isMulti() {\n        return !isSingleLike(this.selectionMode);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    //--------------------------------------------------------------------------\n    renderChips() {\n        const { activeChipIndex, readOnly, scale, selectionMode, messages } = this;\n        return this.selectedItems.map((item, i) => {\n            const chipClasses = {\n                chip: true,\n                \"chip--active\": activeChipIndex === i,\n            };\n            const ancestors = [...getItemAncestors(item)].reverse();\n            const itemLabel = getLabel(item);\n            const pathLabel = [...ancestors, item].map((el) => getLabel(el));\n            const label = selectionMode !== \"ancestors\" ? itemLabel : pathLabel.join(\" / \");\n            return (h(\"calcite-chip\", { appearance: readOnly ? \"outline\" : \"solid\", class: chipClasses, closable: !readOnly, \"data-test-id\": `chip-${i}`, icon: item.icon, iconFlipRtl: item.iconFlipRtl, id: item.guid ? `${chipUidPrefix}${item.guid}` : null, key: itemLabel, messageOverrides: { dismissLabel: messages.removeTag }, onCalciteChipClose: () => this.calciteChipCloseHandler(item), onFocusin: () => (this.activeChipIndex = i), scale: scale, selected: item.selected, tabindex: activeChipIndex === i ? 0 : -1, title: label, value: item.value }, label));\n        });\n    }\n    renderAllSelectedIndicatorChip() {\n        const { compactSelectionDisplay, scale, selectedVisibleChipsCount, setAllSelectedIndicatorChipEl, } = this;\n        const label = this.messages.allSelected;\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$2.chipInvisible]: !(this.isAllSelected() &&\n                    !selectedVisibleChipsCount &&\n                    !compactSelectionDisplay),\n            }, ref: setAllSelectedIndicatorChipEl, scale: scale, title: label, value: \"\" }, label));\n    }\n    renderAllSelectedIndicatorChipCompact() {\n        const { compactSelectionDisplay, scale, selectedVisibleChipsCount } = this;\n        const label = this.messages.all || \"All\";\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$2.chipInvisible]: !(this.isAllSelected() &&\n                    !selectedVisibleChipsCount &&\n                    compactSelectionDisplay),\n            }, scale: scale, title: label, value: \"\" }, label));\n    }\n    renderSelectedIndicatorChip() {\n        const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, selectedVisibleChipsCount, setSelectedIndicatorChipEl, } = this;\n        let chipInvisible;\n        let label;\n        if (compactSelectionDisplay) {\n            chipInvisible = true;\n        }\n        else {\n            if (selectionDisplay === \"single\") {\n                const selectedItemsCount = getSelectedItems().length;\n                if (this.isAllSelected()) {\n                    chipInvisible = true;\n                }\n                else if (selectedItemsCount > 0) {\n                    chipInvisible = false;\n                }\n                else {\n                    chipInvisible = true;\n                }\n                label = `${selectedItemsCount} ${this.messages.selected}`;\n            }\n            else if (selectionDisplay === \"fit\") {\n                chipInvisible = !!((this.isAllSelected() && selectedVisibleChipsCount === 0) ||\n                    selectedHiddenChipsCount === 0);\n                label =\n                    selectedVisibleChipsCount > 0\n                        ? `+${selectedHiddenChipsCount}`\n                        : `${selectedHiddenChipsCount} ${this.messages.selected}`;\n            }\n        }\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$2.chipInvisible]: chipInvisible,\n            }, ref: setSelectedIndicatorChipEl, scale: scale, title: label, value: \"\" }, label));\n    }\n    renderSelectedIndicatorChipCompact() {\n        const { compactSelectionDisplay, selectionDisplay, getSelectedItems, scale, selectedHiddenChipsCount, } = this;\n        let chipInvisible;\n        let label;\n        if (compactSelectionDisplay) {\n            const selectedItemsCount = getSelectedItems().length;\n            if (this.isAllSelected()) {\n                chipInvisible = true;\n            }\n            else if (selectionDisplay === \"fit\") {\n                chipInvisible = !(selectedHiddenChipsCount > 0);\n                label = `${selectedHiddenChipsCount || 0}`;\n            }\n            else if (selectionDisplay === \"single\") {\n                chipInvisible = !(selectedItemsCount > 0);\n                label = `${selectedItemsCount}`;\n            }\n        }\n        else {\n            chipInvisible = true;\n        }\n        return (h(\"calcite-chip\", { class: {\n                chip: true,\n                [CSS$2.chipInvisible]: chipInvisible,\n            }, scale: scale, title: label, value: \"\" }, label));\n    }\n    get showingInlineIcon() {\n        const { placeholderIcon, selectionMode, selectedItems, open } = this;\n        const selectedItem = selectedItems[0];\n        const selectedIcon = selectedItem?.icon;\n        const singleSelectionMode = isSingleLike(selectionMode);\n        return !open && selectedItem\n            ? !!selectedIcon && singleSelectionMode\n            : !!placeholderIcon && (!selectedItem || singleSelectionMode);\n    }\n    renderInput() {\n        const { guid, disabled, placeholder, selectionMode, selectedItems, open } = this;\n        const single = isSingleLike(selectionMode);\n        const selectedItem = selectedItems[0];\n        const showLabel = !open && single && !!selectedItem && !this.filterText;\n        return (h(\"span\", { class: {\n                \"input-wrap\": true,\n                \"input-wrap--single\": single,\n            } }, showLabel && (h(\"span\", { class: {\n                label: true,\n                \"label--icon\": !!selectedItem?.icon,\n            }, key: \"label\" }, getLabel(selectedItem))), h(\"input\", { \"aria-activedescendant\": this.activeDescendant, \"aria-autocomplete\": \"list\", \"aria-controls\": `${listboxUidPrefix}${guid}`, \"aria-errormessage\": IDS.validationMessage, \"aria-expanded\": toAriaBoolean(open), \"aria-haspopup\": \"listbox\", \"aria-invalid\": toAriaBoolean(this.status === \"invalid\"), \"aria-label\": getLabelText(this), \"aria-owns\": `${listboxUidPrefix}${guid}`, class: {\n                [CSS$2.input]: true,\n                \"input--single\": true,\n                [CSS$2.inputHidden]: showLabel,\n                \"input--icon\": this.showingInlineIcon && !!this.placeholderIcon,\n            }, \"data-test-id\": \"input\", disabled: disabled, id: `${inputUidPrefix}${guid}`, key: \"input\", onFocus: this.comboboxFocusHandler, onInput: this.inputHandler, placeholder: placeholder, readOnly: this.readOnly, ref: (el) => (this.textInput = el), role: \"combobox\", tabindex: this.activeChipIndex === -1 ? 0 : -1, type: \"text\", value: this.filterText })));\n    }\n    renderListBoxOptions() {\n        return this.filteredItems.map((item) => (h(\"li\", { \"aria-selected\": toAriaBoolean(item.selected), id: item.guid ? `${itemUidPrefix}${item.guid}` : null, role: \"option\", tabindex: \"-1\" }, item.textLabel)));\n    }\n    renderFloatingUIContainer() {\n        const { setFloatingEl, setContainerEl, open } = this;\n        const classes = {\n            [CSS$2.listContainer]: true,\n            [FloatingCSS.animation]: true,\n            [FloatingCSS.animationActive]: open,\n        };\n        return (h(\"div\", { \"aria-hidden\": \"true\", class: {\n                \"floating-ui-container\": true,\n                \"floating-ui-container--active\": open,\n            }, ref: setFloatingEl }, h(\"div\", { class: classes, ref: setContainerEl }, h(\"ul\", { class: { list: true, \"list--hide\": !open } }, h(\"slot\", null)))));\n    }\n    renderSelectedOrPlaceholderIcon() {\n        const { open, placeholderIcon, placeholderIconFlipRtl, selectedItems } = this;\n        const selectedItem = selectedItems[0];\n        const selectedIcon = selectedItem?.icon;\n        const showPlaceholder = placeholderIcon && (open || !selectedItem);\n        return (this.showingInlineIcon && (h(\"span\", { class: \"icon-start\", key: \"selected-placeholder-icon\" }, h(\"calcite-icon\", { class: {\n                [CSS$2.selectedIcon]: !showPlaceholder,\n                [CSS$2.placeholderIcon]: showPlaceholder,\n            }, flipRtl: showPlaceholder ? placeholderIconFlipRtl : selectedItem.iconFlipRtl, icon: showPlaceholder ? placeholderIcon : selectedIcon, scale: getIconScale(this.scale) }))));\n    }\n    renderChevronIcon() {\n        const { open } = this;\n        return (h(\"span\", { class: \"icon-end\", key: \"chevron\" }, h(\"calcite-icon\", { class: CSS$2.icon, icon: open ? \"chevron-up\" : \"chevron-down\", scale: getIconScale(this.scale) })));\n    }\n    render() {\n        const { selectionDisplay, guid, label, open, readOnly } = this;\n        const singleSelectionMode = isSingleLike(this.selectionMode);\n        const allSelectionDisplay = selectionDisplay === \"all\";\n        const singleSelectionDisplay = selectionDisplay === \"single\";\n        const fitSelectionDisplay = !singleSelectionMode && selectionDisplay === \"fit\";\n        const isClearable = !this.clearDisabled && this.value?.length > 0;\n        return (h(Host, { key: 'f1671f542a84291771bcd4096557300397e67138', onClick: this.comboboxFocusHandler }, h(InteractiveContainer, { key: 'd176f33343ad19474922e3274f28deae9c0a4fd9', disabled: this.disabled }, h(\"div\", { key: 'f93285d693a11fb8cec1ed8d1b93b2f66c7ab2dd', \"aria-live\": \"polite\", class: {\n                wrapper: true,\n                \"wrapper--single\": singleSelectionMode || !this.selectedItems.length,\n                \"wrapper--active\": open,\n            }, onClick: this.clickHandler, onKeyDown: this.keyDownHandler, ref: this.setReferenceEl }, this.renderSelectedOrPlaceholderIcon(), h(\"div\", { class: {\n                \"grid-input\": true,\n                [CSS$2.selectionDisplayFit]: fitSelectionDisplay,\n                [CSS$2.selectionDisplaySingle]: singleSelectionDisplay,\n            }, key: \"grid\", ref: this.setChipContainerEl }, !singleSelectionMode && !singleSelectionDisplay && this.renderChips(), !singleSelectionMode &&\n            !allSelectionDisplay && [\n            this.renderSelectedIndicatorChip(),\n            this.renderSelectedIndicatorChipCompact(),\n            this.renderAllSelectedIndicatorChip(),\n            this.renderAllSelectedIndicatorChipCompact(),\n        ], h(\"label\", { key: 'a5cf9dddce6a299fb7a42721f6c5e02ae754ea6e', class: \"screen-readers-only\", htmlFor: `${inputUidPrefix}${guid}`, id: `${labelUidPrefix}${guid}` }, label), this.renderInput()), !readOnly && isClearable ? (h(XButton, { disabled: this.disabled, key: \"close-button\", label: this.messages.clear, scale: this.scale })) : null, !readOnly && this.renderChevronIcon()), h(\"ul\", { key: '6c0673c3b470c0a2a84b25cb8a90074db7548741', \"aria-labelledby\": `${labelUidPrefix}${guid}`, \"aria-multiselectable\": \"true\", class: \"screen-readers-only\", id: `${listboxUidPrefix}${guid}`, role: \"listbox\", tabIndex: -1 }, this.renderListBoxOptions()), this.renderFloatingUIContainer(), h(HiddenFormInputSlot, { key: '140469ee4ef16d89edb506b133b4316e8a9d7277', component: this }), this.validationMessage && this.status === \"invalid\" ? (h(Validation, { icon: this.validationIcon, id: IDS.validationMessage, message: this.validationMessage, scale: this.scale, status: this.status })) : null)));\n    }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"filterText\": [\"filterTextChange\"],\n        \"open\": [\"openHandler\"],\n        \"disabled\": [\"handleDisabledChange\"],\n        \"maxItems\": [\"maxItemsHandler\"],\n        \"overlayPositioning\": [\"overlayPositioningHandler\"],\n        \"selectionMode\": [\"handlePropsChange\"],\n        \"scale\": [\"handlePropsChange\"],\n        \"value\": [\"valueHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"flipPlacements\": [\"flipPlacementsHandler\"],\n        \"selectedItems\": [\"selectedItemsHandler\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }; }\n};\nCombobox.style = CalciteComboboxStyle0;\n\nconst CSS$1 = {\n    active: \"label--active\",\n    centerContent: \"center-content\",\n    container: \"container\",\n    custom: \"icon--custom\",\n    description: \"description\",\n    dot: \"icon--dot\",\n    filterMatch: \"filter-match\",\n    icon: \"icon\",\n    iconActive: \"icon--active\",\n    label: \"label\",\n    scale: (scale) => `scale--${scale}`,\n    selected: \"label--selected\",\n    shortText: \"short-text\",\n    single: \"label--single\",\n    textContainer: \"text-container\",\n    title: \"title\",\n};\nconst SLOTS = {\n    contentEnd: \"content-end\",\n};\n\nconst comboboxItemCss = \"@charset \\\"UTF-8\\\";:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host([hidden]){display:none}[hidden]{display:none}.scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem;--calcite-combobox-item-selector-icon-size:1rem;--calcite-internal-combobox-item-description-font-size:var(--calcite-font-size-xs)}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.375rem;--calcite-combobox-item-spacing-indent:0.75rem;--calcite-combobox-item-selector-icon-size:1rem;--calcite-internal-combobox-item-description-font-size:var(--calcite-font-size-sm)}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.625rem;--calcite-combobox-item-spacing-indent:1rem;--calcite-combobox-item-selector-icon-size:1.5rem;--calcite-internal-combobox-item-description-font-size:var(--calcite-font-size)}.container{--calcite-combobox-item-indent-value:calc(\\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\\n  )}:host(:focus){--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host,ul{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),ul:focus{outline:2px solid transparent;outline-offset:2px}.label{position:relative;box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:100%;cursor:pointer;align-items:center;color:var(--calcite-color-text-3);text-decoration-line:none;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);outline-color:transparent;word-wrap:break-word;word-break:break-word;justify-content:space-around;gap:var(--calcite-combobox-item-spacing-unit-l);padding-block:var(--calcite-combobox-item-spacing-unit-s);padding-inline:var(--calcite-combobox-item-spacing-unit-l);padding-inline-start:var(--calcite-combobox-item-indent-value)}:host([disabled]) .label{cursor:default}.label--selected{color:var(--calcite-color-text-1)}.label--selected .title{font-weight:var(--calcite-font-weight-medium)}.label--active{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}.label:hover,.label:active{background-color:var(--calcite-color-foreground-2);color:var(--calcite-color-text-1);text-decoration-line:none;--tw-shadow:0 0 #0000;--tw-shadow-colored:0 0 #0000;box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}.icon{display:inline-flex;opacity:0;transition-duration:150ms;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);color:var(--calcite-color-border-1)}.icon--custom{margin-block-start:-1px;color:var(--calcite-color-text-3)}.icon--active{color:var(--calcite-color-text-1)}.icon--dot{display:flex;justify-content:center;min-inline-size:var(--calcite-combobox-item-selector-icon-size)}.icon--dot::before{text-align:start;content:\\\"•\\\"}.label--active .icon{opacity:1}.label--selected .icon{opacity:1;color:var(--calcite-color-brand)}:host(:hover[disabled]) .icon{opacity:1}.filter-match{font-weight:var(--calcite-font-weight-bold);color:var(--calcite-color-text-1);background-color:var(--calcite-color-foreground-current)}.center-content{display:flex;flex-direction:column;flex-grow:1;padding-block:0}.description{font-size:var(--calcite-internal-combobox-item-description-font-size)}:host([selected]) .description,:host(:hover) .description{color:var(--calcite-color-text-2)}.short-text{color:var(--calcite-color-text-3);white-space:nowrap}.title{color:var(--calcite-color-text-1)}.title,.description,.short-text{line-height:var(--calcite-font-line-height-relative-snug)}\";\nconst CalciteComboboxItemStyle0 = comboboxItemCss;\n\nconst ComboboxItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteComboboxItemChange = createEvent(this, \"calciteComboboxItemChange\", 6);\n        this.calciteInternalComboboxItemChange = createEvent(this, \"calciteInternalComboboxItemChange\", 6);\n        this.itemClickHandler = () => {\n            this.toggleSelected();\n        };\n        this.active = false;\n        this.ancestors = undefined;\n        this.description = undefined;\n        this.disabled = false;\n        this.filterDisabled = undefined;\n        this.filterTextMatchPattern = undefined;\n        this.guid = guid();\n        this.icon = undefined;\n        this.iconFlipRtl = false;\n        this.metadata = undefined;\n        this.scale = \"m\";\n        this.selected = false;\n        this.selectionMode = \"multiple\";\n        this.shortHeading = undefined;\n        this.heading = undefined;\n        this.textLabel = undefined;\n        this.value = undefined;\n        this.label = undefined;\n    }\n    handleComboboxItemPropsChange() {\n        this.calciteInternalComboboxItemChange.emit();\n    }\n    selectedWatchHandler() {\n        this.calciteComboboxItemChange.emit();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.ancestors = getAncestors(this.el);\n        connectConditionalSlotComponent(this);\n    }\n    disconnectedCallback() {\n        disconnectConditionalSlotComponent(this);\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    toggleSelected() {\n        const isSinglePersistSelect = this.selectionMode === \"single-persist\";\n        if (this.disabled || (isSinglePersistSelect && this.selected)) {\n            return;\n        }\n        this.selected = !this.selected;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    renderIcon(iconPath) {\n        return this.icon ? (h(\"calcite-icon\", { class: {\n                [CSS$1.custom]: !!this.icon,\n                [CSS$1.iconActive]: this.icon && this.selected,\n            }, flipRtl: this.iconFlipRtl, icon: this.icon || iconPath, key: \"icon\", scale: getIconScale(this.scale) })) : null;\n    }\n    renderSelectIndicator(showDot, iconPath) {\n        return showDot ? (h(\"span\", { class: {\n                [CSS$1.icon]: true,\n                [CSS$1.dot]: true,\n            } })) : (h(\"calcite-icon\", { class: {\n                [CSS$1.icon]: true,\n                [CSS$1.iconActive]: this.selected,\n            }, flipRtl: this.iconFlipRtl, icon: iconPath, key: \"indicator\", scale: getIconScale(this.scale) }));\n    }\n    renderChildren() {\n        if (getSlotted(this.el)) {\n            return (h(\"ul\", { key: \"default-slot-container\" }, h(\"slot\", null)));\n        }\n        return null;\n    }\n    render() {\n        const { disabled, heading, label, textLabel, value } = this;\n        const isSingleSelect = isSingleLike(this.selectionMode);\n        const defaultIcon = isSingleSelect ? undefined : \"check\";\n        const headingText = heading || textLabel;\n        const iconPath = disabled ? undefined : defaultIcon;\n        const itemLabel = label || value;\n        const showDot = isSingleSelect && !disabled;\n        const classes = {\n            [CSS$1.label]: true,\n            [CSS$1.selected]: this.selected,\n            [CSS$1.active]: this.active,\n            [CSS$1.single]: isSingleSelect,\n        };\n        const depth = getDepth(this.el) + 1;\n        return (h(Host, { key: '484c17421421afe7739dc37cc3edb46c2fd0e083', \"aria-hidden\": \"true\", \"aria-label\": itemLabel }, h(InteractiveContainer, { key: '71135810fa4af5e17b668d13af219c7575085a9e', disabled: disabled }, h(\"div\", { key: '2db3e68f23449032b1ac5957a9376a68815e03c5', class: {\n                [CSS$1.container]: true,\n                [CSS$1.scale(this.scale)]: true,\n            }, style: { \"--calcite-combobox-item-spacing-indent-multiplier\": `${depth}` } }, h(\"li\", { key: '153f7e8af6cb925630fb08fc5cfcf4a8df48ad2a', class: classes, id: this.guid, onClick: this.itemClickHandler }, this.renderSelectIndicator(showDot, iconPath), this.renderIcon(iconPath), h(\"div\", { key: '4d9bbd0bc113dc2196e3141a84f6137e7d48b95e', class: CSS$1.centerContent }, h(\"div\", { key: 'd531d42c8af37b9fbdbda7457e88f4688427911b', class: CSS$1.title }, this.renderTextContent(headingText)), this.description ? (h(\"div\", { class: CSS$1.description }, this.renderTextContent(this.description))) : null), this.shortHeading ? (h(\"div\", { class: CSS$1.shortText }, this.renderTextContent(this.shortHeading))) : null, h(\"slot\", { key: 'f4c71258fff023a30662c7105e1a7492edafa14a', name: SLOTS.contentEnd })), this.renderChildren()))));\n    }\n    renderTextContent(text) {\n        const pattern = this.filterTextMatchPattern;\n        if (!pattern || !text) {\n            return text;\n        }\n        const parts = text.split(pattern);\n        if (parts.length > 1) {\n            // we only highlight the first match\n            parts[1] = h(\"mark\", { class: CSS$1.filterMatch }, parts[1]);\n        }\n        return parts;\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"disabled\": [\"handleComboboxItemPropsChange\"],\n        \"textLabel\": [\"handleComboboxItemPropsChange\"],\n        \"selected\": [\"selectedWatchHandler\"]\n    }; }\n};\nComboboxItem.style = CalciteComboboxItemStyle0;\n\nconst CSS = {\n    list: \"list\",\n    label: \"label\",\n    title: \"title\",\n};\n\nconst comboboxItemGroupCss = \".scale--s{font-size:var(--calcite-font-size--2);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.5rem;--calcite-combobox-item-spacing-unit-s:0.25rem;--calcite-combobox-item-spacing-indent:0.5rem}.scale--m{font-size:var(--calcite-font-size--1);line-height:1rem;--calcite-combobox-item-spacing-unit-l:0.75rem;--calcite-combobox-item-spacing-unit-s:0.5rem;--calcite-combobox-item-spacing-indent:0.75rem}.scale--l{font-size:var(--calcite-font-size-0);line-height:1.25rem;--calcite-combobox-item-spacing-unit-l:1rem;--calcite-combobox-item-spacing-unit-s:0.75rem;--calcite-combobox-item-spacing-indent:1rem}:host,.list{margin:0px;display:flex;flex-direction:column;padding:0px}:host(:focus),.list:focus{outline:2px solid transparent;outline-offset:2px}.label{box-sizing:border-box;display:flex;inline-size:100%;min-inline-size:0px;max-inline-size:100%;color:var(--calcite-color-text-3)}.title{--calcite-combobox-item-indent-value:calc(\\n    var(--calcite-combobox-item-spacing-indent) * var(--calcite-combobox-item-spacing-indent-multiplier)\\n  );border:0 solid;display:block;flex:1 1 0%;border-block-end-width:1px;font-weight:var(--calcite-font-weight-bold);color:var(--calcite-color-text-2);word-wrap:break-word;word-break:break-word;border-block-end-color:var(--calcite-color-border-3);padding-block:var(--calcite-combobox-item-spacing-unit-l);padding-inline:var(--calcite-combobox-item-spacing-unit-s);margin-inline-start:var(--calcite-combobox-item-indent-value)}::slotted(calcite-combobox-item-group:not([after-empty-group])){padding-block-start:var(--calcite-combobox-item-spacing-unit-l)}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteComboboxItemGroupStyle0 = comboboxItemGroupCss;\n\nconst ComboboxItemGroup = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.guid = guid();\n        this.afterEmptyGroup = false;\n        this.ancestors = undefined;\n        this.label = undefined;\n        this.scale = \"m\";\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.ancestors = getAncestors(this.el);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const { el, scale } = this;\n        const depth = getDepth(el);\n        return (h(\"ul\", { key: '32cc4bb7e8e551213c7b3aea1ee6c9907a93dc8b', \"aria-labelledby\": this.guid, class: { [CSS.list]: true, [`scale--${scale}`]: true }, role: \"group\" }, h(\"li\", { key: '7bad1e784bd918befdeccba34625d9404f610a91', class: { [CSS.label]: true }, id: this.guid, role: \"presentation\", style: { \"--calcite-combobox-item-spacing-indent-multiplier\": `${depth}` } }, h(\"span\", { key: '9cfc56d414a465bb5d5e5beec561f5149779b31c', class: CSS.title }, this.label)), h(\"slot\", { key: 'ec83330096f7031828f4b58cf2ee94611a9fddfe' })));\n    }\n    get el() { return getElement(this); }\n};\nComboboxItemGroup.style = CalciteComboboxItemGroupStyle0;\n\nexport { Combobox as calcite_combobox, ComboboxItem as calcite_combobox_item, ComboboxItemGroup as calcite_combobox_item_group };\n\n//# sourceMappingURL=calcite-combobox_3.entry.js.map"],"names":["CSS$3","XButton","disabled","key","label","scale","h","getIconScale","ComboboxItem$1","ComboboxItemGroup$1","ComboboxChildSelector","CSS$2","IDS","getAncestors","element","parent","_a","grandparent","_b","el","getItemAncestors","item","getItemChildren","nodeListToArray","hasActiveChildren","node","getDepth","isBrowser","isSingleLike","selectionMode","getLabel","comboboxCss","CalciteComboboxStyle0","isGroup","itemUidPrefix","chipUidPrefix","labelUidPrefix","listboxUidPrefix","inputUidPrefix","Combobox","hostRef","registerInstance","createEvent","defaultMenuPlacement","createObserver","guid","flipPlacements","filterValidFlipPlacements","items","event","submitForm","listContainerEl","open","referenceEl","maxScrollerHeight","comboboxItem","selection","composedPath","componentLoaded","allSelectedIndicatorChipEl","chipContainerEl","selectionDisplay","placeholder","selectedIndicatorChipEl","textInput","chipContainerElGap","chipContainerElWidth","getElementWidth","fontSize","fontFamily","inputWidth","getTextWidth","calciteSize48","allSelectedIndicatorChipElWidth","selectedIndicatorChipElWidth","largestSelectedIndicatorChipWidth","chipEls","chipEl","availableHorizontalChipElSpace","connectFloatingUI","value","find","filteredData","debounce","text","setOpenToEmptyState","emit","filter","itemsAndGroups","matchAll","hidden","ancestor","escapeRegExp","DEBOUNCE","match","selected","a","b","aIdx","bIdx","groupItem","index","nextGroupItem","activeItem","height","offsetHeight","scrollTop","onToggleOpenCloseComponent","componentOnReady","target","newIndex","delayed","floatingEl","placement","overlayPositioning","filteredFlipPlacements","reposition","componentFocusable","connectLocalized","connectMessages","connectLabel","connectForm","setUpLoadableComponent","setUpMessages","afterConnectDefaultValueSet","setComponentLoaded","updateHostInteraction","disconnectLabel","disconnectForm","disconnectFloatingUI","disconnectLocalized","disconnectMessages","updateMessages","bounding","selectedItems","targetIndex","chipElWidth","newCompactBreakpoint","newSelectedVisibleChipsCount","newSelectedHiddenChipsCount","maxItems","itemsToProcess","parentHeight","childrenTotalHeight","total","child","ancestors","children","focus","existingItem","length","active","last","chip","delta","activeDescendant","i","activeChipIndex","readOnly","messages","chipClasses","itemLabel","pathLabel","compactSelectionDisplay","selectedVisibleChipsCount","setAllSelectedIndicatorChipEl","getSelectedItems","selectedHiddenChipsCount","setSelectedIndicatorChipEl","chipInvisible","selectedItemsCount","placeholderIcon","selectedItem","selectedIcon","singleSelectionMode","single","showLabel","toAriaBoolean","getLabelText","setFloatingEl","setContainerEl","classes","FloatingCSS","placeholderIconFlipRtl","showPlaceholder","allSelectionDisplay","singleSelectionDisplay","fitSelectionDisplay","isClearable","Host","InteractiveContainer","HiddenFormInputSlot","Validation","getElement","CSS$1","SLOTS","comboboxItemCss","CalciteComboboxItemStyle0","ComboboxItem","connectConditionalSlotComponent","disconnectConditionalSlotComponent","isSinglePersistSelect","iconPath","showDot","getSlotted","heading","textLabel","isSingleSelect","defaultIcon","headingText","depth","pattern","parts","CSS","comboboxItemGroupCss","CalciteComboboxItemGroupStyle0","ComboboxItemGroup"],"mappings":"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","x_google_ignoreList":[0]}