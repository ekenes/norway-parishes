{"version":3,"file":"webStyleSymbolUtils-BLIZdtPY.js","sources":["../../node_modules/@arcgis/core/core/devEnvironmentUtils.js","../../node_modules/@arcgis/core/symbols/support/webStyleSymbolUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nfunction c(c){return c=c||globalThis.location.hostname,i.some((a=>null!=c?.match(a)))}function a(c,a){return c?(a=a||globalThis.location.hostname)?null!=a.match(t)||null!=a.match(s)?c.replace(\"static.arcgis.com\",\"staticdev.arcgis.com\"):null!=a.match(o)||null!=a.match(l)?c.replace(\"static.arcgis.com\",\"staticqa.arcgis.com\"):c:c:null}const t=/^devext\\.arcgis\\.com$/,o=/^qaext\\.arcgis\\.com$/,s=/^[\\w-]*\\.mapsdevext\\.arcgis\\.com$/,l=/^[\\w-]*\\.mapsqa\\.arcgis\\.com$/,i=[/^([\\w-]*\\.)?[\\w-]*\\.zrh-dev-local\\.esri\\.com$/,t,o,/^jsapps\\.esri\\.com$/,s,l];export{a as adjustStaticAGOUrl,i as devHostnames,c as isDevEnvironment};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isSymbol3D as t}from\"../../symbols.js\";import{isDevEnvironment as e,adjustStaticAGOUrl as r}from\"../../core/devEnvironmentUtils.js\";import l from\"../../core/Error.js\";import{urlToObject as o,removeFile as n}from\"../../core/urlUtils.js\";import s from\"../../portal/Portal.js\";import{f as i}from\"../../chunks/persistableUrlUtils.js\";import{fromJSON as m}from\"./jsonUtils.js\";import a from\"./StyleOrigin.js\";import{fetchStyle as u,requestJSON as p,makeCIMSymbolRef as f,Style2DUrlTemplate as y,symbolUrlFromStyleItem as c}from\"./styleUtils.js\";import{Thumbnail as b}from\"./Thumbnail.js\";function g(t,e,r,o){const n=t.name;return null==n?Promise.reject(new l(\"symbolstyleutils:style-symbol-reference-name-missing\",\"Missing name in style symbol reference\")):\"Esri2DPointSymbolsStyle\"===t.styleName?d(n,e,o):u(t,e,o).then((t=>h(t,n,e,r,c,o)))}function j(t,e){return e.items.find((e=>e.name===t))}function h(u,y,c,g,h,d){const U=null!=c?.portal?c.portal:s.getDefault(),N={portal:U,url:o(u.baseUrl),origin:\"portal-item\"},w=j(y,u.data);if(!w){const t=`The symbol name '${y}' could not be found`;return Promise.reject(new l(\"symbolstyleutils:symbol-name-not-found\",t,{symbolName:y}))}let S=i(h(w,g),N),D=w.thumbnail?.href??null;const O=w.thumbnail?.imageData;e()&&(S=r(S)??\"\",D=r(D));const P={portal:U,url:o(n(S)),origin:\"portal-item\"};return p(S,d).then((e=>{const r=\"cimRef\"===g?f(e.data):e.data,l=m(r,P);if(l&&t(l)){if(D){const t=i(D,N);l.thumbnail=new b({url:t})}else O&&(l.thumbnail=new b({url:`data:image/png;base64,${O}`}));u.styleUrl?l.styleOrigin=new a({portal:c.portal,styleUrl:u.styleUrl,name:y}):u.styleName&&(l.styleOrigin=new a({portal:c.portal,styleName:u.styleName,name:y}))}return l}))}function d(t,e,r){const l=y.replaceAll(/\\{SymbolName\\}/gi,t),i=null!=e.portal?e.portal:s.getDefault();return p(l,r).then((t=>{const e=f(t.data);return m(e,{portal:i,url:o(n(l)),origin:\"portal-item\"})}))}export{h as fetchSymbolFromStyle,j as getStyleItemFromStyle,g as resolveWebStyleSymbol};\n"],"names":["c","i","a","t","s","o","l","g","r","d","u","h","j","e","y","U","N","w","S","D","_a","O","_b","P","n","p","f","m","b"],"mappings":"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","x_google_ignoreList":[0,1]}