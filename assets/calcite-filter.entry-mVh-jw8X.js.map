{"version":3,"file":"calcite-filter.entry-mVh-jw8X.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-filter.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-abe3b66e.js';\nimport { f as filter } from './filter-ec7b1a9c.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport { s as setUpLoadableComponent, a as setComponentLoaded, c as componentFocusable } from './loadable-13e9ffb2.js';\nimport { c as connectLocalized, d as disconnectLocalized } from './locale-60f8ca58.js';\nimport { u as updateMessages, s as setUpMessages, c as connectMessages, d as disconnectMessages } from './t9n-75defee3.js';\nimport { D as DEBOUNCE } from './resources-a23d2491.js';\nimport { d as debounce } from './debounce-6e4946fd.js';\nimport './browser-618ac057.js';\nimport './dom-b6dedd88.js';\nimport './guid-9c230b6a.js';\nimport './key-3ee05994.js';\nimport './observers-9c166451.js';\n\nconst CSS = {\n    container: \"container\",\n    searchIcon: \"search-icon\",\n};\nconst ICONS = {\n    search: \"search\",\n    close: \"x\",\n};\n\nconst filterCss = \":host{box-sizing:border-box;background-color:var(--calcite-color-foreground-1);color:var(--calcite-color-text-2);font-size:var(--calcite-font-size--1)}:host *{box-sizing:border-box}:host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex;inline-size:100%}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;inline-size:100%;padding:0.5rem}label{position:relative;margin-inline:0.25rem;margin-block:0px;display:flex;inline-size:100%;align-items:center;overflow:hidden}input[type=text]{margin-block-end:0.25rem;inline-size:100%;border-style:none;background-color:transparent;padding-block:0.25rem;font-family:inherit;font-size:var(--calcite-font-size--2);line-height:1rem;color:var(--calcite-color-text-1);padding-inline-end:0.25rem;padding-inline-start:1.5rem;transition:padding var(--calcite-animation-timing), box-shadow var(--calcite-animation-timing)}input[type=text]::-ms-clear{display:none}calcite-input{inline-size:100%}.search-icon{position:absolute;display:flex;color:var(--calcite-color-text-2);inset-inline-start:0;transition:inset-inline-start var(--calcite-animation-timing), inset-inline-end var(--calcite-animation-timing), opacity var(--calcite-animation-timing)}input[type=text]:focus{border-color:var(--calcite-color-brand);outline:2px solid transparent;outline-offset:2px;padding-inline:0.25rem}input[type=text]:focus~.search-icon{inset-inline-start:calc(1rem * -1);opacity:0}.clear-button{display:flex;cursor:pointer;align-items:center;border-width:0px;background-color:transparent;color:var(--calcite-color-text-2)}.clear-button:hover,.clear-button:focus{color:var(--calcite-color-text-1)}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteFilterStyle0 = filterCss;\n\nconst Filter = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteFilterChange = createEvent(this, \"calciteFilterChange\", 6);\n        // --------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        // --------------------------------------------------------------------------\n        this.filterDebounced = debounce((value, emit = false, onFilter) => this.updateFiltered(filter(this.items ?? [], value, this.filterProps), emit, onFilter), DEBOUNCE.filter);\n        this.inputHandler = (event) => {\n            const target = event.target;\n            this.value = target.value;\n            this.filterDebounced(target.value, true);\n        };\n        this.keyDownHandler = (event) => {\n            if (event.defaultPrevented) {\n                return;\n            }\n            if (event.key === \"Escape\") {\n                this.clear();\n                event.preventDefault();\n            }\n            if (event.key === \"Enter\") {\n                event.preventDefault();\n            }\n        };\n        this.clear = () => {\n            this.value = \"\";\n            this.filterDebounced(\"\", true);\n            this.setFocus();\n        };\n        this.items = [];\n        this.disabled = false;\n        this.filteredItems = [];\n        this.filterProps = undefined;\n        this.placeholder = undefined;\n        this.scale = \"m\";\n        this.value = \"\";\n        this.messages = undefined;\n        this.messageOverrides = undefined;\n        this.effectiveLocale = undefined;\n        this.defaultMessages = undefined;\n    }\n    watchItemsHandler() {\n        this.filterDebounced(this.value);\n    }\n    filterPropsHandler() {\n        this.filterDebounced(this.value);\n    }\n    onMessagesChange() {\n        /* wired up by t9n util */\n    }\n    valueHandler(value) {\n        this.filterDebounced(value);\n    }\n    effectiveLocaleChange() {\n        updateMessages(this, this.effectiveLocale);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        this.updateFiltered(filter(this.items ?? [], this.value, this.filterProps));\n        await setUpMessages(this);\n    }\n    connectedCallback() {\n        connectLocalized(this);\n        connectMessages(this);\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    disconnectedCallback() {\n        disconnectLocalized(this);\n        disconnectMessages(this);\n        this.filterDebounced.cancel();\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    // --------------------------------------------------------------------------\n    /**\n     * Performs a filter on the component.\n     *\n     * This method can be useful because filtering is delayed and asynchronous.\n     *\n     * @param {string} value - The filter text value.\n     * @returns {Promise<void>}\n     */\n    async filter(value = this.value) {\n        return new Promise((resolve) => {\n            this.value = value;\n            this.filterDebounced(value, false, resolve);\n        });\n    }\n    /** Sets focus on the component. */\n    async setFocus() {\n        await componentFocusable(this);\n        return this.textInput?.setFocus();\n    }\n    updateFiltered(filtered, emit = false, callback) {\n        this.filteredItems = filtered;\n        if (emit) {\n            this.calciteFilterChange.emit();\n        }\n        callback?.();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const { disabled, scale } = this;\n        return (h(InteractiveContainer, { key: 'c4a624e52409ed90839b506f5d99ab623767260e', disabled: disabled }, h(\"div\", { key: '1f2ef99156489719dd2f938bc5ce8a05185866bf', class: CSS.container }, h(\"label\", { key: '6fe8c6cf73f554908be38299263d23380a4ed089' }, h(\"calcite-input\", { key: '6765e00d208d6898221540769865d84aa1c64974', clearable: true, disabled: disabled, icon: ICONS.search, label: this.messages.label, messageOverrides: { clear: this.messages.clear }, onCalciteInputInput: this.inputHandler, onKeyDown: this.keyDownHandler, placeholder: this.placeholder, ref: (el) => {\n                this.textInput = el;\n            }, scale: scale, type: \"text\", value: this.value })))));\n    }\n    static get delegatesFocus() { return true; }\n    static get assetsDirs() { return [\"assets\"]; }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"items\": [\"watchItemsHandler\"],\n        \"filterProps\": [\"filterPropsHandler\"],\n        \"messageOverrides\": [\"onMessagesChange\"],\n        \"value\": [\"valueHandler\"],\n        \"effectiveLocale\": [\"effectiveLocaleChange\"]\n    }; }\n};\nFilter.style = CalciteFilterStyle0;\n\nexport { Filter as calcite_filter };\n\n//# sourceMappingURL=calcite-filter.entry.js.map"],"names":["CSS","ICONS","filterCss","CalciteFilterStyle0","Filter","hostRef","registerInstance","createEvent","debounce","value","emit","onFilter","filter","DEBOUNCE","event","target","updateMessages","setUpLoadableComponent","setUpMessages","connectLocalized","connectMessages","updateHostInteraction","disconnectLocalized","disconnectMessages","setComponentLoaded","resolve","componentFocusable","_a","filtered","callback","disabled","scale","h","InteractiveContainer","el","getElement"],"mappings":"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","x_google_ignoreList":[0]}