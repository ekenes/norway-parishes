{"version":3,"file":"calcite-sheet.entry-BSvkqZ6K.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-sheet.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-abe3b66e.js';\nimport { x as ensureId, g as getElementDir, f as focusFirstTabbable } from './dom-b6dedd88.js';\nimport { d as deactivateFocusTrap, a as activateFocusTrap, c as connectFocusTrap, u as updateFocusTrapElements } from './focusTrapComponent-7cfd1d69.js';\nimport { s as setUpLoadableComponent, a as setComponentLoaded, c as componentFocusable } from './loadable-13e9ffb2.js';\nimport { c as createObserver } from './observers-9c166451.js';\nimport { o as onToggleOpenCloseComponent } from './openCloseComponent-4d1d6536.js';\nimport { C as CSS_UTILITY } from './resources-a23d2491.js';\nimport './guid-9c230b6a.js';\nimport './config-974b1499.js';\nimport './browser-618ac057.js';\n\nconst CSS = {\n    scrim: \"scrim\",\n    container: \"container\",\n    containerOpen: \"container--open\",\n    content: \"content\",\n    containerEmbedded: \"container--embedded\",\n};\n\nconst sheetCss = \":host{position:absolute;inset:0px;z-index:var(--calcite-z-index-overlay);display:flex;visibility:hidden !important;--calcite-sheet-scrim-background-internal:rgba(0, 0, 0, 0.85);--calcite-scrim-shadow-block-start-internal:0 4px 8px -1px rgba(0, 0, 0, 0.08), 0 2px 4px -1px rgba(0, 0, 0, 0.04);--calcite-scrim-shadow-block-end-internal:0 -4px 8px -1px rgba(0, 0, 0, 0.08), 0 -2px 4px -1px rgba(0, 0, 0, 0.04);--calcite-scrim-shadow-inline-start-internal:4px 0 8px -1px rgba(0, 0, 0, 0.08), 2px 0 4px -1px rgba(0, 0, 0, 0.04);--calcite-scrim-shadow-inline-end-internal:-4px 0 8px -1px rgba(0, 0, 0, 0.08), -2px 0 4px -1px rgba(0, 0, 0, 0.04)}.calcite--rtl{--calcite-scrim-shadow-inline-start-internal:-4px 0 8px -1px rgba(0, 0, 0, 0.08), -2px 0 4px -1px rgba(0, 0, 0, 0.04);--calcite-scrim-shadow-inline-end-internal:4px 0 8px -1px rgba(0, 0, 0, 0.08), 2px 0 4px -1px rgba(0, 0, 0, 0.04)}.container{visibility:hidden;position:fixed;z-index:var(--calcite-z-index-overlay);display:flex;overflow-y:hidden;color:var(--calcite-color-text-2);opacity:0;transition:visibility 0ms linear var(--calcite-internal-animation-timing-medium), opacity var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88)}:host([position=inline-start]) .container{justify-content:flex-start;inset-block:0;inset-inline:0 auto;--calcite-sheet-hidden-position-internal:translate3d(-1rem, 0, 0)}:host([position=inline-end]) .container{justify-content:flex-end;inset-block:0;inset-inline:auto 0;--calcite-sheet-hidden-position-internal:translate3d(1rem, 0, 0)}:host([position=block-start]) .container{align-items:flex-start;inset-block:0 auto;inset-inline:0;--calcite-sheet-hidden-position-internal:translate3d(0, -1rem, 0)}:host([position=block-end]) .container{align-items:flex-end;inset-block:auto 0;inset-inline:0;--calcite-sheet-hidden-position-internal:translate3d(0, 1rem, 0)}:host([display-mode=float]) .content{--tw-shadow:0 2px 12px -4px rgba(0, 0, 0, 0.2), 0 2px 4px -2px rgba(0, 0, 0, 0.16);--tw-shadow-colored:0 2px 12px -4px var(--tw-shadow-color), 0 2px 4px -2px var(--tw-shadow-color);box-shadow:var(--tw-ring-offset-shadow, 0 0 #0000), var(--tw-ring-shadow, 0 0 #0000), var(--tw-shadow)}:host([display-mode=overlay][position=inline-start]) .container{box-shadow:var(--calcite-scrim-shadow-inline-start-internal)}:host([display-mode=overlay][position=inline-end]) .container{box-shadow:var(--calcite-scrim-shadow-inline-end-internal)}:host([display-mode=overlay][position=block-start]) .container{box-shadow:var(--calcite-scrim-shadow-block-start-internal)}:host([display-mode=overlay][position=block-end]) .container{box-shadow:var(--calcite-scrim-shadow-block-end-internal)}:host([position^=inline]) .container,:host([position^=inline]) .content{inline-size:var(--calcite-sheet-width-internal);max-inline-size:var(--calcite-sheet-max-width-internal);min-inline-size:var(--calcite-sheet-min-width-internal)}:host([position^=block]) .container,:host([position^=block]) .content{block-size:var(--calcite-sheet-height-internal);max-block-size:var(--calcite-sheet-max-height-internal);min-block-size:var(--calcite-sheet-min-height-internal)}:host([display-mode=float][position^=inline]) .container{block-size:calc(100% - 1.5rem);max-block-size:calc(100% - 1.5rem);min-block-size:calc(100% - 1.5rem)}:host([display-mode=float][position^=block]) .container{inline-size:calc(100% - 1.5rem);max-inline-size:calc(100% - 1.5rem);min-inline-size:calc(100% - 1.5rem)}:host([position^=inline][width-scale=s]){--calcite-sheet-width-internal:var(--calcite-sheet-width, 15vw);--calcite-sheet-max-width-internal:var(--calcite-sheet-max-width, 360px);--calcite-sheet-min-width-internal:var(--calcite-sheet-min-width, 260px)}:host([position^=inline][width-scale=m]){--calcite-sheet-width-internal:var(--calcite-sheet-width, 25vw);--calcite-sheet-max-width-internal:var(--calcite-sheet-max-width, 420px);--calcite-sheet-min-width-internal:var(--calcite-sheet-min-width, 300px)}:host([position^=inline][width-scale=l]){--calcite-sheet-width-internal:var(--calcite-sheet-width, 45vw);--calcite-sheet-max-width-internal:var(--calcite-sheet-max-width, 680px);--calcite-sheet-min-width-internal:var(--calcite-sheet-min-width, 340px)}:host([position^=block][height-scale=s]){--calcite-sheet-min-height-internal:var(--calcite-sheet-min-height, 160px);--calcite-sheet-height-internal:var(--calcite-sheet-height, 30vh);--calcite-sheet-max-height-internal:var(--calcite-sheet-max-height, 30vh)}:host([position^=block][height-scale=m]){--calcite-sheet-min-height-internal:var(--calcite-sheet-min-height, 200px);--calcite-sheet-height-internal:var(--calcite-sheet-height, 45vh);--calcite-sheet-max-height-internal:var(--calcite-sheet-max-height, 50vh)}:host([position^=block][height-scale=l]){--calcite-sheet-min-height-internal:var(--calcite-sheet-min-height, 240px);--calcite-sheet-height-internal:var(--calcite-sheet-height, 60vh);--calcite-sheet-max-height-internal:var(--calcite-sheet-max-height, 70vh)}.scrim{--calcite-scrim-background:var(--calcite-sheet-scrim-background, var(--calcite-sheet-scrim-background-internal));position:fixed;inset:0px;display:flex;overflow-y:hidden}:host([opened]){visibility:visible !important}.content{position:relative;z-index:var(--calcite-z-index-modal);box-sizing:border-box;display:block;max-block-size:100%;max-inline-size:100%;overflow-y:hidden;padding:0px;background-color:var(--calcite-color-foreground-1);max-block-size:100%;visibility:hidden;transition:transform var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear var(--calcite-internal-animation-timing-medium), opacity var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88);transform:var(--calcite-sheet-hidden-position-internal)}.container--open .content{transform:translate3d(0, 0, 0)}:host([display-mode=float]) .content,:host([display-mode=float]) .container{border-radius:0.25rem}:host([display-mode=float]) .container{padding:0.75rem}.container--open{visibility:visible;opacity:1;transition-delay:0ms}.container--open .content{pointer-events:auto;visibility:visible;opacity:1;transition:transform var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88), visibility 0ms linear, opacity var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-inline-size var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88), max-block-size var(--calcite-internal-animation-timing-medium) cubic-bezier(0.215, 0.44, 0.42, 0.88);transition-delay:0ms}:host([position=inline-start]) .content,:host([position=inline-end]) .content{block-size:100%}:host([position=block-start]) .content,:host([position=block-end]) .content{inline-size:100%}:host([position]) .container--embedded{pointer-events:auto;position:absolute;inline-size:100%;max-inline-size:100%;min-inline-size:100%;block-size:100%;max-block-size:100%;min-block-size:100%}:host([position]) .container--embedded calcite-scrim{position:absolute}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteSheetStyle0 = sheetCss;\n\nconst Sheet = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteSheetBeforeClose = createEvent(this, \"calciteSheetBeforeClose\", 6);\n        this.calciteSheetClose = createEvent(this, \"calciteSheetClose\", 6);\n        this.calciteSheetBeforeOpen = createEvent(this, \"calciteSheetBeforeOpen\", 6);\n        this.calciteSheetOpen = createEvent(this, \"calciteSheetOpen\", 6);\n        //--------------------------------------------------------------------------\n        //\n        //  Private Properties/ State\n        //\n        //--------------------------------------------------------------------------\n        this.openTransitionProp = \"opacity\";\n        this.ignoreOpenChange = false;\n        this.mutationObserver = createObserver(\"mutation\", () => this.handleMutationObserver());\n        this.setContentId = (el) => {\n            this.contentId = ensureId(el);\n        };\n        this.setTransitionEl = (el) => {\n            this.transitionEl = el;\n        };\n        this.openEnd = () => {\n            this.setFocus();\n            this.el.removeEventListener(\"calciteSheetOpen\", this.openEnd);\n        };\n        this.handleOutsideClose = () => {\n            if (this.outsideCloseDisabled) {\n                return;\n            }\n            this.open = false;\n        };\n        this.closeSheet = async () => {\n            if (this.beforeClose) {\n                try {\n                    await this.beforeClose(this.el);\n                }\n                catch (_error) {\n                    // close prevented\n                    requestAnimationFrame(() => {\n                        this.ignoreOpenChange = true;\n                        this.open = true;\n                        this.ignoreOpenChange = false;\n                    });\n                    return;\n                }\n            }\n            this.opened = false;\n            this.removeOverflowHiddenClass();\n        };\n        this.beforeClose = undefined;\n        this.displayMode = \"overlay\";\n        this.embedded = false;\n        this.escapeDisabled = false;\n        this.heightScale = \"m\";\n        this.focusTrapDisabled = false;\n        this.label = undefined;\n        this.open = false;\n        this.opened = false;\n        this.outsideCloseDisabled = false;\n        this.position = \"inline-start\";\n        this.widthScale = \"m\";\n    }\n    handleFocusTrapDisabled(focusTrapDisabled) {\n        if (!this.open) {\n            return;\n        }\n        focusTrapDisabled ? deactivateFocusTrap(this) : activateFocusTrap(this);\n    }\n    toggleSheet(value) {\n        if (this.ignoreOpenChange) {\n            return;\n        }\n        if (value) {\n            this.openSheet();\n        }\n        else {\n            this.closeSheet();\n        }\n    }\n    handleOpenedChange() {\n        onToggleOpenCloseComponent(this);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    async componentWillLoad() {\n        setUpLoadableComponent(this);\n        // when sheet initially renders, if active was set we need to open as watcher doesn't fire\n        if (this.open) {\n            requestAnimationFrame(() => this.openSheet());\n        }\n    }\n    componentDidLoad() {\n        setComponentLoaded(this);\n    }\n    connectedCallback() {\n        this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n        connectFocusTrap(this);\n    }\n    disconnectedCallback() {\n        this.removeOverflowHiddenClass();\n        this.mutationObserver?.disconnect();\n        deactivateFocusTrap(this);\n        this.embedded = false;\n    }\n    render() {\n        const dir = getElementDir(this.el);\n        return (h(Host, { key: '145f45b21fa18a08af4ef4e920d536a7e6431175', \"aria-describedby\": this.contentId, \"aria-label\": this.label, \"aria-modal\": \"true\", role: \"dialog\" }, h(\"div\", { key: '796deb8baa890ad7e8f42d2e0a3be22269e450a2', class: {\n                [CSS.container]: true,\n                [CSS.containerOpen]: this.opened,\n                [CSS.containerEmbedded]: this.embedded,\n                [CSS_UTILITY.rtl]: dir === \"rtl\",\n            }, ref: this.setTransitionEl }, h(\"calcite-scrim\", { key: 'c4d45b89ee32da639d1feb88289d2b0957474414', class: CSS.scrim, onClick: this.handleOutsideClose }), h(\"div\", { key: 'ad764ed7812ca7172b5f4aacf4229ae28e06d315', class: {\n                [CSS.content]: true,\n            }, ref: this.setContentId }, h(\"slot\", { key: 'dab54df7b8cae4bc8434935e1b55204896ed45df' })))));\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    handleEscape(event) {\n        if (this.open && !this.escapeDisabled && event.key === \"Escape\" && !event.defaultPrevented) {\n            this.open = false;\n            event.preventDefault();\n        }\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Public Methods\n    //\n    //--------------------------------------------------------------------------\n    /**\n     * Sets focus on the component's \"close\" button - the first focusable item.\n     *\n     */\n    async setFocus() {\n        await componentFocusable(this);\n        focusFirstTabbable(this.el);\n    }\n    /**\n     * Updates the element(s) that are used within the focus-trap of the component.\n     */\n    async updateFocusTrapElements() {\n        updateFocusTrapElements(this);\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    onBeforeOpen() {\n        this.calciteSheetBeforeOpen.emit();\n    }\n    onOpen() {\n        this.calciteSheetOpen.emit();\n        activateFocusTrap(this);\n    }\n    onBeforeClose() {\n        this.calciteSheetBeforeClose.emit();\n    }\n    onClose() {\n        this.calciteSheetClose.emit();\n        deactivateFocusTrap(this);\n    }\n    openSheet() {\n        this.el.addEventListener(\"calciteSheetOpen\", this.openEnd);\n        this.opened = true;\n        if (!this.embedded) {\n            this.initialOverflowCSS = document.documentElement.style.overflow;\n            // use an inline style instead of a utility class to avoid global class declarations.\n            document.documentElement.style.setProperty(\"overflow\", \"hidden\");\n        }\n    }\n    removeOverflowHiddenClass() {\n        document.documentElement.style.setProperty(\"overflow\", this.initialOverflowCSS);\n    }\n    handleMutationObserver() {\n        this.updateFocusTrapElements();\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"focusTrapDisabled\": [\"handleFocusTrapDisabled\"],\n        \"open\": [\"toggleSheet\"],\n        \"opened\": [\"handleOpenedChange\"]\n    }; }\n};\nSheet.style = CalciteSheetStyle0;\n\nexport { Sheet as calcite_sheet };\n\n//# sourceMappingURL=calcite-sheet.entry.js.map"],"names":["CSS","sheetCss","CalciteSheetStyle0","Sheet","hostRef","registerInstance","createEvent","createObserver","el","ensureId","focusTrapDisabled","deactivateFocusTrap","activateFocusTrap","value","onToggleOpenCloseComponent","setUpLoadableComponent","setComponentLoaded","_a","connectFocusTrap","dir","getElementDir","h","Host","CSS_UTILITY","event","componentFocusable","focusFirstTabbable","updateFocusTrapElements","getElement"],"mappings":"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","x_google_ignoreList":[0]}