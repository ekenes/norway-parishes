{"version":3,"file":"shared-CwNoRJlW.js","sources":["../../node_modules/@arcgis/core/arcade/featureset/support/shared.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{ArcadeDate as e}from\"../../ArcadeDate.js\";import{DateOnly as r}from\"../../../core/sql/DateOnly.js\";import{TimeOnly as t}from\"../../../core/sql/TimeOnly.js\";import i from\"../../../geometry/Extent.js\";import n from\"../../../layers/support/Field.js\";import{DateTime as o}from\"luxon\";var l,s;function y(e){return n.fromJSON(e.toJSON())}function u(e){return e.toJSON?e.toJSON():e}function p(e){return\"string\"==typeof e||e instanceof String}function a(e){return\"boolean\"==typeof e}function c(e){return\"number\"==typeof e}function m(e){return Array.isArray(e)}function f(e){return e instanceof Date}function d(e){return e instanceof o}function g(r){return r instanceof e}function T(e){return e instanceof r}function F(e){return e instanceof t}function G(e,r){return e===r||!(!f(e)&&!g(e)||!f(r)&&!g(r))&&e.getTime()===r.getTime()}function S(e){const r={};for(const t in e)r[t]=e[t];return r}function O(e){if(null==e)return null;if(\"number\"==typeof e)return e;switch(e.toLowerCase()){case\"meters\":case\"meter\":return 109404;case\"miles\":case\"mile\":return 109439;case\"kilometers\":case\"kilometer\":case\"km\":return 109414}return null}function v(e){if(null==e)return null;switch(e.type){case\"polygon\":case\"multipoint\":case\"polyline\":return e.extent;case\"point\":return new i({xmin:e.x,ymin:e.y,xmax:e.x,ymax:e.y,spatialReference:e.spatialReference});case\"extent\":return e}return null}function b(e){if(null==e)return null;if(\"number\"==typeof e)return e;if(\"number\"==typeof e)return e;switch(e.toLowerCase()){case\"meters\":case\"meter\":return 9001;case\"miles\":case\"mile\":return 9093;case\"kilometers\":case\"kilometer\":case\"km\":return 9036}return null}function I(e,r){return e===r||(\"point\"===e&&\"esriGeometryPoint\"===r||(\"polyline\"===e&&\"esriGeometryPolyline\"===r||(\"polygon\"===e&&\"esriGeometryPolygon\"===r||(\"extent\"===e&&\"esriGeometryEnvelope\"===r||(\"multipoint\"===e&&\"esriGeometryMultipoint\"===r||(\"point\"===r&&\"esriGeometryPoint\"===e||(\"polyline\"===r&&\"esriGeometryPolyline\"===e||(\"polygon\"===r&&\"esriGeometryPolygon\"===e||(\"extent\"===r&&\"esriGeometryEnvelope\"===e||\"multipoint\"===r&&\"esriGeometryMultipoint\"===e)))))))))}!function(e){e[e.Standardised=0]=\"Standardised\",e[e.StandardisedNoInterval=1]=\"StandardisedNoInterval\",e[e.SqlServer=2]=\"SqlServer\",e[e.Oracle=3]=\"Oracle\",e[e.Postgres=4]=\"Postgres\",e[e.PGDB=5]=\"PGDB\",e[e.FILEGDB=6]=\"FILEGDB\",e[e.NotEvaluated=7]=\"NotEvaluated\"}(l||(l={})),function(e){e[e.InFeatureSet=0]=\"InFeatureSet\",e[e.NotInFeatureSet=1]=\"NotInFeatureSet\",e[e.Unknown=2]=\"Unknown\"}(s||(s={}));const D=1e3;function P(e){return function(r){e.reject(r)}}function x(e,r){return function(){try{e.apply(null,arguments)}catch(t){r.reject(t)}}}const N={point:\"point\",polygon:\"polygon\",polyline:\"polyline\",multipoint:\"multipoint\",extent:\"extent\",esriGeometryPoint:\"point\",esriGeometryPolygon:\"polygon\",esriGeometryPolyline:\"polyline\",esriGeometryMultipoint:\"multipoint\",esriGeometryEnvelope:\"extent\",envelope:\"extent\"},w={point:\"esriGeometryPoint\",polygon:\"esriGeometryPolygon\",polyline:\"esriGeometryPolyline\",multipoint:\"esriGeometryMultipoint\",extent:\"esriGeometryEnvelope\",esriGeometryPoint:\"esriGeometryPoint\",esriGeometryPolygon:\"esriGeometryPolygon\",esriGeometryPolyline:\"esriGeometryPolyline\",esriGeometryMultipoint:\"esriGeometryMultipoint\",esriGeometryEnvelope:\"esriGeometryEnvelope\",envelope:\"esriGeometryEnvelope\"},E={\"small-integer\":\"esriFieldTypeSmallInteger\",integer:\"esriFieldTypeInteger\",long:\"esriFieldTypeLong\",single:\"esriFieldTypeSingle\",double:\"esriFieldTypeDouble\",string:\"esriFieldTypeString\",date:\"esriFieldTypeDate\",\"date-only\":\"esriFieldTypeDateOnly\",\"time-only\":\"esriFieldTypeTimeOnly\",\"timestamp-offset\":\"esriFieldTypeTimestampOffset\",oid:\"esriFieldTypeOID\",geometry:\"esriFieldTypeGeometry\",blob:\"esriFieldTypeBlob\",raster:\"esriFieldTypeRaster\",guid:\"esriFieldTypeGUID\",\"global-id\":\"esriFieldTypeGlobalID\",xml:\"esriFieldTypeXML\",\"big-integer\":\"esriFieldTypeBigInteger\",esriFieldTypeSmallInteger:\"esriFieldTypeSmallInteger\",esriFieldTypeInteger:\"esriFieldTypeInteger\",esriFieldTypeLong:\"esriFieldTypeLong\",esriFieldTypeSingle:\"esriFieldTypeSingle\",esriFieldTypeDouble:\"esriFieldTypeDouble\",esriFieldTypeString:\"esriFieldTypeString\",esriFieldTypeDate:\"esriFieldTypeDate\",esriFieldTypeDateOnly:\"esriFieldTypeDateOnly\",esriFieldTypeTimeOnly:\"esriFieldTypeTimeOnly\",esriFieldTypeTimestampOffset:\"esriFieldTypeTimestampOffset\",esriFieldTypeOID:\"esriFieldTypeOID\",esriFieldTypeGeometry:\"esriFieldTypeGeometry\",esriFieldTypeBlob:\"esriFieldTypeBlob\",esriFieldTypeRaster:\"esriFieldTypeRaster\",esriFieldTypeGUID:\"esriFieldTypeGUID\",esriFieldTypeGlobalID:\"esriFieldTypeGlobalID\",esriFieldTypeXML:\"esriFieldTypeXML\",esriFieldTypeBigInteger:\"esriFieldTypeBigInteger\"};function h(e){switch(e){case\"point\":default:return\"esriGeometryPoint\";case\"polygon\":return\"esriGeometryPolygon\";case\"multipoint\":return\"esriGeometryMultipoint\";case\"polyline\":return\"esriGeometryPolyline\"}}function k(e){return void 0===e?\"\":e=(e=(e=e.replace(/\\/featureserver\\/[0-9]*/i,\"/FeatureServer\")).replace(/\\/mapserver\\/[0-9]*/i,\"/MapServer\")).split(\"?\")[0]}function J(e,r){r||(r={}),\"function\"==typeof r&&(r={cmp:r});const t=\"boolean\"==typeof r.cycles&&r.cycles,i=r.cmp&&(n=r.cmp,function(e){return function(r,t){const i={key:r,value:e[r]},o={key:t,value:e[t]};return n(i,o)}});var n;const o=[];return function e(r){if(r?.toJSON&&\"function\"==typeof r.toJSON&&(r=r.toJSON()),void 0===r)return;if(\"number\"==typeof r)return isFinite(r)?\"\"+r:\"null\";if(\"object\"!=typeof r)return JSON.stringify(r);let n,l;if(Array.isArray(r)){for(l=\"[\",n=0;n<r.length;n++)n&&(l+=\",\"),l+=e(r[n])||\"null\";return l+\"]\"}if(null===r)return\"null\";if(o.includes(r)){if(t)return JSON.stringify(\"__cycle__\");throw new TypeError(\"Converting circular structure to JSON\")}const s=o.push(r)-1,y=Object.keys(r).sort(i?.(r));for(l=\"\",n=0;n<y.length;n++){const t=y[n],i=e(r[t]);i&&(l&&(l+=\",\"),l+=JSON.stringify(t)+\":\"+i)}return o.splice(s,1),\"{\"+l+\"}\"}(e)}function M(e){switch(e.type){case\"catalog\":case\"csv\":case\"feature\":case\"geojson\":case\"oriented-imagery\":case\"subtype-group\":case\"wfs\":return!0;default:return!1}}function j(e){switch(e.type){case\"catalog-footprint\":case\"subtype-sublayer\":return!0;default:return M(e)}}export{l as FeatureServiceDatabaseType,s as IdState,x as callback,S as cloneAttributes,y as cloneField,b as convertLinearUnitsToCode,O as convertSquareUnitsToCode,D as defaultMaxRecords,G as equalityTest,P as errback,u as esriFieldToJson,k as extractServiceUrl,g as isArcadeDate,T as isArcadeDateOnly,F as isArcadeTime,m as isArray,a as isBoolean,f as isDate,d as isLuxonDate,c as isNumber,p as isString,j as isSupportedLayer,M as isSupportedSourceLayer,E as layerFieldEsriConstants,N as layerGeometryEsriConstants,w as layerGeometryEsriRestConstants,I as sameGeomType,v as shapeExtent,J as stableStringify,h as toEsriGeometryType};\n"],"names":["l","s","y","n","u","f","d","o","g","r","e","T","F","t","O","v","i","b","D","N","w","E","k","J","M","j"],"mappings":"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","x_google_ignoreList":[0]}