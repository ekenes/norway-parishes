{"version":3,"file":"calcite-sortable-list.entry-BYziZg03.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-sortable-list.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-abe3b66e.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport { c as createObserver } from './observers-9c166451.js';\nimport { d as disconnectSortableComponent, c as connectSortableComponent } from './sortableComponent-d3c6a806.js';\nimport { d as focusElement } from './dom-b6dedd88.js';\nimport './browser-618ac057.js';\nimport './guid-9c230b6a.js';\nimport './resources-a23d2491.js';\n\nconst CSS = {\n    sortItem: \"sort-item\",\n    container: \"container\",\n    containerHorizontal: \"container--horizontal\",\n    containerVertical: \"container--vertical\",\n};\n\nconst sortableListCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:flex}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}.container{display:flex;flex:1 1 auto}.container--vertical{flex-direction:column}.container--horizontal{flex-direction:row}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteSortableListStyle0 = sortableListCss;\n\nconst SortableList = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteListOrderChange = createEvent(this, \"calciteListOrderChange\", 6);\n        this.items = [];\n        this.mutationObserver = createObserver(\"mutation\", () => {\n            this.setUpSorting();\n        });\n        this.dragEnabled = true;\n        this.canPull = undefined;\n        this.canPut = undefined;\n        this.dragSelector = undefined;\n        this.group = undefined;\n        this.handleSelector = \"calcite-handle\";\n        this.layout = \"vertical\";\n        this.disabled = false;\n        this.loading = false;\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    // --------------------------------------------------------------------------\n    connectedCallback() {\n        this.setUpSorting();\n        this.beginObserving();\n    }\n    disconnectedCallback() {\n        disconnectSortableComponent(this);\n        this.endObserving();\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    calciteHandleNudgeNextHandler(event) {\n        this.handleNudgeEvent(event);\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    // --------------------------------------------------------------------------\n    onGlobalDragStart() {\n        this.endObserving();\n    }\n    onGlobalDragEnd() {\n        this.beginObserving();\n    }\n    onDragEnd() { }\n    onDragStart() { }\n    onDragSort() {\n        this.items = Array.from(this.el.children);\n        this.calciteListOrderChange.emit();\n    }\n    handleNudgeEvent(event) {\n        const { direction } = event.detail;\n        const handle = event\n            .composedPath()\n            .find((el) => el.matches(this.handleSelector));\n        const sortItem = this.items.find((item) => {\n            return item.contains(handle) || event.composedPath().includes(item);\n        });\n        const lastIndex = this.items.length - 1;\n        const startingIndex = this.items.indexOf(sortItem);\n        let appendInstead = false;\n        let buddyIndex;\n        if (direction === \"up\") {\n            if (startingIndex === 0) {\n                appendInstead = true;\n            }\n            else {\n                buddyIndex = startingIndex - 1;\n            }\n        }\n        else {\n            if (startingIndex === lastIndex) {\n                buddyIndex = 0;\n            }\n            else if (startingIndex === lastIndex - 1) {\n                appendInstead = true;\n            }\n            else {\n                buddyIndex = startingIndex + 2;\n            }\n        }\n        this.endObserving();\n        if (appendInstead) {\n            sortItem.parentElement.appendChild(sortItem);\n        }\n        else {\n            sortItem.parentElement.insertBefore(sortItem, this.items[buddyIndex]);\n        }\n        this.items = Array.from(this.el.children);\n        this.beginObserving();\n        requestAnimationFrame(() => focusElement(handle));\n        if (\"selected\" in handle) {\n            handle.selected = true;\n        }\n    }\n    setUpSorting() {\n        this.items = Array.from(this.el.children);\n        connectSortableComponent(this);\n    }\n    beginObserving() {\n        this.mutationObserver?.observe(this.el, { childList: true, subtree: true });\n    }\n    endObserving() {\n        this.mutationObserver?.disconnect();\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    // --------------------------------------------------------------------------\n    render() {\n        const { disabled, layout } = this;\n        const horizontal = layout === \"horizontal\" || false;\n        return (h(InteractiveContainer, { key: 'ac305a674d12738f9f68dbc8bad42569098a0cb3', disabled: disabled }, h(\"div\", { key: 'dca1ee832c59b93f546404512d703f843da58ccb', class: {\n                [CSS.container]: true,\n                [CSS.containerVertical]: !horizontal,\n                [CSS.containerHorizontal]: horizontal,\n            } }, h(\"slot\", { key: '92f9e08889d4cf08891571aa5ab233392a9f0fd9' }))));\n    }\n    get el() { return getElement(this); }\n};\nSortableList.style = CalciteSortableListStyle0;\n\nexport { SortableList as calcite_sortable_list };\n\n//# sourceMappingURL=calcite-sortable-list.entry.js.map"],"names":["CSS","sortableListCss","CalciteSortableListStyle0","SortableList","hostRef","registerInstance","createEvent","createObserver","disconnectSortableComponent","updateHostInteraction","event","direction","handle","el","sortItem","item","lastIndex","startingIndex","appendInstead","buddyIndex","focusElement","connectSortableComponent","_a","disabled","layout","horizontal","h","InteractiveContainer","getElement"],"mappings":"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","x_google_ignoreList":[0]}