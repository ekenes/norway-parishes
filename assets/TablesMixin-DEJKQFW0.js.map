{"version":3,"file":"TablesMixin-DEJKQFW0.js","sources":["../../node_modules/@arcgis/core/support/collectionUtils.js","../../node_modules/@arcgis/core/support/LayersMixin.js","../../node_modules/@arcgis/core/support/TablesMixin.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../core/CollectionFlattener.js\";function t(t){return new e({getCollections:()=>[t.tables,t.layers],getChildrenFunction:e=>{const t=[];return\"tables\"in e&&t.push(e.tables),\"layers\"in e&&t.push(e.layers),t},itemFilterFunction:e=>{const t=e.parent;return!!t&&\"tables\"in t&&t.tables.includes(e)}})}function n(e){for(const t of e.values())t?.destroy();e.clear()}export{t as createFlattenedTablesCollection,n as destroyMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import r from\"../core/Collection.js\";import{referenceSetter as t}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{isPromiseLike as o}from\"../core/promiseUtils.js\";import{property as a}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";import n from\"../layers/Layer.js\";function d(e,r,t){let s,o;if(e)for(let a=0,i=e.length;a<i;a++){if(s=e.at(a),s?.[r]===t)return s;if(\"group\"===s?.type&&(o=d(s.layers,r,t),o))return o}}const l=l=>{let y=class extends l{constructor(...e){super(...e),this.layers=new r;const t=e=>{e.parent&&\"remove\"in e.parent&&e.parent.remove(e)},o=e=>{e.parent=this,this.layerAdded(e),\"elevation\"!==e.type&&\"base-elevation\"!==e.type||s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as an operational layer and will therefore be ignored.`)},a=e=>{e.parent=null,this.layerRemoved(e)};this.addHandles([this.layers.on(\"before-add\",(e=>{if(e.item===this)return e.preventDefault(),void s.getLogger(this).error(\"#add()\",\"Cannot add layer to itself.\");t(e.item)})),this.layers.on(\"after-add\",(e=>o(e.item))),this.layers.on(\"after-remove\",(e=>a(e.item)))])}destroy(){const e=this.layers.toArray();for(const r of e)r.destroy();this.layers.destroy()}set layers(e){this._set(\"layers\",t(e,this._get(\"layers\")))}add(e,r){const t=this.layers;if(r=t.getNextIndex(r),e instanceof n){const s=e;s.parent===this?this.reorder(s,r):t.add(s,r)}else o(e)?e.then((e=>{this.destroyed||this.add(e,r)})):s.getLogger(this).error(\"#add()\",\"The item being added is not a Layer or a Promise that resolves to a Layer.\")}addMany(e,r){const t=this.layers;let s=t.getNextIndex(r);e.slice().forEach((e=>{e.parent!==this?(t.add(e,s),s+=1):this.reorder(e,s)}))}findLayerById(e){return d(this.layers,\"id\",e)}findLayerByUid(e){return d(this.layers,\"uid\",e)}remove(e){return this.layers.remove(e)}removeMany(e){return this.layers.removeMany(e)}removeAll(){return this.layers.removeAll()}reorder(e,r){return this.layers.reorder(e,r)}layerAdded(e){}layerRemoved(e){}};return e([a()],y.prototype,\"layers\",null),y=e([i(\"esri.support.LayersMixin\")],y),y};export{l as LayersMixin};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../chunks/tslib.es6.js\";import e from\"../core/Collection.js\";import{referenceSetter as r}from\"../core/collectionUtils.js\";import s from\"../core/Logger.js\";import{property as o}from\"../core/accessorSupport/decorators/property.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import{subclass as i}from\"../core/accessorSupport/decorators/subclass.js\";function a(t,e,r){if(t)for(let s=0,o=t.length;s<o;s++){const o=t.at(s);if(o[e]===r)return o;if(\"group\"===o?.type){const t=a(o.tables,e,r);if(t)return t}}}const n=n=>{let l=class extends n{constructor(...t){super(...t),this.tables=new e,this.addHandles([this.tables.on(\"after-add\",(t=>{const e=t.item;e.parent&&e.parent!==this&&\"tables\"in e.parent&&e.parent.tables.remove(e),e.parent=this,\"feature\"!==e.type&&s.getLogger(this).error(`Layer 'title:${e.title}, id:${e.id}' of type '${e.type}' is not supported as a table and will therefore be ignored.`)})),this.tables.on(\"after-remove\",(t=>{t.item.parent=null}))])}destroy(){const t=this.tables.toArray();for(const e of t)e.destroy();this.tables.destroy()}set tables(t){this._set(\"tables\",r(t,this._get(\"tables\")))}findTableById(t){return a(this.tables,\"id\",t)}findTableByUid(t){return a(this.tables,\"uid\",t)}};return t([o()],l.prototype,\"tables\",null),l=t([i(\"esri.support.TablesMixin\")],l),l};export{n as TablesMixin};\n"],"names":["t","e","n","r","s","o","a","i","l","y"],"mappings":"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","x_google_ignoreList":[0,1,2]}