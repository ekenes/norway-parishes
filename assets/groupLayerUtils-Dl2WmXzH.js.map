{"version":3,"file":"groupLayerUtils-Dl2WmXzH.js","sources":["../../node_modules/@arcgis/core/layers/save/groupLayerUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{save as e,saveAs as r}from\"./utils.js\";import{createForItemWrite as t}from\"../../portal/support/jsonContext.js\";import{typeKeyword as o,hasTypeKeyword as a,removeTypeKeyword as s,addTypeKeyword as n}from\"../../portal/support/portalItemUtils.js\";import{saveResources as i}from\"../../webdoc/support/resourceUtils.js\";const u=\"Group Layer\",c=\"group-layer-save\",l=\"group-layer-save-as\",p=o.GROUP_LAYER_MAP;function m(e){return{isValid:\"group\"===e.type,errorMessage:\"Layer.type should be 'group'\"}}function y(e){return{isValid:a(e,p),errorMessage:`Layer.portalItem.typeKeywords should have '${p}'`}}function f(e,r){return{...t(e,\"web-map\",!0),initiator:r}}function v(e){const r=e.layerJSON;return Promise.resolve(r&&Object.keys(r).length?r:null)}async function d(e,r){r.title||=e.title,s(r,o.METADATA),n(r,p)}async function I(r,t){return e({layer:r,itemType:u,validateLayer:m,validateItem:y,createJSONContext:e=>f(e,r),createItemData:v,errorNamePrefix:c,saveResources:async(e,t)=>(r.sourceIsPortalItem||await e.removeAllResources().catch((()=>{})),i(r.resourceReferences,t))},t)}async function g(e,t,o){return r({layer:e,itemType:u,validateLayer:m,createJSONContext:r=>f(r,e),createItemData:v,errorNamePrefix:l,newItem:t,setItemProperties:d,saveResources:(r,t)=>i(e.resourceReferences,t)},o)}export{I as save,g as saveAs};\n"],"names":["u","c","l","p","o","m","y","a","f","t","v","d","s","n","I","r","e","i","g"],"mappings":"maAIkU,MAAMA,EAAE,cAAcC,EAAE,mBAAmBC,EAAE,sBAAsBC,EAAEC,EAAE,gBAAgB,SAASC,EAAE,EAAE,CAAC,MAAM,CAAC,QAAkB,EAAE,OAAZ,QAAiB,aAAa,8BAA8B,CAAC,CAAC,SAASC,EAAE,EAAE,CAAC,MAAM,CAAC,QAAQC,EAAE,EAAEJ,CAAC,EAAE,aAAa,8CAA8CA,CAAC,GAAG,CAAC,CAAC,SAASK,EAAE,EAAE,EAAE,CAAC,MAAM,CAAC,GAAGC,EAAE,EAAE,UAAU,EAAE,EAAE,UAAU,CAAC,CAAC,CAAC,SAASC,EAAE,EAAE,CAAC,MAAM,EAAE,EAAE,UAAU,OAAO,QAAQ,QAAQ,GAAG,OAAO,KAAK,CAAC,EAAE,OAAO,EAAE,IAAI,CAAC,CAAC,eAAeC,EAAE,EAAE,EAAE,CAAC,EAAE,QAAF,EAAE,MAAQ,EAAE,OAAMC,EAAE,EAAER,EAAE,QAAQ,EAAES,EAAE,EAAEV,CAAC,CAAC,CAAC,eAAeW,EAAEC,EAAEN,EAAE,CAAC,OAAOO,EAAE,CAAC,MAAMD,EAAE,SAASf,EAAE,cAAcK,EAAE,aAAaC,EAAE,kBAAkBU,GAAGR,EAAEQ,EAAED,CAAC,EAAE,eAAeL,EAAE,gBAAgBT,EAAE,cAAc,MAAMe,EAAEP,KAAKM,EAAE,oBAAoB,MAAMC,EAAE,mBAAoB,EAAC,MAAO,IAAI,CAAE,CAAA,EAAGC,EAAEF,EAAE,mBAAmBN,CAAC,EAAE,EAAEA,CAAC,CAAC,CAAC,eAAeS,EAAE,EAAET,EAAEL,EAAE,CAAC,OAAOW,EAAE,CAAC,MAAM,EAAE,SAASf,EAAE,cAAcK,EAAE,kBAAkBU,GAAGP,EAAEO,EAAE,CAAC,EAAE,eAAeL,EAAE,gBAAgBR,EAAE,QAAQO,EAAE,kBAAkBE,EAAE,cAAc,CAACI,EAAEN,IAAIQ,EAAE,EAAE,mBAAmBR,CAAC,CAAC,EAAEL,CAAC,CAAC","x_google_ignoreList":[0]}