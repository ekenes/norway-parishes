{"version":3,"mappings":"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","names":["_","T","i","n","r","_a","t","h","s","y","o","e","m","a","d","l","u","_b","f","has","p","c","g","We","Ze","He","ke","xe","ze","Ke","R","V","A","N","O","C","U","J","G","$","q","Q","B","M","P","L","__vitePreload","Ge","ie","_c","$e","v","Oe","oe","se","ae","w","Pe","ne","x","Ue","Le","W","Z","H","_e","le","pe","ue","de","Ne","ye","b","ce","me","he","fe","be","ge","we","Be","ve","je","Se","Fe","Te","Ie","Re","qe","Qe","Ee","j","k","F","Ve","I","D","De","z","K","Ce","Me","E","X","Je","Y","ee","te","re","S","Ae","Xe"],"ignoreList":[0,1,2,3],"sources":["../../node_modules/@arcgis/core/layers/graphics/sources/MemorySource.js","../../node_modules/@arcgis/core/layers/support/PublishingInfo.js","../../node_modules/@arcgis/core/layers/mixins/PublishableLayer.js","../../node_modules/@arcgis/core/layers/FeatureLayer.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../../../chunks/tslib.es6.js\";import\"../../../geometry.js\";import t from\"../../../Graphic.js\";import r from\"../../../core/Collection.js\";import s from\"../../../core/Error.js\";import has from\"../../../core/has.js\";import i from\"../../../core/Loadable.js\";import o from\"../../../core/Logger.js\";import{EsriPromiseMixin as n}from\"../../../core/Promise.js\";import{open as a}from\"../../../core/workers/workers.js\";import{property as l}from\"../../../core/accessorSupport/decorators/property.js\";import{ensureType as u}from\"../../../core/accessorSupport/ensureType.js\";import\"../../../core/RandomLCG.js\";import{shared as p}from\"../../../core/accessorSupport/decorators/shared.js\";import{subclass as c}from\"../../../core/accessorSupport/decorators/subclass.js\";import{unapplyEditsZUnitScaling as d}from\"../../../rest/query/operations/editsZScale.js\";import{applyFeatureSetZUnitScaling as h}from\"../../../rest/query/operations/queryZScale.js\";import y from\"../../../rest/support/FeatureSet.js\";import m from\"../../../geometry/Extent.js\";import f from\"../../../geometry/Polygon.js\";import{typeKebabDictionary as g}from\"../../../geometry/support/typeUtils.js\";let _=0,T=class extends(i.LoadableMixin(n(r))){constructor(e){super(e),this._idToClientGraphic=null,this.type=\"memory\"}load(e){const t=null!=e?e.signal:null;return this.addResolvingPromise(this._startWorker(t)),Promise.resolve(this)}destroy(){this._connection?.close(),this._connection=null}get _workerGeometryType(){const e=this.layer?.geometryType;return e?this._geometryTypeRequiresClientGraphicMapping(e)?\"polygon\":e:null}applyEdits(e){return this.load().then((()=>this._applyEdits(e)))}openPorts(){return this.load().then((()=>this._connection.openPorts()))}async queryFeatures(e,t={}){await this.load(t);const r=await this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t);h(e,this.layer.spatialReference,r);const s=y.fromJSON(r);if(!this._requiresClientGraphicMapping())return s;const i=this.layer.objectIdField;for(const o of s.features){const e=o.attributes[i],t=this._idToClientGraphic.get(e);t&&(o.geometry=t.geometry)}return s.geometryType=this.layer.geometryType,s}async queryFeaturesJSON(e,t={}){if(this._requiresClientGraphicMapping())throw new s(\"query-features-json:unsupported\",\"Cannot query in JSON format for client only geometry types (mesh and extent)\");await this.load(t);const r=await this._connection.invoke(\"queryFeatures\",e?e.toJSON():null,t);return h(e,this.layer.spatialReference,r),r}queryFeatureCount(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"queryFeatureCount\",e?e.toJSON():null,t)))}queryObjectIds(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"queryObjectIds\",e?e.toJSON():null,t)))}queryExtent(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"queryExtent\",e?e.toJSON():null,t))).then((e=>({count:e.count,extent:m.fromJSON(e.extent)})))}querySnapping(e,t={}){return this.load(t).then((()=>this._connection.invoke(\"querySnapping\",e,t)))}async _applyEdits(e){if(!this._connection)throw new s(\"feature-layer-source:edit-failure\",\"Memory source not loaded\");const t=this.layer.objectIdField;let r=null;const i=[],o=[];await Promise.all([this._prepareClientMapping(e.addFeatures,null),this._prepareClientMapping(e.updateFeatures,null)]);const n=e=>\"objectId\"in e&&null!=e.objectId?e.objectId:\"attributes\"in e&&null!=e.attributes[t]?e.attributes[t]:null;if(e.addFeatures&&(r=this._prepareAddFeatures(e.addFeatures)),e.deleteFeatures)for(const s of e.deleteFeatures){const e=n(s);null!=e&&i.push(e)}const a=e.updateFeatures&&this._idToClientGraphic?new Map:null;if(e.updateFeatures)for(const s of e.updateFeatures)if(o.push(this._serializeFeature(s)),a){const e=n(s);null!=e&&a.set(e,s)}d(r?r.features:null,o,this.layer.spatialReference);const{fullExtent:l,featureEditResults:u}=await this._connection.invoke(\"applyEdits\",{adds:r?r.features:[],updates:o,deletes:i});return this.fullExtent=l,r&&r.finish(u.uidToObjectId),this._updateClientGraphicIds(a,u),this._createEditsResult(u)}async _prepareClientMapping(e,t){if(\"mesh\"!==this._layerOrSourceGeometryType||null==e)return;const r=[];for(const{geometry:s}of e)null==s||\"mesh\"!==s.type||s.hasExtent||s.loaded||r.push(s.load({signal:t}));r.length&&await Promise.all(r)}_updateClientGraphicIds(e,t){if(this._idToClientGraphic){if(e)for(const r of t.updateResults){if(!r.success)continue;const t=e.get(r.objectId);null!=t&&this._addIdToClientGraphic(t)}for(const e of t.deleteResults)e.success&&this._idToClientGraphic.delete(e.objectId)}}_createEditsResult(e){return{addFeatureResults:e.addResults?e.addResults.map(this._createFeatureEditResult,this):[],updateFeatureResults:e.updateResults?e.updateResults.map(this._createFeatureEditResult,this):[],deleteFeatureResults:e.deleteResults?e.deleteResults.map(this._createFeatureEditResult,this):[],addAttachmentResults:[],updateAttachmentResults:[],deleteAttachmentResults:[]}}_createFeatureEditResult(e){const t=!0===e.success?null:e.error||{code:void 0,description:void 0};return{objectId:e.objectId,globalId:e.globalId,error:t?new s(\"feature-layer-source:edit-failure\",t.description,{code:t.code}):null}}_prepareAddFeatures(e){const t=new Map,r=new Array(e.length);let s=null;for(let o=0;o<e.length;o++){const i=e[o],n=this._serializeFeature(i);s||null==i.geometry||(s=i.geometry.type),r[o]=n,t.set(`${n.uid}`,i)}const i=this;return{features:r,inferredGeometryType:s,finish(e){const r=i.sourceJSON.objectIdField;for(const s in e){const o=e[s],n=t.get(s);n&&(n.attributes||(n.attributes={}),-1===o?delete n.attributes[r]:n.attributes[r]=o,i._addIdToClientGraphic(n))}}}}_addIdToClientGraphic(e){if(!this._idToClientGraphic)return;const t=this.sourceJSON.objectIdField,r=e.attributes?.[t];null!=r&&this._idToClientGraphic.set(r,e)}get _layerOrSourceGeometryType(){return this.layer?.geometryType??this.sourceJSON?.geometryType}_requiresClientGraphicMapping(){return this._geometryTypeRequiresClientGraphicMapping(this._layerOrSourceGeometryType)}_geometryRequiresClientGraphicMapping(e){return this._geometryTypeRequiresClientGraphicMapping(e.type)}_geometryTypeRequiresClientGraphicMapping(e){return\"mesh\"===e||\"multipatch\"===e||\"extent\"===e}_serializeFeature(e){const{attributes:t}=e,r=this._geometryForSerialization(e),s=(_++).toString();return r?{uid:s,geometry:r.toJSON(),attributes:t}:{uid:s,attributes:t}}_geometryForSerialization(e){const{geometry:t}=e;if(null==t)return null;if(this._geometryRequiresClientGraphicMapping(t)){return t.extent?f.fromExtent(t.extent):null}return t}async _startWorker(e){this._connection=await a(\"MemorySourceWorker\",{strategy:has(\"feature-layers-workers\")?\"dedicated\":\"local\",signal:e,registryTarget:this});const{fields:t,spatialReference:r,objectIdField:s,hasM:i,hasZ:n,timeInfo:l,dateFieldsTimeZone:u}=this.layer,p=\"defaults\"===this.layer.originOf(\"spatialReference\");await this._prepareClientMapping(this.items,e);const c=this._prepareAddFeatures(this.items);this.addHandles(this.on(\"before-changes\",(e=>{o.getLogger(this).error(\"Source modifications will not propagate after layer has been loaded. Please use .applyEdits() instead\"),e.preventDefault()})));const d={features:c.features,fields:t?.map((e=>e.toJSON())),geometryType:g.toJSON(this._workerGeometryType),hasM:\"mesh\"!==this._layerOrSourceGeometryType&&i,hasZ:\"mesh\"===this._layerOrSourceGeometryType||n,objectIdField:s,spatialReference:p?null:r&&r.toJSON(),timeInfo:l?.toJSON()??null,dateFieldsTimeZone:u},h=await this._connection.invoke(\"load\",d,{signal:e});for(const a of h.warnings)o.getLogger(this.layer).warn(\"#load()\",`${a.message} (title: '${this.layer.title||\"no title\"}', id: '${this.layer.id??\"no id\"}')`,{warning:a});h.featureErrors.length&&o.getLogger(this.layer).warn(\"#load()\",`Encountered ${h.featureErrors.length} validation errors while loading features. (title: '${this.layer.title||\"no title\"}', id: '${this.layer.id??\"no id\"}')`,{errors:h.featureErrors});const y=h.layerDefinition;this._geometryTypeRequiresClientGraphicMapping(c.inferredGeometryType)&&(y.geometryType=g.toJSON(c.inferredGeometryType)),this.sourceJSON=y,this._requiresClientGraphicMapping()&&(this._idToClientGraphic=new Map),c.finish(h.assignedObjectIds)}};e([p({Type:t,ensureType:u(t)})],T.prototype,\"itemType\",void 0),e([l()],T.prototype,\"type\",void 0),e([l({constructOnly:!0})],T.prototype,\"layer\",void 0),e([l({readOnly:!0})],T.prototype,\"_workerGeometryType\",null),e([l()],T.prototype,\"sourceJSON\",void 0),T=e([c(\"esri.layers.graphics.sources.MemorySource\")],T);export{T as MemorySource};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import s from\"../../core/Accessor.js\";import{property as r}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as t}from\"../../core/accessorSupport/decorators/subclass.js\";let e=class extends s{constructor(){super(...arguments),this.updating=!1,this.status=\"unknown\"}};o([r()],e.prototype,\"updating\",void 0),o([r()],e.prototype,\"status\",void 0),e=o([t(\"esri.layers.support.PublishingInfo\")],e);const p=e;export{p as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as t}from\"../../chunks/tslib.es6.js\";import{property as s}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import\"../../core/RandomLCG.js\";import{subclass as e}from\"../../core/accessorSupport/decorators/subclass.js\";import r from\"../support/PublishingInfo.js\";const o=Symbol();function i(t){return null!=t&&\"object\"==typeof t&&o in t}const n=i=>{var n;let u=class extends i{constructor(){super(...arguments),this[n]=!0}get publishingInfo(){if(this.destroyed)return null;const t=this._get(\"publishingInfo\");if(t)return t;const s=new r;return this._checkPublishingStatus(s),s}_checkPublishingStatus(t){const s=250,e=125;let r=0;const o=async s=>{let n;t.updating=!0;try{n=await this.fetchPublishingStatus()}catch(u){n=\"unavailable\"}\"published\"!==n&&\"unavailable\"!==n||(\"publishing\"===t.status&&this.refresh(),i.remove()),t.status=n,t.updating=!1,i.removed||(r=setTimeout(o,s,s+e))},i={removed:!1,remove(){this.removed=!0,clearTimeout(r)}};this.when().catch((()=>i.remove())),o(s),this.addHandles(i)}};return n=o,t([s({readOnly:!0,clonable:!1})],u.prototype,\"publishingInfo\",null),u=t([e(\"esri.layers.mixins.PublishableLayer\")],u),u};export{n as PublishableLayer,i as isPublishableLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"../chunks/tslib.es6.js\";import t from\"../PopupTemplate.js\";import\"../renderers/ClassBreaksRenderer.js\";import\"../renderers/DictionaryRenderer.js\";import\"../renderers/DotDensityRenderer.js\";import\"../renderers/HeatmapRenderer.js\";import\"../renderers/PieChartRenderer.js\";import\"../renderers/Renderer.js\";import\"../renderers/SimpleRenderer.js\";import\"../renderers/UniqueValueRenderer.js\";import{read as r}from\"../renderers/support/jsonUtils.js\";import{rendererTypes as i,webSceneRendererTypes as o}from\"../renderers/support/types.js\";import s from\"../request.js\";import{symbolTypes as a}from\"../symbols.js\";import{ClonableMixin as n}from\"../core/Clonable.js\";import l from\"../core/Collection.js\";import p from\"../core/Error.js\";import{clone as u}from\"../core/lang.js\";import d from\"../core/Logger.js\";import{MultiOriginJSONMixin as y}from\"../core/MultiOriginJSONSupport.js\";import{setDeepValue as c}from\"../core/object.js\";import{debounce as m,throwIfAbortError as h,whenOrAbort as f}from\"../core/promiseUtils.js\";import{sqlAnd as b}from\"../core/sql.js\";import{urlToObject as g,join as w}from\"../core/urlUtils.js\";import v from\"../core/Warning.js\";import{property as j}from\"../core/accessorSupport/decorators/property.js\";import{cast as S}from\"../core/accessorSupport/decorators/cast.js\";import{reader as F}from\"../core/accessorSupport/decorators/reader.js\";import{subclass as T}from\"../core/accessorSupport/decorators/subclass.js\";import{writer as I}from\"../core/accessorSupport/decorators/writer.js\";import{excludeTables as E}from\"../core/accessorSupport/layerContainerType.js\";import D from\"../form/FormTemplate.js\";import L from\"../geometry/SpatialReference.js\";import _ from\"./Layer.js\";import{MemorySource as x}from\"./graphics/sources/MemorySource.js\";import{APIKeyMixin as P}from\"./mixins/APIKeyMixin.js\";import{ArcGISService as q}from\"./mixins/ArcGISService.js\";import{BlendLayer as C}from\"./mixins/BlendLayer.js\";import{CustomParametersMixin as M}from\"./mixins/CustomParametersMixin.js\";import{EditBusLayer as O}from\"./mixins/EditBusLayer.js\";import{FeatureEffectLayer as A}from\"./mixins/FeatureEffectLayer.js\";import{FeatureLayerBase as R}from\"./mixins/FeatureLayerBase.js\";import{FeatureReductionLayer as V}from\"./mixins/FeatureReductionLayer.js\";import{OperationalLayer as Q}from\"./mixins/OperationalLayer.js\";import{OrderedLayer as U}from\"./mixins/OrderedLayer.js\";import{PortalLayer as B}from\"./mixins/PortalLayer.js\";import{PublishableLayer as N}from\"./mixins/PublishableLayer.js\";import{RefreshableLayer as $}from\"./mixins/RefreshableLayer.js\";import{ScaleRangeLayer as G}from\"./mixins/ScaleRangeLayer.js\";import{TemporalLayer as J}from\"./mixins/TemporalLayer.js\";import{titleFromUrlAndName as W,parse as Z,cleanTitle as H}from\"./support/arcgisLayerUrl.js\";import{attributeTableTemplate as k,id as z,labelsVisible as K,opacityDrawingInfo as X,legendEnabled as Y,listMode as ee,popupEnabled as te,screenSizePerspectiveEnabled as re}from\"./support/commonProperties.js\";import{ensureLayerCredential as ie,computeEffectiveEditingEnabled as oe,readGlobalIdField as se,readObjectIdField as ae,createDefaultRenderer as ne,addAttachment as le,updateAttachment as pe,applyEdits as ue,uploadAssets as de,createQuery as ye,deleteAttachments as ce,fetchRecomputedExtents as me,getFeatureType as he,computeDomainFromSubtypes as fe,getFeatureSubtype as be,computeDomainFromTypes as ge,queryAttachments as we,queryObjectIds as ve,queryFeatureCount as je,queryExtent as Se,queryRelatedFeatures as Fe,queryRelatedFeaturesCount as Te,validateBinsQuery as Ie,hasDataChanged as Ee,geometryTypeKebabDict as De}from\"./support/featureLayerUtils.js\";import Le from\"./support/FeatureTemplate.js\";import _e from\"./support/FeatureType.js\";import{defineFieldProperties as xe}from\"./support/fieldProperties.js\";import{fixRendererFields as Pe,fixTimeInfoFields as qe}from\"./support/fieldUtils.js\";import Ce from\"./support/LabelClass.js\";import{reader as Me}from\"./support/labelingInfo.js\";import{getFeatureLayerCapabilities as Oe}from\"./support/serviceCapabilitiesUtils.js\";import Ae from\"./support/TimeInfo.js\";import{serviceSupportsSpatialReference as Re}from\"./support/versionUtils.js\";import{DataLayerSource as Ve}from\"./support/source/DataLayerSource.js\";import{loadStyleRenderer as Qe}from\"../renderers/support/styleUtils.js\";import Ue from\"../rest/support/FeatureSet.js\";import Be from\"../rest/support/Query.js\";import{createPopupTemplate as Ne}from\"../support/popupUtils.js\";import{alphaCutoff as $e}from\"../views/3d/webgl-engine/core/shaderLibrary/util/AlphaCutoff.js\";import{SaveOperationType as Ge}from\"../webdoc/interfaces.js\";import{opacityToTransparency as Je}from\"../webdoc/support/opacityUtils.js\";const We=\"FeatureLayer\";function Ze(e,t){return new p(\"layer:unsupported\",`Layer (${e.title}, ${e.id}) of type '${e.declaredClass}' ${t}`,{layer:e})}function He(e){return e&&e instanceof l}const ke=xe();function ze(e,t,r){const i=!!r?.writeLayerSchema;return{enabled:i,ignoreOrigin:i}}let Ke=class extends(R(V(A(N(O(C(U(J(G($(q(Q(B(y(M(P(n(_)))))))))))))))))){constructor(...e){super(...e),this.attributeTableTemplate=null,this.charts=null,this.copyright=null,this.displayField=null,this.dynamicDataSource=null,this.fields=null,this.fieldsIndex=null,this.formTemplate=null,this.fullExtent=null,this.geometryType=null,this.hasM=void 0,this.hasZ=void 0,this.infoFor3D=null,this.isTable=!1,this.labelsVisible=!0,this.labelingInfo=null,this.legendEnabled=!0,this.objectIdField=null,this.outFields=null,this.path=null,this.popupEnabled=!0,this.popupTemplate=null,this.resourceInfo=null,this.screenSizePerspectiveEnabled=!0,this.spatialReference=L.WGS84,this.subtypeCode=null,this.supportedSourceTypes=new Set([\"Feature Layer\",\"Oriented Imagery Layer\",\"Table\",\"Catalog Layer\"]),this.templates=null,this.timeInfo=null,this.title=null,this.sublayerTitleMode=\"item-title\",this.type=\"feature\",this.typeIdField=null,this.types=null,this.visible=!0,this._debouncedSaveOperations=m((async(e,t,r)=>{const{save:i,saveAs:o}=await import(\"./save/featureLayerUtils.js\");switch(e){case Ge.SAVE:return i(this,t);case Ge.SAVE_AS:return o(this,r,t)}}))}destroy(){this.source?.destroy()}normalizeCtorArgs(e,t){return\"string\"==typeof e?{url:e,...t}:e}load(e){const t=null!=e?e.signal:null;if(this.portalItem?.loaded&&this.source)return this.addResolvingPromise(this.createGraphicsSource(t).then((e=>this.initLayerProperties(e)))),Promise.resolve(this);const r=this.loadFromPortal({supportedTypes:[\"Feature Service\",\"Feature Collection\",\"Scene Service\"]},e).catch(h).then((async()=>{if(this.url&&null==this.layerId&&/FeatureServer|MapServer\\/*$/i.test(this.url)){const e=await this._fetchFirstValidLayerId(t);null!=e&&(this.layerId=e)}if(!this.url&&!this._hasMemorySource())throw new p(\"feature-layer:missing-url-or-source\",\"Feature layer must be created with either a url or a source\");return this.initLayerProperties(await this.createGraphicsSource(t))})).then((()=>ie(this,\"load\",e)));return this.addResolvingPromise(r),Promise.resolve(this)}warnInvisibleDrapedSymbols(){\"on-the-ground\"===this.elevationInfo?.mode&&\"simple\"===this.renderer?.type&&\"polygon-3d\"===this.renderer.symbol?.type&&this.renderer.symbol.symbolLayers.some((e=>\"fill\"===e.type&&null!=e.material&&((!e.material.color||e.material.color.a*this.opacity<$e)&&(this.loadWarnings.push(new v(\"feature-layer:invisible-draped-symbols\",\"FeatureLayer has fully transparent symbols which will no longer render or highlight\",{layer:this})),!0))))}readCapabilities(e,t){return t=t.layerDefinition||t,Oe(t,this.url)}get createQueryVersion(){return this.commitProperty(\"definitionExpression\"),this.commitProperty(\"dynamicDataSource\"),this.commitProperty(\"timeExtent\"),this.commitProperty(\"timeOffset\"),this.commitProperty(\"geometryType\"),this.commitProperty(\"gdbVersion\"),this.commitProperty(\"historicMoment\"),this.commitProperty(\"returnZ\"),this.commitProperty(\"capabilities\"),this.commitProperty(\"returnM\"),(this._get(\"createQueryVersion\")??0)+1}get editingEnabled(){return!(this.loaded&&!this.capabilities?.operations.supportsEditing)&&(this._isOverridden(\"editingEnabled\")?this._get(\"editingEnabled\"):this._hasMemorySource()||this.userHasEditingPrivileges)}set editingEnabled(e){this._overrideIfSome(\"editingEnabled\",e)}readEditingEnabled(e,t){return this._readEditingEnabled(t,!1)}readEditingEnabledFromWebMap(e,t,r){return this._readEditingEnabled(t,!0,r)}writeEditingEnabled(e,t){this._writeEditingEnabled(e,t,!1)}writeEditingEnabledToWebMap(e,t,r,i){this._writeEditingEnabled(e,t,!0,i)}get effectiveEditingEnabled(){return oe(this)}readIsTable(e,t){return\"Table\"===(t=t?.layerDefinition??t).type||!t.geometryType}writeIsTable(e,t,r,i){i?.writeLayerSchema&&c(r,e?\"Table\":\"Feature Layer\",t)}readGlobalIdField(e,t){return se(t.layerDefinition||t)}readObjectIdField(e,t){return ae(t.layerDefinition||t)}get parsedUrl(){const e=g(this.url);return null!=e&&(null!=this.dynamicDataSource?e.path=w(e.path,\"dynamicLayer\"):null!=this.layerId&&(e.path=w(e.path,this.layerId.toString()))),e}get defaultPopupTemplate(){return this.createPopupTemplate()}set renderer(e){Pe(e,this.fieldsIndex),this._set(\"renderer\",e)}readRenderer(e,t,i){t=t.layerDefinition||t;const o=t.drawingInfo?.renderer;if(o){const e=r(o,t,i)??void 0;return e||d.getLogger(this).error(\"Failed to create renderer\",{rendererDefinition:t.drawingInfo.renderer,layer:this,context:i}),e}return ne(t,i)}set source(e){const t=this._get(\"source\");t!==e&&(He(t)&&this._resetMemorySource(t),He(e)&&this._initMemorySource(e),this._set(\"source\",e))}castSource(e){return e?Array.isArray(e)||e instanceof l?new x({layer:this,items:e}):e:null}readSource(e,t){const r=Ue.fromJSON(t.featureSet);return new x({layer:this,items:r?.features??[]})}readTemplates(e,t){const r=t.editFieldsInfo,i=r?.creatorField,o=r?.editorField;return e=e?.map((e=>Le.fromJSON(e))),this._fixTemplates(e,i),this._fixTemplates(e,o),e}readTitle(e,t){const r=t.layerDefinition?.name??t.name,i=t.title||t.layerDefinition?.title;if(r){const e=this.portalItem?.title;if(\"item-title\"===this.sublayerTitleMode)return this.url?W(this.url,r):r;let t=r;if(!t&&this.url){const e=Z(this.url);null!=e&&(t=e.title)}if(!t)return;return\"item-title-and-service-name\"===this.sublayerTitleMode&&e&&e!==t&&(t=e+\" - \"+t),H(t)}if(\"item-title\"===this.sublayerTitleMode&&i)return i}readTitleFromWebMap(e,t){return t.title||t.layerDefinition?.name}readTypeIdField(e,t){let r=(t=t.layerDefinition||t).typeIdField;if(r&&t.fields){r=r.toLowerCase();const e=t.fields.find((e=>e.name.toLowerCase()===r));e&&(r=e.name)}return r}readTypes(e,t){e=(t=t.layerDefinition||t).types;const r=t.editFieldsInfo,i=r?.creatorField,o=r?.editorField;return e?.map((e=>(e=_e.fromJSON(e),this._fixTemplates(e.templates,i),this._fixTemplates(e.templates,o),e)))}readVisible(e,t){return null!=t.layerDefinition?.defaultVisibility?!!t.layerDefinition.defaultVisibility:null!=t.visibility?!!t.visibility:void 0}async addAttachment(e,t){const r=await le(this,e,t,We);return this.lastEditsEventDate=new Date,r}async updateAttachment(e,t,r){const i=await pe(this,e,t,r,We);return this.lastEditsEventDate=new Date,i}async applyEdits(e,t){return ue(this,e,t)}async uploadAssets(e,t){return de(this,e,t)}on(e,t){return super.on(e,t)}createPopupTemplate(e){return Ne(this,e)}async createGraphicsSource(e){if(this._hasMemorySource()&&this.source)return this.source.load({signal:e});const{default:t}=await f(import(\"./graphics/sources/FeatureLayerSource.js\"),e);return new t({layer:this,supportedSourceTypes:this.supportedSourceTypes}).load({signal:e})}createQuery(){const e=ye(this);e.dynamicDataSource=this.dynamicDataSource;const t=null!=this.subtypeCode?`${this.subtypeField} = ${this.subtypeCode}`:null,r=b(this.definitionExpression,t);return e.where=r||\"1=1\",e}async deleteAttachments(e,t){const r=await ce(this,e,t,We);return this.lastEditsEventDate=new Date,r}async fetchRecomputedExtents(e){return me(this,e,We)}getFeatureType(e){return he(this.types,this.typeIdField,e)}getFieldDomain(e,t){const r=t?.feature,i=!!this.subtypes?.length;if(i&&!t?.excludeImpliedDomains){const t=fe(this,e);if(t)return t}const o=i&&be(this,r);if(o){const t=o?.domains?.[e];return\"inherited\"===t?.type?this._getLayerDomain(e):t}const s=this.getFeatureType(r),a=this._getLayerDomain(e);if(s){const t=s.domains&&s.domains[e];if(t&&\"inherited\"!==t?.type)return t}if(a)return a;if(!t?.excludeImpliedDomains){const t=ge(this,e);if(t)return t}return null}getField(e){return this.fieldsIndex.get(e)}async queryAttachments(e,t){return we(this,e,t,We)}async queryFeatures(e,t){const r=await this.load(),i=await r.source.queryFeatures(Be.from(e)??r.createQuery(),t);if(i?.features)for(const o of i.features)o.layer=o.sourceLayer=r;return i}async queryObjectIds(e,t){return ve(this,e,t,We)}async queryFeatureCount(e,t){return je(this,e,t,We)}async queryExtent(e,t){return Se(this,e,t,We)}async queryRelatedFeatures(e,t){return Fe(this,e,t,We)}async queryRelatedFeaturesCount(e,t){return Te(this,e,t,We)}async queryTopFeatures(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopFeatures||!i?.query?.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryTopFeatures capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\"),s=await r.queryTopFeatures(o.default.from(e),t);if(s?.features)for(const a of s.features)a.layer=a.sourceLayer=this;return s}async queryBins(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryBins||!i?.operations?.supportsQueryBins)throw new p(We,\"Layer source does not support queryBins capability\");Ie(e,i,We);const o=await import(\"../rest/support/BinsQuery.js\"),s=await r.queryBins(o.default.from(e),t);if(s.features)for(const a of s.features)a.layer=a.sourceLayer=this;return s}async queryTopObjectIds(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopObjectIds||!i?.query.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryTopObjectIds capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\");return r.queryTopObjectIds(o.default.from(e),t)}async queryTopFeaturesExtent(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopExtents||!i?.query?.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryTopExtents capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\");return r.queryTopExtents(o.default.from(e),t)}async queryTopFeatureCount(e,t){const{source:r,capabilities:i}=await this.load();if(!r.queryTopCount||!i?.query?.supportsTopFeaturesQuery)throw new p(We,\"Layer source does not support queryFeatureCount capability\");const o=await import(\"../rest/support/TopFeaturesQuery.js\");return r.queryTopCount(o.default.from(e),t)}read(e,t){const r=e.featureCollection;if((r||\"Feature Collection\"===e.type)&&(this.resourceInfo=e),r){const e=r.layers;e&&1===e.length&&(super.read(e[0],t),null!=r.showLegend&&super.read({showLegend:r.showLegend},t))}super.read(e,t),t&&\"service\"===t.origin&&(this.revert([\"objectIdField\",\"fields\",\"timeInfo\",\"dateFieldsTimeZone\"],\"service\"),this.spatialReference||this.revert([\"spatialReference\"],\"service\"))}write(e,t){t={...t,origin:t?.origin??void 0,writeLayerSchema:t?.writeLayerSchema??this._hasMemorySource()};const{origin:r,layerContainerType:i,messages:o}=t;if(this.dynamicDataSource)return o?.push(Ze(this,\"using a dynamic data source cannot be written to web scenes, web maps and feature service items\")),null;if(this.isTable){if((\"web-map\"===r||\"web-scene\"===r)&&\"tables\"!==i)return o?.push(Ze(this,`a table source can only be written to tables, not ${i}`)),null;if(this._hasMemorySource())return o?.push(Ze(this,\"using an in-memory table source cannot be written to web scenes and web maps\")),null}else if(this.loaded&&(\"web-map\"===r||\"web-scene\"===r)&&\"tables\"===i)return o?.push(Ze(this,\"using a non-table source cannot be written to tables in web maps or web scenes\")),null;return super.write(e,t)}clone(){if(this._hasMemorySource())throw new p(We,`FeatureLayer (title: ${this.title}, id: ${this.id}) created using in-memory source cannot be cloned`);return super.clone()}serviceSupportsSpatialReference(e){return!!this.loaded&&(\"memory\"===this.source?.type||Re(this,e))}async save(e){return this._debouncedSaveOperations(Ge.SAVE,e)}async saveAs(e,t){return this._debouncedSaveOperations(Ge.SAVE_AS,t,e)}_readEditingEnabled(e,t,r){let i=e.layerDefinition?.capabilities;return i?this._hasEditingCapability(i):(i=e.capabilities,t&&\"web-map\"===r?.origin&&!this._hasMemorySource()&&i?this._hasEditingCapability(i):void 0)}_hasEditingCapability(e){return e.toLowerCase().split(\",\").map((e=>e.trim())).includes(\"editing\")}_writeEditingEnabled(e,t,r,i){if(!e){const e=this.capabilities?.operations?.supportsSync?\"Query,Sync\":\"Query\";c(\"layerDefinition.capabilities\",e,t),r&&!i?.writeLayerSchema&&(t.capabilities=e)}}_getLayerDomain(e){const t=this.fieldsIndex.get(e);return t?t.domain:null}_fetchFirstValidLayerId(e){return s(this.url??\"\",{query:{f:\"json\",...this.customParameters,token:this.apiKey},responseType:\"json\",signal:e}).then((e=>{const t=e.data;if(t)return this.findFirstValidLayerId(t)}))}async initLayerProperties(e){return this._set(\"source\",e),e.sourceJSON&&(this.sourceJSON=e.sourceJSON,this.read(e.sourceJSON,{origin:\"service\",portalItem:this.portalItem,portal:this.portalItem?.portal,url:this.parsedUrl})),this._verifySource(),this._verifyFields(),Pe(this.renderer,this.fieldsIndex),qe(this.timeInfo,this.fieldsIndex),Qe(this,{origin:\"service\"})}async hasDataChanged(){return Ee(this)}async fetchPublishingStatus(){const e=this.source;return e?.fetchPublishingStatus?e.fetchPublishingStatus():\"unavailable\"}_verifyFields(){const e=this.parsedUrl?.path??\"undefined\";this.objectIdField||console.log(\"FeatureLayer: 'objectIdField' property is not defined (url: \"+e+\")\"),this.isTable||this._hasMemorySource()||-1!==e.search(/\\/FeatureServer\\//i)||this.fields?.some((e=>\"geometry\"===e.type))||console.log(\"FeatureLayer: unable to find field of type 'geometry' in the layer 'fields' list. If you are using a map service layer, features will not have geometry (url: \"+e+\")\")}_fixTemplates(e,t){e&&e.forEach((e=>{const r=e.prototype?.attributes;r&&t&&delete r[t]}))}_verifySource(){if(this._hasMemorySource()){if(this.url)throw new p(\"feature-layer:mixed-source-and-url\",\"FeatureLayer cannot be created with both an in-memory source and a url\")}else if(!this.url)throw new p(\"feature-layer:source-or-url-required\",\"FeatureLayer requires either a url, a valid portal item or a source\")}_initMemorySource(e){e.forEach((e=>{e.layer=this,e.sourceLayer=this})),this.addHandles([e.on(\"after-add\",(e=>{e.item.layer=this,e.item.sourceLayer=this})),e.on(\"after-remove\",(e=>{e.item.layer=null,e.item.sourceLayer=null}))],\"fl-source\")}_resetMemorySource(e){e.forEach((e=>{e.layer=null,e.sourceLayer=null})),this.removeHandles(\"fl-source\")}_hasMemorySource(){return!(this.url||!this.source)}findFirstValidLayerId(e){return Array.isArray(e.layers)&&e.layers.length>0?e.layers[0].id:Array.isArray(e.tables)&&e.tables.length>0?e.tables[0].id:void 0}};e([j(k)],Ke.prototype,\"attributeTableTemplate\",void 0),e([F(\"service\",\"capabilities\")],Ke.prototype,\"readCapabilities\",null),e([j({json:{origins:{\"web-scene\":{write:!1}},write:!0}})],Ke.prototype,\"charts\",void 0),e([j({readOnly:!0})],Ke.prototype,\"createQueryVersion\",null),e([j({json:{read:{source:\"layerDefinition.copyrightText\"}}})],Ke.prototype,\"copyright\",void 0),e([j({json:{read:{source:\"layerDefinition.displayField\"}}})],Ke.prototype,\"displayField\",void 0),e([j({types:a,readOnly:!0})],Ke.prototype,\"defaultSymbol\",void 0),e([j({type:Ve})],Ke.prototype,\"dynamicDataSource\",void 0),e([j({type:Boolean})],Ke.prototype,\"editingEnabled\",null),e([F([\"portal-item\",\"web-scene\"],\"editingEnabled\",[\"layerDefinition.capabilities\"])],Ke.prototype,\"readEditingEnabled\",null),e([F(\"web-map\",\"editingEnabled\",[\"capabilities\",\"layerDefinition.capabilities\"])],Ke.prototype,\"readEditingEnabledFromWebMap\",null),e([I([\"portal-item\",\"web-scene\"],\"editingEnabled\",{\"layerDefinition.capabilities\":{type:String}})],Ke.prototype,\"writeEditingEnabled\",null),e([I(\"web-map\",\"editingEnabled\",{capabilities:{type:String},\"layerDefinition.capabilities\":{type:String}})],Ke.prototype,\"writeEditingEnabledToWebMap\",null),e([j({readOnly:!0})],Ke.prototype,\"effectiveEditingEnabled\",null),e([j({...ke.fields,json:{read:{source:\"layerDefinition.fields\"},origins:{service:{name:\"fields\"},\"web-map\":{write:{target:\"layerDefinition.fields\",overridePolicy:ze}}}}})],Ke.prototype,\"fields\",void 0),e([j(ke.fieldsIndex)],Ke.prototype,\"fieldsIndex\",void 0),e([j({type:D,json:{name:\"formInfo\",write:!0,origins:{\"web-scene\":{read:!1,write:!1}}}})],Ke.prototype,\"formTemplate\",void 0),e([j({json:{read:{source:\"layerDefinition.extent\"}}})],Ke.prototype,\"fullExtent\",void 0),e([j({json:{origins:{\"web-map\":{write:{target:\"layerDefinition.geometryType\",overridePolicy:ze,writer(e,t,r){const i=e?De.toJSON(e):null;i&&c(r,i,t)}}}},read:{source:\"layerDefinition.geometryType\",reader:De.read}}})],Ke.prototype,\"geometryType\",void 0),e([j({json:{read:{source:\"layerDefinition.hasM\"}}})],Ke.prototype,\"hasM\",void 0),e([j({json:{read:{source:\"layerDefinition.hasZ\"}}})],Ke.prototype,\"hasZ\",void 0),e([j(z)],Ke.prototype,\"id\",void 0),e([j({readOnly:!0,json:{origins:{service:{read:!0}},read:!1}})],Ke.prototype,\"infoFor3D\",void 0),e([j({json:{origins:{\"web-map\":{write:{target:\"layerDefinition.type\"}}}}})],Ke.prototype,\"isTable\",void 0),e([F(\"service\",\"isTable\",[\"type\",\"geometryType\"]),F(\"isTable\",[\"layerDefinition.type\",\"layerDefinition.geometryType\"])],Ke.prototype,\"readIsTable\",null),e([I(\"web-map\",\"isTable\")],Ke.prototype,\"writeIsTable\",null),e([j(K)],Ke.prototype,\"labelsVisible\",void 0),e([j({type:[Ce],json:{origins:{service:{name:\"drawingInfo.labelingInfo\",read:Me,write:!1},\"web-scene\":{name:\"layerDefinition.drawingInfo.labelingInfo\",read:Me,write:{enabled:!0,layerContainerTypes:E}}},name:\"layerDefinition.drawingInfo.labelingInfo\",read:Me,write:!0}})],Ke.prototype,\"labelingInfo\",void 0),e([j((()=>{const e=u(X);return e.json.origins[\"portal-item\"]={write:{target:\"layerDefinition.drawingInfo.transparency\",writer(e,t,r){c(r,Je(e),t)}}},e})())],Ke.prototype,\"opacity\",void 0),e([j(Y)],Ke.prototype,\"legendEnabled\",void 0),e([j({type:[\"show\",\"hide\"],json:(()=>{const e=u(ee.json);return e.origins[\"portal-item\"]={read:!1,write:!1},e})()})],Ke.prototype,\"listMode\",void 0),e([F(\"globalIdField\",[\"layerDefinition.globalIdField\",\"layerDefinition.fields\"])],Ke.prototype,\"readGlobalIdField\",null),e([j({json:{origins:{\"web-map\":{write:{target:\"layerDefinition.objectIdField\",overridePolicy:ze}}}}})],Ke.prototype,\"objectIdField\",void 0),e([F(\"objectIdField\",[\"layerDefinition.objectIdField\",\"layerDefinition.fields\"])],Ke.prototype,\"readObjectIdField\",null),e([j({value:\"ArcGISFeatureLayer\",type:[\"ArcGISFeatureLayer\"]})],Ke.prototype,\"operationalLayerType\",void 0),e([j(ke.outFields)],Ke.prototype,\"outFields\",void 0),e([j({readOnly:!0})],Ke.prototype,\"parsedUrl\",null),e([j({type:String,json:{origins:{\"web-scene\":{read:!0,write:!0}},read:!1}})],Ke.prototype,\"path\",void 0),e([j(te)],Ke.prototype,\"popupEnabled\",void 0),e([j({type:t,json:{name:\"popupInfo\",write:!0}})],Ke.prototype,\"popupTemplate\",void 0),e([j({readOnly:!0})],Ke.prototype,\"defaultPopupTemplate\",null),e([j({types:i,json:{origins:{service:{write:{target:\"drawingInfo.renderer\",enabled:!1}},\"web-scene\":{types:o,name:\"layerDefinition.drawingInfo.renderer\",write:{layerContainerTypes:E,overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema})}}},write:{target:\"layerDefinition.drawingInfo.renderer\",overridePolicy:(e,t,r)=>({ignoreOrigin:r?.writeLayerSchema})}}})],Ke.prototype,\"renderer\",null),e([F(\"service\",\"renderer\",[\"drawingInfo.renderer\",\"defaultSymbol\"]),F(\"renderer\",[\"layerDefinition.drawingInfo.renderer\",\"layerDefinition.defaultSymbol\"])],Ke.prototype,\"readRenderer\",null),e([j()],Ke.prototype,\"resourceInfo\",void 0),e([j((()=>{const e=u(re);return e.json.origins[\"portal-item\"]={read:!1,write:!1},e})())],Ke.prototype,\"screenSizePerspectiveEnabled\",void 0),e([j({clonable:!1})],Ke.prototype,\"source\",null),e([S(\"source\")],Ke.prototype,\"castSource\",null),e([F(\"portal-item\",\"source\",[\"featureSet\"]),F(\"web-map\",\"source\",[\"featureSet\"])],Ke.prototype,\"readSource\",null),e([j({json:{read:{source:\"layerDefinition.extent.spatialReference\"}}})],Ke.prototype,\"spatialReference\",void 0),e([j({type:Number})],Ke.prototype,\"subtypeCode\",void 0),e([j({type:[Le]})],Ke.prototype,\"templates\",void 0),e([F(\"templates\",[\"editFieldsInfo\",\"creatorField\",\"editorField\",\"templates\"])],Ke.prototype,\"readTemplates\",null),e([j({type:Ae})],Ke.prototype,\"timeInfo\",void 0),e([j()],Ke.prototype,\"title\",void 0),e([F(\"service\",\"title\",[\"name\"]),F(\"portal-item\",\"title\",[\"layerDefinition.title\",\"layerDefinition.name\",\"title\"])],Ke.prototype,\"readTitle\",null),e([F(\"web-map\",\"title\",[\"layerDefinition.name\",\"title\"])],Ke.prototype,\"readTitleFromWebMap\",null),e([j({type:String})],Ke.prototype,\"sublayerTitleMode\",void 0),e([j({json:{read:!1}})],Ke.prototype,\"type\",void 0),e([j({type:String})],Ke.prototype,\"typeIdField\",void 0),e([F(\"service\",\"typeIdField\"),F(\"typeIdField\",[\"layerDefinition.typeIdField\"])],Ke.prototype,\"readTypeIdField\",null),e([j({type:[_e]})],Ke.prototype,\"types\",void 0),e([F(\"service\",\"types\",[\"types\"]),F(\"types\",[\"layerDefinition.types\"])],Ke.prototype,\"readTypes\",null),e([j({type:Boolean,json:{origins:{\"portal-item\":{write:{target:\"layerDefinition.defaultVisibility\"}}}}})],Ke.prototype,\"visible\",void 0),e([F(\"portal-item\",\"visible\",[\"visibility\",\"layerDefinition.defaultVisibility\"])],Ke.prototype,\"readVisible\",null),Ke=e([T(\"esri.layers.FeatureLayer\")],Ke);const Xe=Ke;export{Xe as default};\n"],"file":"assets/FeatureLayer-CqZFGOXJ.js"}