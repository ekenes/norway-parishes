{"version":3,"file":"calcite-tree_2.entry-tOvPlWvf.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-tree_2.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, H as Host, g as getElement } from './index-abe3b66e.js';\nimport { t as toAriaBoolean, d as focusElement, C as nodeListToArray, e as getSlotted, b as slotChangeHasAssignedElement, g as getElementDir, D as filterDirectChildren } from './dom-b6dedd88.js';\nimport { c as connectConditionalSlotComponent, d as disconnectConditionalSlotComponent } from './conditionalSlot-167e1146.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport { C as CSS_UTILITY } from './resources-a23d2491.js';\nimport { g as getIconScale } from './component-5f0a8be8.js';\nimport './guid-9c230b6a.js';\nimport './observers-9c166451.js';\nimport './browser-618ac057.js';\n\nfunction isTreeItem(element) {\n    return element?.tagName === \"CALCITE-TREE-ITEM\";\n}\nfunction getTraversableItems(root) {\n    return Array.from(root.querySelectorAll(\"calcite-tree-item:not([disabled])\")).filter((item) => {\n        let currentItem = item;\n        while (currentItem !== root && currentItem !== undefined) {\n            const parent = currentItem.parentElement;\n            const traversable = !isTreeItem(parent) || !parent.hasChildren || parent.expanded;\n            if (!traversable) {\n                return false;\n            }\n            currentItem = currentItem.parentElement;\n        }\n        return true;\n    });\n}\n\nconst treeCss = \":host{display:block}:host(:focus){outline:2px solid transparent;outline-offset:2px}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteTreeStyle0 = treeCss;\n\nconst Tree = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteTreeSelect = createEvent(this, \"calciteTreeSelect\", 6);\n        this.keyDownHandler = (event) => {\n            if (this.child) {\n                return;\n            }\n            const root = this.el;\n            const target = event.target;\n            const supportedKeys = [\"ArrowRight\", \"ArrowDown\", \"ArrowLeft\", \"ArrowUp\", \"Home\", \"End\", \"Tab\"];\n            if (!(isTreeItem(target) && this.el.contains(target)) || !supportedKeys.includes(event.key)) {\n                return;\n            }\n            const traversableItems = getTraversableItems(root);\n            if (event.key === \"Tab\") {\n                // root tabindex will be restored when blurred/focused\n                traversableItems.forEach((item) => (item.tabIndex = -1));\n                return;\n            }\n            if (event.key === \"ArrowDown\") {\n                const currentItemIndex = traversableItems.indexOf(target);\n                const nextItem = traversableItems[currentItemIndex + 1];\n                nextItem?.focus();\n                event.preventDefault();\n                return;\n            }\n            if (event.key === \"ArrowUp\") {\n                const currentItemIndex = traversableItems.indexOf(target);\n                const previousItem = traversableItems[currentItemIndex - 1];\n                previousItem?.focus();\n                event.preventDefault();\n                return;\n            }\n            if (event.key === \"ArrowLeft\") {\n                if (target.hasChildren && target.expanded) {\n                    target.expanded = false;\n                    event.preventDefault();\n                    return;\n                }\n                const rootToItemPath = traversableItems.slice(0, traversableItems.indexOf(target)).reverse();\n                const parentItem = rootToItemPath.find((item) => item.depth === target.depth - 1);\n                parentItem?.focus();\n                event.preventDefault();\n                return;\n            }\n            if (event.key === \"ArrowRight\") {\n                if (!target.disabled && target.hasChildren) {\n                    if (!target.expanded) {\n                        target.expanded = true;\n                        event.preventDefault();\n                    }\n                    else {\n                        const currentItemIndex = traversableItems.indexOf(target);\n                        const nextItem = traversableItems[currentItemIndex + 1];\n                        nextItem?.focus();\n                        event.preventDefault();\n                    }\n                }\n                return;\n            }\n            if (event.key === \"Home\") {\n                const firstNode = traversableItems.shift();\n                if (firstNode) {\n                    firstNode.focus();\n                    event.preventDefault();\n                }\n                return;\n            }\n            if (event.key === \"End\") {\n                const lastNode = traversableItems.pop();\n                if (lastNode) {\n                    lastNode.focus();\n                    event.preventDefault();\n                }\n                return;\n            }\n        };\n        this.lines = false;\n        this.child = undefined;\n        this.scale = \"m\";\n        this.selectionMode = \"single\";\n        this.selectedItems = [];\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    componentWillRender() {\n        const parent = this.el.parentElement?.closest(\"calcite-tree\");\n        this.lines = parent ? parent.lines : this.lines;\n        this.scale = parent ? parent.scale : this.scale;\n        this.selectionMode = parent ? parent.selectionMode : this.selectionMode;\n        this.child = !!parent;\n    }\n    render() {\n        return (h(Host, { key: '5b08de1c59622b78985de9019bf4ba11d605a07f', \"aria-multiselectable\": this.child\n                ? undefined\n                : toAriaBoolean(this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\"), onKeyDown: this.keyDownHandler, role: !this.child ? \"tree\" : undefined, tabIndex: this.getRootTabIndex() }, h(\"slot\", { key: '00a037cf92cb5facadc4b2961a9369b6ae0631f5' })));\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    onFocus() {\n        if (!this.child) {\n            const focusTarget = this.el.querySelector(\"calcite-tree-item[selected]:not([disabled])\") || this.el.querySelector(\"calcite-tree-item:not([disabled])\");\n            focusElement(focusTarget);\n        }\n    }\n    onFocusIn(event) {\n        const focusedFromRootOrOutsideTree = event.relatedTarget === this.el || !this.el.contains(event.relatedTarget);\n        if (focusedFromRootOrOutsideTree) {\n            // gives user the ability to tab into external elements (modifying tabindex property will not work in firefox)\n            this.el.removeAttribute(\"tabindex\");\n        }\n    }\n    onFocusOut(event) {\n        const willFocusOutsideTree = !this.el.contains(event.relatedTarget);\n        if (willFocusOutsideTree) {\n            this.el.tabIndex = this.getRootTabIndex();\n        }\n    }\n    onInternalTreeItemSelect(event) {\n        if (this.child) {\n            return;\n        }\n        const target = event.target;\n        const childItems = nodeListToArray(target.querySelectorAll(\"calcite-tree-item\"));\n        event.preventDefault();\n        event.stopPropagation();\n        if (this.selectionMode === \"ancestors\") {\n            this.updateAncestorTree(event);\n            return;\n        }\n        const isNoneSelectionMode = this.selectionMode === \"none\";\n        const shouldSelect = this.selectionMode !== null &&\n            (!target.hasChildren ||\n                (target.hasChildren &&\n                    (this.selectionMode === \"children\" || this.selectionMode === \"multichildren\")));\n        const shouldDeselectAllChildren = this.selectionMode === \"multichildren\" && target.hasChildren;\n        const shouldModifyToCurrentSelection = !isNoneSelectionMode &&\n            event.detail.modifyCurrentSelection &&\n            (this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\");\n        const shouldClearCurrentSelection = !shouldModifyToCurrentSelection &&\n            (((this.selectionMode === \"single\" || this.selectionMode === \"multiple\") &&\n                childItems.length <= 0) ||\n                this.selectionMode === \"children\" ||\n                this.selectionMode === \"multichildren\" ||\n                (this.selectionMode === \"single-persist\" && !target.hasChildren));\n        const shouldUpdateExpand = [\"multiple\", \"none\", \"single\", \"single-persist\"].includes(this.selectionMode) &&\n            target.hasChildren;\n        const targetItems = [];\n        if (shouldSelect) {\n            targetItems.push(target);\n        }\n        if (shouldClearCurrentSelection) {\n            const selectedItems = nodeListToArray(this.el.querySelectorAll(\"calcite-tree-item[selected]\"));\n            selectedItems.forEach((treeItem) => {\n                if (!targetItems.includes(treeItem)) {\n                    treeItem.selected = false;\n                }\n            });\n        }\n        if (shouldUpdateExpand &&\n            [\"multiple\", \"none\", \"single\", \"single-persist\"].includes(this.selectionMode)) {\n            target.expanded = !target.expanded;\n        }\n        if (shouldDeselectAllChildren) {\n            childItems.forEach((item) => {\n                item.selected = false;\n                if (item.hasChildren) {\n                    item.expanded = false;\n                }\n            });\n        }\n        if (shouldModifyToCurrentSelection) {\n            window.getSelection().removeAllRanges();\n        }\n        if (shouldModifyToCurrentSelection && target.selected) {\n            targetItems.forEach((treeItem) => {\n                if (!treeItem.disabled) {\n                    treeItem.selected = false;\n                }\n            });\n        }\n        else if (!isNoneSelectionMode) {\n            targetItems.forEach((treeItem) => {\n                if (!treeItem.disabled) {\n                    treeItem.selected = this.selectionMode !== \"single\" || !treeItem.selected;\n                }\n            });\n        }\n        this.selectedItems = isNoneSelectionMode\n            ? []\n            : nodeListToArray(this.el.querySelectorAll(\"calcite-tree-item\")).filter((i) => i.selected);\n        this.calciteTreeSelect.emit();\n        event.stopPropagation();\n    }\n    updateAncestorTree(event) {\n        const item = event.target;\n        const updateItem = event.detail.updateItem;\n        if (item.disabled || (item.indeterminate && !updateItem)) {\n            return;\n        }\n        const ancestors = [];\n        let parent = item.parentElement.closest(\"calcite-tree-item\");\n        while (parent) {\n            ancestors.push(parent);\n            parent = parent.parentElement.closest(\"calcite-tree-item\");\n        }\n        const childItems = Array.from(item.querySelectorAll(\"calcite-tree-item:not([disabled])\"));\n        const childItemsWithNoChildren = childItems.filter((child) => !child.hasChildren);\n        const childItemsWithChildren = childItems.filter((child) => child.hasChildren);\n        let futureSelected;\n        if (updateItem) {\n            futureSelected = item.hasChildren ? !(item.selected || item.indeterminate) : !item.selected;\n        }\n        else {\n            futureSelected = item.selected;\n        }\n        childItemsWithNoChildren.forEach((el) => {\n            el.selected = futureSelected;\n            el.indeterminate = false;\n        });\n        function updateItemState(childItems, item) {\n            const selected = childItems.filter((child) => child.selected);\n            const unselected = childItems.filter((child) => !child.selected);\n            item.selected = selected.length === childItems.length;\n            item.indeterminate = selected.length > 0 && unselected.length > 0;\n        }\n        childItemsWithChildren.reverse().forEach((el) => {\n            const directChildItems = Array.from(el.querySelectorAll(\":scope > calcite-tree > calcite-tree-item\"));\n            updateItemState(directChildItems, el);\n        });\n        if (updateItem) {\n            if (item.hasChildren) {\n                updateItemState(childItems, item);\n            }\n            else {\n                item.selected = futureSelected;\n                item.indeterminate = false;\n            }\n        }\n        ancestors.forEach((ancestor) => {\n            const descendants = nodeListToArray(ancestor.querySelectorAll(\"calcite-tree-item\"));\n            const activeDescendants = descendants.filter((el) => el.selected);\n            if (activeDescendants.length === 0) {\n                ancestor.selected = false;\n                ancestor.indeterminate = false;\n                return;\n            }\n            const indeterminate = activeDescendants.length < descendants.length;\n            ancestor.indeterminate = indeterminate;\n            ancestor.selected = !indeterminate;\n        });\n        this.selectedItems = nodeListToArray(this.el.querySelectorAll(\"calcite-tree-item\")).filter((i) => i.selected);\n        if (updateItem) {\n            this.calciteTreeSelect.emit();\n        }\n    }\n    // --------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    getRootTabIndex() {\n        return !this.child ? 0 : -1;\n    }\n    get el() { return getElement(this); }\n};\nTree.style = CalciteTreeStyle0;\n\nconst CSS = {\n    actionsEnd: \"actions-end\",\n    bulletPointIcon: \"bullet-point\",\n    checkbox: \"checkbox\",\n    checkboxContainer: \"checkbox-container\",\n    checkboxLabel: \"checkbox-label\",\n    checkmarkIcon: \"checkmark\",\n    chevron: \"chevron\",\n    childrenContainer: \"children-container\",\n    iconStart: \"icon-start\",\n    itemExpanded: \"item--expanded\",\n    nodeAndActionsContainer: \"node-actions-container\",\n    nodeContainer: \"node-container\",\n};\nconst SLOTS = {\n    actionsEnd: \"actions-end\",\n    children: \"children\",\n};\nconst ICONS = {\n    blank: \"blank\",\n    bulletPoint: \"bullet-point\",\n    checkmark: \"check\",\n    checkSquareF: \"check-square-f\",\n    chevronRight: \"chevron-right\",\n    minusSquareF: \"minus-square-f\",\n    square: \"square\",\n};\n\nconst treeItemCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{display:block;max-inline-size:100%;cursor:pointer;color:var(--calcite-color-text-3)}.node-actions-container{display:flex}:host([calcite-hydrated-hidden]){visibility:hidden !important;pointer-events:none}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([scale=s]){font-size:var(--calcite-font-size--2);line-height:1rem}:host([scale=s]) .node-actions-container{min-block-size:1.5rem}:host([scale=s]) .node-actions-container .node-container .checkbox,:host([scale=s]) .node-actions-container .node-container .checkmark,:host([scale=s]) .node-actions-container .node-container .bullet-point{margin-inline:0.25rem}:host([scale=s]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale=s]) .node-actions-container .node-container .chevron{padding:0.25rem}:host([scale=m]){font-size:var(--calcite-font-size--1);line-height:1rem}:host([scale=m]) .node-actions-container{min-block-size:2rem}:host([scale=m]) .node-actions-container .node-container .checkbox,:host([scale=m]) .node-actions-container .node-container .checkmark,:host([scale=m]) .node-actions-container .node-container .bullet-point{margin-inline:0.5rem}:host([scale=m]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale=m]) .node-actions-container .node-container .chevron{padding:0.5rem}:host([scale=l]){font-size:var(--calcite-font-size-0);line-height:1.25rem}:host([scale=l]) .node-actions-container{min-block-size:2.75rem}:host([scale=l]) .node-actions-container .node-container .checkbox,:host([scale=l]) .node-actions-container .node-container .checkmark,:host([scale=l]) .node-actions-container .node-container .bullet-point{margin-inline:0.75rem}:host([scale=l]) .node-actions-container .node-container .icon-start{margin-inline:0.75rem}:host([scale=l]) .node-actions-container .node-container .chevron{padding-inline:var(--calcite-size-md);padding-block:var(--calcite-size-sm-plus)}:host([lines]) .children-container::after{position:absolute;inset-block-start:0px;z-index:var(--calcite-z-index);inline-size:1px;transition-property:color, background-color, border-color, text-decoration-color, fill, stroke;transition-timing-function:cubic-bezier(0.4, 0, 0.2, 1);transition-duration:150ms;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;block-size:96%;content:\\\"\\\";background-color:var(--calcite-color-border-2)}:host(:not([lines])) .node-container::after{display:none}::slotted(*){min-inline-size:0px;max-inline-size:100%;overflow-wrap:break-word;color:inherit;text-decoration:none !important}::slotted(*):hover{text-decoration:none !important}::slotted(a){inline-size:100%;text-decoration-line:none}:host{outline:2px solid transparent;outline-offset:2px}:host .node-container{outline-color:transparent}:host:focus .node-container,:host:active .node-container{outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}:host(:focus:not([disabled])) .node-container{outline:2px solid transparent;outline-offset:2px;outline:2px solid var(--calcite-ui-focus-color, var(--calcite-color-brand));outline-offset:calc(\\n            -2px *\\n            calc(\\n              1 -\\n              2 * clamp(\\n                0,\\n                var(--calcite-offset-invert-focus),\\n                1\\n              )\\n            )\\n          )}:host(:focus:not([disabled])) .checkbox{outline:2px solid transparent;outline-offset:2px}.actions-end{display:flex;flex-direction:row;align-items:center;align-self:stretch}.checkbox-container{display:flex;align-items:center}.checkbox{line-height:0;color:var(--calcite-color-border-input)}.checkbox-label{pointer-events:none;display:flex;align-items:center}.children-container{position:relative;block-size:0px;transform-origin:top;overflow:hidden;opacity:0;margin-inline-start:1.25rem;transform:scaleY(0);transition:var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), opacity var(--calcite-animation-timing) cubic-bezier(0.215, 0.44, 0.42, 0.88), all var(--calcite-animation-timing) ease-in-out}.item--expanded>.children-container{overflow:visible;opacity:1;transform:none;block-size:auto}.node-container{position:relative;display:flex;min-inline-size:0px;flex-grow:1;align-items:center}.node-container .checkmark,.node-container .bullet-point{opacity:0;transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;color:var(--calcite-color-border-1)}.node-container:hover .checkmark,.node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark,:host([selected]) .node-container:hover .bullet-point,:host(:focus:not([disabled])) .node-container .checkmark,:host(:focus:not([disabled])) .node-container .bullet-point{opacity:1}:host([selected]) .node-container,:host([selected]) .node-container:hover{font-weight:var(--calcite-font-weight-medium);color:var(--calcite-color-text-1)}:host([selected]) .node-container .bullet-point,:host([selected]) .node-container .checkmark,:host([selected]) .node-container:hover .bullet-point,:host([selected]) .node-container:hover .checkmark{opacity:1;color:var(--calcite-color-brand)}:host([selection-mode=none]:not([has-children])):host([scale=s]) .node-container{padding-inline-start:0.5rem}:host([selection-mode=none]:not([has-children])):host([scale=m]) .node-container{padding-inline-start:1rem}:host([selection-mode=none]:not([has-children])):host([scale=l]) .node-container{padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=s]) .node-container[data-selection-mode=ancestors] .checkbox{padding-inline-start:1.25rem}:host(:not([has-children])):host([scale=m]) .node-container[data-selection-mode=ancestors] .checkbox{padding-inline-start:1.5rem}:host(:not([has-children])):host([scale=l]) .node-container[data-selection-mode=ancestors] .checkbox{padding-inline-start:1.75rem}:host([has-children]) .node-container[data-selection-mode=ancestors] .checkbox{margin-inline-start:0}:host([has-children]) .node-container .bullet-point,:host([has-children]) .node-container .checkmark{display:none}.chevron{position:relative;align-self:center;color:var(--calcite-color-text-3);transition:background-color, block-size, border-color, box-shadow, color, inset-block-end, inset-block-start, inset-inline-end, inset-inline-start inset-size, opacity, outline-color, transform var(--calcite-animation-timing) ease-in-out 0s, outline 0s, outline-offset 0s;flex:0 0 auto;transform:rotate(0deg)}.calcite--rtl .chevron{transform:rotate(180deg)}.item--expanded .node-container>.chevron{transform:rotate(90deg)}:host([selected]) .checkmark,:host([selected]) .bullet-point{color:var(--calcite-color-brand)}:host([selected]) .checkbox{color:var(--calcite-color-brand)}:host([has-children][indeterminate]) .checkbox{color:var(--calcite-color-brand)}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteTreeItemStyle0 = treeItemCss;\n\nconst TreeItem = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteInternalTreeItemSelect = createEvent(this, \"calciteInternalTreeItemSelect\", 6);\n        this.iconClickHandler = (event) => {\n            event.stopPropagation();\n            this.expanded = !this.expanded;\n        };\n        this.childrenClickHandler = (event) => event.stopPropagation();\n        this.userChangedValue = false;\n        this.updateParentIsExpanded = (el, expanded) => {\n            const items = getSlotted(el, SLOTS.children, {\n                all: true,\n                selector: \"calcite-tree-item\",\n            });\n            items.forEach((item) => (item.parentExpanded = expanded));\n        };\n        this.actionsEndSlotChangeHandler = (event) => {\n            this.hasEndActions = slotChangeHasAssignedElement(event);\n        };\n        this.disabled = false;\n        this.label = undefined;\n        this.expanded = false;\n        this.iconFlipRtl = undefined;\n        this.iconStart = undefined;\n        this.selected = false;\n        this.parentExpanded = false;\n        this.depth = -1;\n        this.hasChildren = null;\n        this.lines = undefined;\n        this.scale = undefined;\n        this.indeterminate = false;\n        this.selectionMode = undefined;\n        this.hasEndActions = false;\n        this.updateAfterInitialRender = false;\n    }\n    expandedHandler(newValue) {\n        this.updateParentIsExpanded(this.el, newValue);\n    }\n    handleSelectedChange(value) {\n        if (this.selectionMode === \"ancestors\" && !this.userChangedValue) {\n            if (value) {\n                this.indeterminate = false;\n            }\n            this.calciteInternalTreeItemSelect.emit({\n                modifyCurrentSelection: true,\n                updateItem: false,\n            });\n        }\n    }\n    getSelectionMode() {\n        this.isSelectionMultiLike =\n            this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\";\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    connectedCallback() {\n        this.parentTreeItem = this.el.parentElement?.closest(\"calcite-tree-item\");\n        if (this.parentTreeItem) {\n            const { expanded } = this.parentTreeItem;\n            this.updateParentIsExpanded(this.parentTreeItem, expanded);\n        }\n        connectConditionalSlotComponent(this);\n    }\n    disconnectedCallback() {\n        disconnectConditionalSlotComponent(this);\n    }\n    componentWillRender() {\n        this.hasChildren = !!this.el.querySelector(\"calcite-tree\");\n        this.depth = 0;\n        let parentTree = this.el.closest(\"calcite-tree\");\n        if (!parentTree) {\n            return;\n        }\n        this.selectionMode = parentTree.selectionMode;\n        this.scale = parentTree.scale || \"m\";\n        this.lines = parentTree.lines;\n        let nextParentTree;\n        while (parentTree) {\n            nextParentTree = parentTree.parentElement?.closest(\"calcite-tree\");\n            if (nextParentTree === parentTree) {\n                break;\n            }\n            else {\n                parentTree = nextParentTree;\n                this.depth = this.depth + 1;\n            }\n        }\n    }\n    componentWillLoad() {\n        requestAnimationFrame(() => (this.updateAfterInitialRender = true));\n    }\n    componentDidLoad() {\n        this.updateAncestorTree();\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    render() {\n        const rtl = getElementDir(this.el) === \"rtl\";\n        const showBulletPoint = this.selectionMode === \"single\" ||\n            this.selectionMode === \"children\" ||\n            this.selectionMode === \"single-persist\";\n        const showCheckmark = this.selectionMode === \"multiple\" || this.selectionMode === \"multichildren\";\n        const showBlank = this.selectionMode === \"none\" && !this.hasChildren;\n        const checkboxIsIndeterminate = this.hasChildren && this.indeterminate;\n        const chevron = this.hasChildren ? (h(\"calcite-icon\", { class: {\n                [CSS.chevron]: true,\n                [CSS_UTILITY.rtl]: rtl,\n            }, \"data-test-id\": \"icon\", icon: ICONS.chevronRight, onClick: this.iconClickHandler, scale: getIconScale(this.scale) })) : null;\n        const defaultSlotNode = h(\"slot\", { key: \"default-slot\" });\n        const checkbox = this.selectionMode === \"ancestors\" ? (h(\"div\", { class: CSS.checkboxContainer }, h(\"calcite-icon\", { class: CSS.checkbox, icon: this.selected\n                ? ICONS.checkSquareF\n                : checkboxIsIndeterminate\n                    ? ICONS.minusSquareF\n                    : ICONS.square, scale: getIconScale(this.scale) }), h(\"label\", { class: CSS.checkboxLabel }, defaultSlotNode))) : null;\n        const selectedIcon = showBulletPoint\n            ? ICONS.bulletPoint\n            : showCheckmark\n                ? ICONS.checkmark\n                : showBlank\n                    ? ICONS.blank\n                    : null;\n        const itemIndicator = selectedIcon ? (h(\"calcite-icon\", { class: {\n                [CSS.bulletPointIcon]: selectedIcon === ICONS.bulletPoint,\n                [CSS.checkmarkIcon]: selectedIcon === ICONS.checkmark,\n                [CSS_UTILITY.rtl]: rtl,\n            }, icon: selectedIcon, scale: getIconScale(this.scale) })) : null;\n        const hidden = !(this.parentExpanded || this.depth === 1);\n        const isExpanded = this.updateAfterInitialRender && this.expanded;\n        const { hasEndActions } = this;\n        const slotNode = (h(\"slot\", { key: \"actionsEndSlot\", name: SLOTS.actionsEnd, onSlotchange: this.actionsEndSlotChangeHandler }));\n        const iconStartEl = (h(\"calcite-icon\", { key: '251fd8b4ef328e3575268a914b823282d5810b3b', class: CSS.iconStart, flipRtl: this.iconFlipRtl === \"start\" || this.iconFlipRtl === \"both\", icon: this.iconStart, scale: getIconScale(this.scale) }));\n        return (h(Host, { key: '9ca6542ef823f536919ef45e249a51acc560e5cd', \"aria-checked\": this.selectionMode === \"multiple\" ||\n                this.selectionMode === \"multichildren\" ||\n                this.selectionMode === \"ancestors\"\n                ? toAriaBoolean(this.selected)\n                : undefined, \"aria-expanded\": this.hasChildren ? toAriaBoolean(isExpanded) : undefined, \"aria-hidden\": toAriaBoolean(hidden), \"aria-live\": \"polite\", \"aria-selected\": this.selectionMode === \"single\" ||\n                this.selectionMode === \"children\" ||\n                this.selectionMode === \"single-persist\"\n                ? toAriaBoolean(this.selected)\n                : undefined, \"calcite-hydrated-hidden\": hidden, role: \"treeitem\", tabIndex: this.disabled ? -1 : 0 }, h(InteractiveContainer, { key: 'b87535cef45f25a3d962f2ee7a2fe23030c09626', disabled: this.disabled }, h(\"div\", { key: '2a4f1e4a647c80ef1d027b795814a03dd933db37', class: { [CSS.itemExpanded]: isExpanded } }, h(\"div\", { key: '716fc1eac97264fe3186a0beee9e173415f93b83', class: CSS.nodeAndActionsContainer }, h(\"div\", { key: '286db32250f9978cab481314b2ea3e790248c7f2', class: {\n                [CSS.nodeContainer]: true,\n                [CSS_UTILITY.rtl]: rtl,\n            }, \"data-selection-mode\": this.selectionMode }, chevron, itemIndicator, this.iconStart ? iconStartEl : null, checkbox ? checkbox : defaultSlotNode), h(\"div\", { key: '2e1eeefae879f7197b5292ecda3b1f831f673efb', class: CSS.actionsEnd, hidden: !hasEndActions, ref: (el) => (this.actionSlotWrapper = el) }, slotNode)), h(\"div\", { key: '1cb705ab7da1422b2a956ea90e29b489909840f3', class: {\n                [CSS.childrenContainer]: true,\n                [CSS_UTILITY.rtl]: rtl,\n            }, \"data-test-id\": \"calcite-tree-children\", onClick: this.childrenClickHandler, role: this.hasChildren ? \"group\" : undefined }, h(\"slot\", { key: 'e3c968c15f50af07cafd3c3a67746455472e6b6f', name: SLOTS.children }))))));\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    onClick(event) {\n        if (this.disabled || this.isActionEndEvent(event)) {\n            return;\n        }\n        // Solve for if the item is clicked somewhere outside the slotted anchor.\n        // Anchor is triggered anywhere you click\n        const [link] = filterDirectChildren(this.el, \"a\");\n        if (link && event.composedPath()[0].tagName.toLowerCase() !== \"a\") {\n            const target = link.target === \"\" ? \"_self\" : link.target;\n            window.open(link.href, target);\n        }\n        this.calciteInternalTreeItemSelect.emit({\n            modifyCurrentSelection: this.selectionMode === \"ancestors\" || this.isSelectionMultiLike,\n            updateItem: true,\n        });\n        this.userChangedValue = true;\n    }\n    keyDownHandler(event) {\n        if (this.isActionEndEvent(event) || event.defaultPrevented) {\n            return;\n        }\n        switch (event.key) {\n            case \" \":\n                this.userChangedValue = true;\n                this.calciteInternalTreeItemSelect.emit({\n                    modifyCurrentSelection: this.isSelectionMultiLike,\n                    updateItem: true,\n                });\n                event.preventDefault();\n                break;\n            case \"Enter\": {\n                // activates a node, i.e., performs its default action. For parent nodes, one possible default action is to open or close the node. In single-select trees where selection does not follow focus (see note below), the default action is typically to select the focused node.\n                const link = Array.from(this.el.children).find((el) => el.matches(\"a\"));\n                this.userChangedValue = true;\n                if (link) {\n                    link.click();\n                    this.selected = true;\n                }\n                else {\n                    this.calciteInternalTreeItemSelect.emit({\n                        modifyCurrentSelection: this.isSelectionMultiLike,\n                        updateItem: true,\n                    });\n                }\n                event.preventDefault();\n            }\n        }\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Private Methods\n    //\n    //--------------------------------------------------------------------------\n    isActionEndEvent(event) {\n        const composedPath = event.composedPath();\n        return composedPath.includes(this.actionSlotWrapper);\n    }\n    /**\n     * This is meant to be called in `componentDidLoad` in order to take advantage of the hierarchical component lifecycle\n     * and help check for item selection as items are initialized\n     *\n     * @private\n     */\n    updateAncestorTree() {\n        const parentItem = this.parentTreeItem;\n        if (this.selectionMode !== \"ancestors\" || !parentItem) {\n            return;\n        }\n        if (this.selected) {\n            const parentTree = this.el.parentElement;\n            const siblings = Array.from(parentTree?.children);\n            const selectedSiblings = siblings.filter((child) => child.selected);\n            if (siblings.length === selectedSiblings.length) {\n                parentItem.selected = true;\n                parentItem.indeterminate = false;\n            }\n            else if (selectedSiblings.length > 0) {\n                parentItem.indeterminate = true;\n            }\n            const childItems = Array.from(this.el.querySelectorAll(\"calcite-tree-item:not([disabled])\"));\n            childItems.forEach((item) => {\n                item.selected = true;\n                item.indeterminate = false;\n            });\n        }\n        else if (this.indeterminate) {\n            const parentItem = this.parentTreeItem;\n            parentItem.indeterminate = true;\n        }\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"expanded\": [\"expandedHandler\"],\n        \"selected\": [\"handleSelectedChange\"],\n        \"selectionMode\": [\"getSelectionMode\"]\n    }; }\n};\nTreeItem.style = CalciteTreeItemStyle0;\n\nexport { Tree as calcite_tree, TreeItem as calcite_tree_item };\n\n//# sourceMappingURL=calcite-tree_2.entry.js.map"],"names":["isTreeItem","element","getTraversableItems","root","item","currentItem","parent","treeCss","CalciteTreeStyle0","Tree","hostRef","registerInstance","createEvent","event","target","supportedKeys","traversableItems","currentItemIndex","nextItem","previousItem","parentItem","firstNode","lastNode","_a","h","Host","toAriaBoolean","focusTarget","focusElement","childItems","nodeListToArray","isNoneSelectionMode","shouldSelect","shouldDeselectAllChildren","shouldModifyToCurrentSelection","shouldClearCurrentSelection","shouldUpdateExpand","targetItems","treeItem","i","updateItem","ancestors","childItemsWithNoChildren","child","childItemsWithChildren","futureSelected","el","updateItemState","selected","unselected","directChildItems","ancestor","descendants","activeDescendants","indeterminate","getElement","CSS","SLOTS","ICONS","treeItemCss","CalciteTreeItemStyle0","TreeItem","expanded","getSlotted","slotChangeHasAssignedElement","newValue","value","connectConditionalSlotComponent","disconnectConditionalSlotComponent","parentTree","nextParentTree","updateHostInteraction","rtl","getElementDir","showBulletPoint","showCheckmark","showBlank","checkboxIsIndeterminate","chevron","CSS_UTILITY","getIconScale","defaultSlotNode","checkbox","selectedIcon","itemIndicator","hidden","isExpanded","hasEndActions","slotNode","iconStartEl","InteractiveContainer","link","filterDirectChildren","siblings","selectedSiblings"],"mappings":"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","x_google_ignoreList":[0]}