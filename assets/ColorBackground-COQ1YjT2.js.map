{"version":3,"mappings":";6dAIiW,IAAIA,EAAE,IAAIC,EAAED,EAAE,cAAcE,CAAC,CAAC,YAAYC,EAAE,CAAC,MAAMA,CAAC,EAAE,KAAK,KAAK,MAAM,CAAC,OAAO,CAAC,OAAO,IAAIH,EAAE,CAAC,KAAK,KAAK,IAAI,CAAC,CAAC,CAAC,EAAEG,EAAE,CAACC,EAAE,CAAC,KAAK,OAAO,UAAU,YAAY,CAAC,CAAC,EAAEH,EAAE,UAAU,OAAO,MAAM,EAAEA,EAAED,EAAEG,EAAE,CAACE,EAAE,kCAAkC,CAAC,EAAEJ,CAAC,ECAwb,IAAIK,EAAE,IAAIC,EAAED,EAAE,cAAcE,EAAEC,CAAC,CAAE,CAAC,YAAYP,EAAE,CAAC,MAAMA,CAAC,EAAE,KAAK,QAAQ,EAAE,KAAK,aAAa,KAAK,KAAK,qBAAqB,KAAK,KAAK,OAAO,IAAIC,EAAE,MAAMC,EAAE,GAAG,CAAC,EAAE,QAAQ,EAAE,SAAS,MAAM,WAAW,EAAE,QAAQ,EAAE,OAAO,OAAO,CAAC,EAAE,EAAE,OAAO,KAAmB,EAAE,OAAhB,aAAyC,EAAE,OAArB,kBAA2BM,EAAE,UAAU,IAAI,EAAE,MAAM,UAAU,EAAE,KAAK,QAAQ,EAAE,EAAE,cAAc,EAAE,IAAI,oHAAoH,CAAC,EAAEL,EAAE,GAAG,CAAC,EAAE,OAAO,IAAI,EAAE,KAAK,WAAW,CAAC,KAAK,OAAO,GAAG,YAAa,GAAGD,EAAE,EAAE,IAAI,CAAG,EAAC,KAAK,OAAO,GAAG,eAAgB,GAAGC,EAAE,EAAE,IAAI,CAAG,EAAC,CAAC,CAAC,YAAY,CAAC,KAAK,KAAM,EAAC,MAAOH,GAAG,CAACS,EAAET,CAAC,GAAGQ,EAAE,UAAU,IAAI,EAAE,MAAM,UAAU,wBAAwBR,CAAC,CAAC,GAAI,KAAK,cAAc,KAAK,KAAK,KAAK,aAAa,KAAK,KAAK,aAAa,OAAO,CAAC,CAAC,SAAS,CAAC,MAAMA,EAAE,KAAK,OAAO,YAAY,UAAUE,KAAKF,EAAEU,EAAER,CAAC,EAAE,KAAK,OAAO,QAAS,EAAC,kBAAkBF,EAAE,CAAC,OAAOA,GAAG,iBAAiBA,IAAI,KAAK,KAAK,eAAeA,EAAE,YAAY,EAAE,OAAOA,EAAE,CAAC,GAAGA,CAAC,GAAG,cAAcA,CAAC,CAAC,IAAI,OAAOA,EAAE,CAAC,KAAK,KAAK,SAASG,EAAEH,EAAE,KAAK,KAAK,QAAQ,CAAC,CAAC,CAAC,CAAC,YAAYA,EAAEE,EAAED,EAAEE,EAAE,CAAC,MAAM,EAAE,GAAGH,IAAGG,EAAE,CAAC,GAAGA,EAAE,mBAAmB,QAAQ,EAAEH,EAAE,QAASA,GAAG,CAAC,GAAG,UAAUA,EAAE,CAAC,MAAME,EAAE,GAAGJ,EAAEE,CAAC,IAAI,MAAME,EAAEC,CAAC,GAAG,EAAE,KAAKD,CAAC,CAAC,MAAMC,GAAA,MAAAA,EAAG,UAAUA,EAAE,SAAS,KAAK,IAAIQ,EAAE,oBAAoB,WAAWX,EAAE,KAAK,KAAKA,EAAE,EAAE,cAAcA,EAAE,aAAa,sCAAsC,CAAC,MAAMA,CAAC,CAAC,CAAC,CAAC,CAAG,GAACE,EAAE,OAAO,CAAa,CAAC,KAAKF,EAAE,CAAC,OAAO,KAAK,oBAAoB,KAAK,gBAAgBA,CAAC,CAAC,EAAE,QAAQ,QAAQ,IAAI,CAAC,CAAC,SAAS,CAAC,OAAOD,EAAE,KAAMC,GAAG,CAACA,EAAE,KAAK,MAAM,CAAC,CAAG,EAAC,MAAM,eAAeA,EAAEE,EAAE,CAAC,MAAM,KAAK,KAAK,CAAC,OAAOA,GAAA,YAAAA,EAAG,MAAM,CAAC,EAAE,KAAK,CAAC,eAAeD,CAAC,EAAE,MAAKW,EAAA,IAAC,OAAO,8BAAoC,EAAC,4BAACC,EAAEX,CAAC,EAAE,MAAMC,EAAE,IAAIF,EAAEH,EAAE,KAAK,OAAO,OAAOgB,CAAC,EAAE,QAAS,EAAC,OAAOX,EAAE,SAASL,EAAEE,EAAEE,CAAC,CAAC,CAAC,MAAM,uBAAuBF,EAAEE,EAAE,CAAC,MAAM,KAAK,KAAK,CAAC,OAAOA,GAAA,YAAAA,EAAG,MAAM,CAAC,EAAE,KAAK,CAAC,eAAeD,CAAC,EAAE,MAAMW,EAAA,WAAO,8BAAoC,8BAAEC,EAAEX,CAAC,EAAE,MAAMC,EAAE,IAAIF,EAAEH,EAAE,KAAK,OAAO,OAAOgB,CAAC,EAAE,QAAS,EAAC,OAAOX,EAAE,iBAAiBL,EAAEE,EAAEE,CAAC,CAAC,CAAC,OAAO,CAAC,MAAMF,EAAE,CAAC,QAAQ,KAAK,QAAQ,aAAae,EAAE,KAAK,YAAY,EAAE,qBAAqBA,EAAE,KAAK,oBAAoB,EAAE,OAAO,KAAK,OAAO,MAAK,CAAE,EAAE,OAAO,KAAK,SAASf,EAAE,WAAW,UAAU,IAAII,EAAE,CAAC,aAAa,KAAK,YAAY,CAAC,EAAE,IAAIJ,CAAC,CAAC,CAAC,KAAKA,EAAEE,EAAE,CAAC,KAAK,cAAc,KAAK,KAAK,eAAe,CAAC,KAAKF,EAAE,QAAQE,CAAC,CAAC,EAAE,MAAM,KAAKF,EAAEE,CAAC,CAAC,CAAC,gBAAgBF,EAAE,CAAC,MAAME,EAAE,KAAK,aAAa,OAAOA,EAAE,KAAK,oBAAoBA,EAAE,KAAKA,EAAE,QAAQF,CAAC,EAAE,QAAQ,SAAS,CAAC,MAAM,oBAAoBA,EAAEE,EAAED,EAAE,CAAC,MAAME,GAAED,GAAA,YAAAA,EAAG,SAAQ,YAAYJ,GAAEI,GAAA,YAAAA,EAAG,SAAQ,KAAKS,GAAET,GAAA,YAAAA,EAAG,MAAK,KAAK,CAAC,0BAA0BI,CAAC,EAAE,MAAKM,EAAA,0CAAAN,CAAA,OAAC,QAAO,6BAAmC,EAAC,iCAAAA,CAAA,uCAACO,EAAEZ,CAAC,EAAE,MAAMc,EAAE,GAAG,GAAGf,EAAE,QAAQ,MAAM,QAAQA,EAAE,MAAM,EAAE,CAAC,MAAME,EAAE,CAAC,QAAQ,CAAC,OAAOC,EAAE,IAAIQ,EAAE,OAAOb,EAAE,mBAAmB,QAAQ,EAAE,iBAAiB,kCAAkC,EAAEiB,EAAE,KAAKT,EAAE,KAAK,OAAON,EAAE,OAAOE,CAAC,CAAC,CAAC,CAAC,MAAM,QAAQ,WAAWa,CAAC,CAAC,CAAC,EAAE,SAASC,GAAEhB,EAAE,CAAC,OAAOA,GAAG,2BAA2BA,CAAC,CAAC,SAASc,EAAEd,EAAE,CAAC,OAAoBA,EAAE,OAAhB,aAAsBgB,GAAEhB,CAAC,CAAC,CAACA,EAAE,CAACiB,EAAE,CAAC,KAAK,CAAC,KAAK,EAAE,CAAC,CAAC,CAAC,EAAEZ,EAAE,UAAU,SAAS,IAAI,EAAEL,EAAE,CAACkB,EAAE,QAAQ,CAAC,EAAEb,EAAE,UAAU,cAAc,IAAI,EAAEL,EAAE,CAACiB,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAEZ,EAAE,UAAU,eAAe,MAAM,EAAEL,EAAE,CAACiB,EAAE,CAAC,KAAK,OAAO,YAAY,GAAG,MAAM,CAAC,IAAI,EAAE,IAAI,CAAC,EAAE,KAAK,CAAC,KAAKE,EAAE,KAAK,CAAC,OAAOC,EAAE,OAAO,cAAc,EAAE,MAAM,CAAC,OAAO,CAACpB,EAAEE,IAAI,CAACA,EAAE,aAAamB,EAAErB,CAAC,CAAC,EAAE,OAAO,cAAc,CAAC,CAAC,CAAC,CAAC,EAAEK,EAAE,UAAU,UAAU,MAAM,EAAEL,EAAE,CAACiB,EAAE,CAAC,KAAKf,EAAE,KAAK,CAAC,KAAK,CAACiB,CAAC,EAAE,MAAM,CAACnB,EAAEE,IAAI,CAACA,EAAE,aAAaF,EAAE,OAAM,EAAG,MAAM,EAAE,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,EAAEK,EAAE,UAAU,eAAe,MAAM,EAAEL,EAAE,CAACiB,EAAE,CAAC,KAAKK,EAAE,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAEjB,EAAE,UAAU,uBAAuB,MAAM,EAAEA,EAAED,EAAEJ,EAAE,CAACuB,EAAE,aAAa,CAAC,EAAElB,CAAC,EAAE,MAAMmB,EAAEnB,ECAz0IL,EAAE,IAAI,QAAQ,SAASW,EAAEV,EAAE,CAAC,MAAM,CAACA,EAAE,YAAYD,EAAE,IAAIC,CAAC,GAAGA,EAAE,WAAW,CAACE,EAAG,IAAI,CAAC,MAAMD,EAAED,EAAE,OAAO,MAAM,EAAE,CAACC,GAAG,EAAE,SAASA,MAAgCA,EAAE,OAA5B,yBAAkCS,EAAET,CAAC,EAAE,EAAIA,GAAGF,EAAE,IAAIC,EAAEC,CAAC,EAAGa,CAAC,EAAEb,EAAG,IAAIF,EAAE,OAAOC,CAAC,CAAG,EAAC,EAAED,EAAE,IAAIC,CAAC,EAAE,CCAjM,SAASc,GAAEZ,EAAE,CAAC,OAAgB,OAAOA,GAAjB,UAA0BA,GAAN,MAAS,WAAWA,GAAQA,EAAE,SAAP,IAAe,SAASA,CAAC,CAAC,SAASD,GAAE,EAAE,SAAC,MAAM,EAAE,CAACa,GAAE,CAAC,GAAG,GAACd,OAAE,CAAC,IAAHA,cAAM,aAANA,QAAkB,kBAAiB,mBAAmB,GAAG,CAACK,EAAE,CAAC,GAAGH,EAAE,CAAC,EAAE,CCA5N,MAAMG,EAAE,CAAC,kBAAkB,CAAC,GAAG,iBAAiB,IAAI,uFAAuF,UAAU,kCAAkC,EAAE,uBAAuB,CAAC,GAAG,sBAAsB,IAAI,yFAAyF,UAAU,kCAAkC,CAAC,EAAE,SAASH,GAAEA,EAAE,CAAC,IAAIQ,EAAE,KAAK,GAAa,OAAOR,GAAjB,SAAmB,GAAGA,KAAKG,EAAE,CAAC,MAAMN,EAAEM,EAAEH,CAAC,EAAEQ,EAAE,IAAIT,EAAE,CAAC,aAAa,CAAC,KAAK,CAAC,OAAO,CAACF,CAAC,CAAC,CAAC,CAAC,CAAC,CAAC,MAAMA,EAAE,UAAU,0BAA0B,EAAE,KAAK,yCAAyCG,CAAC,yBAAyB,OAAOQ,EAAEV,EAAEC,EAAEC,CAAC,EAAE,OAAOQ,CAAC,CCAiK,IAAIS,EAAE,cAAcD,GAAEK,GAAEb,EAAE,aAAaR,CAAC,CAAC,CAAC,CAAE,CAAC,YAAYD,EAAE,CAAC,MAAMA,CAAC,EAAE,KAAK,UAAU,IAAID,EAAE,CAAC,eAAe,IAAI,mBAACwB,EAAA,KAAK,UAAL,YAAAA,EAAc,YAAWC,EAAA,KAAK,SAAL,YAAAA,EAAa,OAAO,KAAK,QAAOC,EAAA,KAAK,UAAL,YAAAA,EAAc,eAAe,GAAE,oBAAoBzB,GAAG,WAAWA,EAAEA,EAAE,OAAO,IAAI,CAAC,EAAE,KAAK,UAAUQ,GAAE,IAAI,EAAE,KAAK,QAAQ,KAAK,KAAK,eAAe,IAAIT,EAAE,CAAC,eAAe,IAAI,CAAC,KAAK,SAAS,EAAE,mBAAmBgB,EAAC,CAAC,EAAE,KAAK,OAAO,IAAIjB,EAAE,KAAK,cAAca,GAAG,EAAC,SAAS,CAACL,GAAE,KAAK,aAAa,EAAE,KAAK,cAAc,KAAK,KAAK,UAAU,QAAO,EAAG,KAAK,UAAU,QAAS,EAAC,KAAK,eAAe,QAAO,EAAG,KAAK,QAAQF,EAAE,KAAK,OAAO,EAAEA,EAAE,KAAK,MAAM,EAAE,KAAK,KAAK,SAAS,IAAI,CAAC,CAAC,YAAY,EAAE,CAAC,OAAOG,GAAE,EAAE,KAAK,aAAa,CAAC,CAAC,WAAW,EAAE,CAAc,OAALc,GAAE,CAAC,GAAY,KAAK,KAAK,QAAQ,CAAC,CAAC,cAAc,EAAE,CAAC,OAAO,KAAK,UAAU,KAAMzB,GAAGA,EAAE,KAAK,CAAC,CAAE,CAAC,cAAc,EAAE,CAAC,OAAO,KAAK,UAAU,KAAMA,GAAGA,EAAE,KAAK,CAAG,EAAC,EAAEI,EAAE,CAACH,EAAE,CAAC,SAAS,GAAG,UAAU,EAAE,CAAC,CAAC,EAAEqB,EAAE,UAAU,YAAY,MAAM,EAAElB,EAAE,CAACH,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAEqB,EAAE,UAAU,YAAY,MAAM,EAAElB,EAAE,CAACH,EAAE,CAAC,KAAKD,GAAE,KAAK,CAAC,KAAK,CAAC,OAAO,SAAS,EAAE,MAAM,CAAC,OAAO,SAAS,CAAC,CAAC,CAAC,CAAC,EAAEsB,EAAE,UAAU,UAAU,MAAM,EAAElB,EAAE,CAACK,EAAE,SAAS,CAAC,EAAEa,EAAE,UAAU,cAAc,IAAI,EAAElB,EAAE,CAACH,EAAE,CAAC,SAAS,EAAE,CAAC,CAAC,EAAEqB,EAAE,UAAU,iBAAiB,MAAM,EAAElB,EAAE,CAACH,EAAE,CAAC,KAAKC,EAAE,YAAY,EAAE,CAAC,CAAC,EAAEoB,EAAE,UAAU,SAAS,MAAM,EAAElB,EAAE,CAACK,EAAE,QAAQ,CAAC,EAAEa,EAAE,UAAU,aAAa,IAAI,EAAElB,EAAE,CAACH,EAAG,GAAEqB,EAAE,UAAU,WAAW,MAAM,EAAEA,EAAElB,EAAE,CAACa,EAAE,UAAU,CAAC,EAAEK,CAAC,EAAO,MAACN,GAAEM,ECAlrE,MAAMtB,WAAUE,EAAC,CAAC,YAAYA,EAAE,EAAE,CAAC,MAAMA,EAAE,EAAE,QAAQ,CAAC,CAAC,CCA7D,SAASA,GAAE,EAAE,CAAC,OAAa,GAAN,MAAmB,OAAO,GAAjB,UAAoB,kBAAkB,GAAmB,EAAE,gBAAlB,aAA+B,CAAM,MAACe,GAAE,IAAIb,GAAE,EAAE,EAAE,ECAgO,IAAIH,EAAE,IAAIY,EAAEZ,EAAE,cAAcD,CAAC,CAAC,YAAYG,EAAE,CAAC,MAAMA,CAAC,EAAE,KAAK,MAAM,IAAID,EAAE,CAAC,EAAE,EAAE,EAAE,CAAC,CAAC,CAAC,CAAC,OAAO,CAAC,OAAO,IAAID,EAAEI,EAAE,CAAC,MAAM,KAAK,KAAK,CAAC,CAAC,CAAC,CAAC,EAAEF,EAAE,CAACC,EAAE,CAAC,KAAKF,EAAE,KAAK,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAEW,EAAE,UAAU,QAAQ,MAAM,EAAEA,EAAEZ,EAAEE,EAAE,CAACO,EAAE,wCAAwC,CAAC,EAAEG,CAAC,EAAO,MAACM,GAAEN","names":["s","p","r","o","e","t","S","C","i","l","c","u","y","a","__vitePreload","d","L","n","I","m","g","f","j","w","v","h","b","_a","_b","_c"],"ignoreList":[0,1,2,3,4,5,6,7,8],"sources":["../../node_modules/@arcgis/core/ground/NavigationConstraint.js","../../node_modules/@arcgis/core/Ground.js","../../node_modules/@arcgis/core/layers/catalog/catalogUtils.js","../../node_modules/@arcgis/core/layers/support/editableLayers.js","../../node_modules/@arcgis/core/support/groundUtils.js","../../node_modules/@arcgis/core/Map.js","../../node_modules/@arcgis/core/webmap/Version.js","../../node_modules/@arcgis/core/webmap/utils.js","../../node_modules/@arcgis/core/webmap/background/ColorBackground.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../chunks/tslib.es6.js\";import{JSONSupport as r}from\"../core/JSONSupport.js\";import\"../core/Logger.js\";import\"../core/has.js\";import\"../core/RandomLCG.js\";import\"../core/Error.js\";import{enumeration as e}from\"../core/accessorSupport/decorators/enumeration.js\";import{subclass as t}from\"../core/accessorSupport/decorators/subclass.js\";var s;let p=s=class extends r{constructor(o){super(o),this.type=\"none\"}clone(){return new s({type:this.type})}};o([e({none:\"none\",stayAbove:\"stay-above\"})],p.prototype,\"type\",void 0),p=s=o([t(\"esri.ground.NavigationConstraint\")],p);export{p as NavigationConstraint};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as r}from\"./chunks/tslib.es6.js\";import e from\"./Color.js\";import o from\"./core/Collection.js\";import{referenceSetter as t}from\"./core/collectionUtils.js\";import{typeCast as s}from\"./core/compilerUtils.js\";import a from\"./core/Error.js\";import{JSONSupportMixin as i}from\"./core/JSONSupport.js\";import{clone as n}from\"./core/lang.js\";import l from\"./core/Loadable.js\";import{loadAll as p}from\"./core/loadAll.js\";import c from\"./core/Logger.js\";import{destroyMaybe as y}from\"./core/maybe.js\";import{isAbortError as u,throwIfAborted as d}from\"./core/promiseUtils.js\";import{property as m}from\"./core/accessorSupport/decorators/property.js\";import{Integer as f}from\"./core/accessorSupport/ensureType.js\";import{subclass as h}from\"./core/accessorSupport/decorators/subclass.js\";import{writer as g}from\"./core/accessorSupport/decorators/writer.js\";import{NavigationConstraint as v}from\"./ground/NavigationConstraint.js\";import{transparencyToOpacity as j,opacityToTransparency as w}from\"./webdoc/support/opacityUtils.js\";var S;let C=S=class extends(i(l)){constructor(r){super(r),this.opacity=1,this.surfaceColor=null,this.navigationConstraint=null,this.layers=new o;const e=r=>{r.parent&&r.parent!==this&&\"remove\"in r.parent&&r.parent.remove(r),r.parent=this,\"elevation\"!==r.type&&\"base-elevation\"!==r.type&&c.getLogger(this).error(`Layer '${r.title}, id:${r.id}' of type '${r.type}' is not supported as a ground layer and will therefore be ignored. Only layers of type 'elevation' are supported.`)},t=r=>{r.parent=null};this.addHandles([this.layers.on(\"after-add\",(r=>e(r.item))),this.layers.on(\"after-remove\",(r=>t(r.item)))])}initialize(){this.when().catch((r=>{u(r)||c.getLogger(this).error(\"#load()\",\"Failed to load ground\",r)})),this.resourceInfo&&this.read(this.resourceInfo.data,this.resourceInfo.context)}destroy(){const r=this.layers.removeAll();for(const e of r)y(e);this.layers.destroy()}normalizeCtorArgs(r){return r&&\"resourceInfo\"in r&&(this._set(\"resourceInfo\",r.resourceInfo),delete(r={...r}).resourceInfo),r}set layers(r){this._set(\"layers\",t(r,this._get(\"layers\")))}writeLayers(r,e,o,t){const i=[];r?(t={...t,layerContainerType:\"ground\"},r.forEach((r=>{if(\"write\"in r){const e={};s(r)().write(e,t)&&i.push(e)}else t?.messages&&t.messages.push(new a(\"layer:unsupported\",`Layers (${r.title}, ${r.id}) of type '${r.declaredClass}' cannot be persisted in the ground`,{layer:r}))})),e.layers=i):e.layers=i}load(r){return this.addResolvingPromise(this._loadFromSource(r)),Promise.resolve(this)}loadAll(){return p(this,(r=>{r(this.layers)}))}async queryElevation(r,e){await this.load({signal:e?.signal});const{ElevationQuery:o}=await import(\"./layers/support/ElevationQuery.js\");d(e);const t=new o,s=this.layers.filter(L).toArray();return t.queryAll(s,r,e)}async createElevationSampler(r,e){await this.load({signal:e?.signal});const{ElevationQuery:o}=await import(\"./layers/support/ElevationQuery.js\");d(e);const t=new o,s=this.layers.filter(L).toArray();return t.createSamplerAll(s,r,e)}clone(){const r={opacity:this.opacity,surfaceColor:n(this.surfaceColor),navigationConstraint:n(this.navigationConstraint),layers:this.layers.slice()};return this.loaded&&(r.loadStatus=\"loaded\"),new S({resourceInfo:this.resourceInfo}).set(r)}read(r,e){this.resourceInfo||this._set(\"resourceInfo\",{data:r,context:e}),super.read(r,e)}_loadFromSource(r){const e=this.resourceInfo;return e?this._loadLayersFromJSON(e.data,e.context,r):Promise.resolve()}async _loadLayersFromJSON(r,e,o){const t=e?.origin||\"web-scene\",s=e?.portal||null,a=e?.url||null,{populateOperationalLayers:i}=await import(\"./layers/support/layersCreator.js\");d(o);const n=[];if(r.layers&&Array.isArray(r.layers)){const e={context:{origin:t,url:a,portal:s,layerContainerType:\"ground\"},defaultLayerType:\"ArcGISTiledElevationServiceLayer\"};n.push(i(this.layers,r.layers,e))}await Promise.allSettled(n)}};function I(r){return r&&\"createElevationSampler\"in r}function L(r){return\"elevation\"===r.type||I(r)}r([m({json:{read:!1}})],C.prototype,\"layers\",null),r([g(\"layers\")],C.prototype,\"writeLayers\",null),r([m({readOnly:!0})],C.prototype,\"resourceInfo\",void 0),r([m({type:Number,nonNullable:!0,range:{min:0,max:1},json:{type:f,read:{reader:j,source:\"transparency\"},write:{writer:(r,e)=>{e.transparency=w(r)},target:\"transparency\"}}})],C.prototype,\"opacity\",void 0),r([m({type:e,json:{type:[f],write:(r,e)=>{e.surfaceColor=r.toJSON().slice(0,3)}}})],C.prototype,\"surfaceColor\",void 0),r([m({type:v,json:{write:!0}})],C.prototype,\"navigationConstraint\",void 0),C=S=r([h(\"esri.Ground\")],C);const b=C;export{b as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{makeHandle as e}from\"../../core/handleUtils.js\";import{watch as t,syncAndInitial as n}from\"../../core/reactiveUtils.js\";const r=new WeakMap;function a(o){return!o.destroyed&&(r.has(o)||o.addHandles([t((()=>{const e=o.parent;return!(!e||!(\"type\"in e))&&(\"catalog-dynamic-group\"===e.type||a(e))}),(e=>r.set(o,e)),n),e((()=>r.delete(o)))]),r.get(o))}function o(e){return e.parent&&\"type\"in e.parent&&\"catalog-dynamic-group\"===e.parent.type?e.parent.parent:null}export{o as getCatalogLayerForLayer,a as isLayerFromCatalog};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{isLayerFromCatalog as t}from\"../catalog/catalogUtils.js\";import{getEffectiveLayerCapabilities as o,getEffectiveEditingEnabled as i}from\"./layerUtils.js\";function n(t){return\"object\"==typeof t&&null!=t&&\"loaded\"in t&&!0===t.loaded&&\"type\"in t}function e(e){return!(!n(e)||!o(e)?.operations?.supportsEditing||\"editingEnabled\"in e&&!i(e)||t(e))}export{e as isEditableLayer};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../Ground.js\";import r from\"../core/Logger.js\";import{ensureType as o}from\"../core/accessorSupport/ensureType.js\";const i={\"world-elevation\":{id:\"worldElevation\",url:\"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/Terrain3D/ImageServer\",layerType:\"ArcGISTiledElevationServiceLayer\"},\"world-topobathymetry\":{id:\"worldTopoBathymetry\",url:\"//elevation3d.arcgis.com/arcgis/rest/services/WorldElevation3D/TopoBathy3D/ImageServer\",layerType:\"ArcGISTiledElevationServiceLayer\"}};function t(t){let a=null;if(\"string\"==typeof t)if(t in i){const r=i[t];a=new e({resourceInfo:{data:{layers:[r]}}})}else r.getLogger(\"esri.support.groundUtils\").warn(`Unable to find ground definition for: ${t}. Try \"world-elevation\"`);else a=o(e,t);return a}export{t as ensureType,i as groundElevationLayers};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as e}from\"./chunks/tslib.es6.js\";import s from\"./Basemap.js\";import r from\"./Ground.js\";import t from\"./core/Accessor.js\";import o from\"./core/CollectionFlattener.js\";import a from\"./core/Evented.js\";import{destroyMaybe as i}from\"./core/maybe.js\";import{property as p}from\"./core/accessorSupport/decorators/property.js\";import{cast as l}from\"./core/accessorSupport/decorators/cast.js\";import\"./core/RandomLCG.js\";import\"./core/has.js\";import{subclass as n}from\"./core/accessorSupport/decorators/subclass.js\";import{isEditableLayer as m}from\"./layers/support/editableLayers.js\";import{createCache as d,destroyCache as c,ensureType as u}from\"./support/basemapUtils.js\";import{createFlattenedTablesCollection as y}from\"./support/collectionUtils.js\";import{ensureType as h}from\"./support/groundUtils.js\";import{LayersMixin as b}from\"./support/LayersMixin.js\";import{TablesMixin as f}from\"./support/TablesMixin.js\";let j=class extends(f(b(a.EventedMixin(t)))){constructor(e){super(e),this.allLayers=new o({getCollections:()=>[this.basemap?.baseLayers,this.ground?.layers,this.layers,this.basemap?.referenceLayers],getChildrenFunction:e=>\"layers\"in e?e.layers:null}),this.allTables=y(this),this.basemap=null,this.editableLayers=new o({getCollections:()=>[this.allLayers],itemFilterFunction:m}),this.ground=new r,this._basemapCache=d()}destroy(){c(this._basemapCache),this._basemapCache=null,this.allLayers.destroy(),this.allTables.destroy(),this.editableLayers.destroy(),this.basemap=i(this.basemap),i(this.ground),this._set(\"ground\",null)}castBasemap(e){return u(e,this._basemapCache)}castGround(e){const s=h(e);return s??this._get(\"ground\")}findLayerById(e){return this.allLayers.find((s=>s.id===e))}findTableById(e){return this.allTables.find((s=>s.id===e))}};e([p({readOnly:!0,dependsOn:[]})],j.prototype,\"allLayers\",void 0),e([p({readOnly:!0})],j.prototype,\"allTables\",void 0),e([p({type:s,json:{read:{source:\"baseMap\"},write:{target:\"baseMap\"}}})],j.prototype,\"basemap\",void 0),e([l(\"basemap\")],j.prototype,\"castBasemap\",null),e([p({readOnly:!0})],j.prototype,\"editableLayers\",void 0),e([p({type:r,nonNullable:!0})],j.prototype,\"ground\",void 0),e([l(\"ground\")],j.prototype,\"castGround\",null),e([p()],j.prototype,\"undoRedo\",void 0),j=e([n(\"esri.Map\")],j);const L=j;export{L as default};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Version as r}from\"../core/Version.js\";class s extends r{constructor(r,s){super(r,s,\"webmap\")}}export{s as Version};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{Version as e}from\"./Version.js\";function r(e){return null!=e&&\"object\"==typeof e&&\"declaredClass\"in e&&\"esri.WebMap\"===e.declaredClass}const n=new e(2,32);export{n as currentVersion,r as isWebMap};\n","/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport{_ as o}from\"../../chunks/tslib.es6.js\";import r from\"../../Color.js\";import{JSONSupport as s}from\"../../core/JSONSupport.js\";import{clone as t}from\"../../core/lang.js\";import{property as e}from\"../../core/accessorSupport/decorators/property.js\";import\"../../core/has.js\";import\"../../core/Logger.js\";import{subclass as c}from\"../../core/accessorSupport/decorators/subclass.js\";var p;let a=p=class extends s{constructor(o){super(o),this.color=new r([0,0,0,1])}clone(){return new p(t({color:this.color}))}};o([e({type:r,json:{write:!0}})],a.prototype,\"color\",void 0),a=p=o([c(\"esri.webmap.background.ColorBackground\")],a);const m=a;export{m as default};\n"],"file":"assets/ColorBackground-COQ1YjT2.js"}