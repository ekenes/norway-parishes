{"version":3,"file":"saveUtils-Cul5v8sO.js","sources":["../../node_modules/@arcgis/core/webdoc/support/saveUtils.js"],"sourcesContent":["/*\nAll material copyright ESRI, All Rights Reserved, unless otherwise specified.\nSee https://js.arcgis.com/4.31/esri/copyright.txt for details.\n*/\nimport e from\"../../core/Error.js\";async function r(e){const r=[];for(const o of e.allLayers)if(\"beforeSave\"in o&&\"function\"==typeof o.beforeSave){const e=o.beforeSave();e&&r.push(e)}await Promise.allSettled(r)}const o=new Set([\"layer:unsupported\",\"property:unsupported\",\"symbol:unsupported\",\"symbol-layer:unsupported\",\"url:unsupported\"]);function t(r,t,n){let s=(r.messages??[]).filter((({type:e})=>\"error\"===e)).map((({name:r,message:o,details:t})=>new e(r,o,t)));if(r.blockedRelativeUrls&&(s=s.concat(r.blockedRelativeUrls.map((r=>new e(\"url:unsupported\",`Relative url '${r}' is not supported`))))),n){const{ignoreUnsupported:e,supplementalUnsupportedErrors:r=[],requiredPropertyChecksDisabled:t}=n;e&&(s=s.filter((({name:e})=>!(o.has(e)||r.includes(e))))),t&&(s=s.filter((e=>\"web-document-write:property-required\"!==e.name)))}if(s.length>0)throw new e(t.errorName,\"Failed to save due to unsupported or invalid content. See 'details.errors' for more detailed information\",{errors:s})}export{r as beforeSave,t as evaluateWriteErrors};\n"],"names":["r","e","o","t","n","s"],"mappings":"wCAImC,eAAeA,EAAEC,EAAE,CAAC,MAAMD,EAAE,CAAE,EAAC,UAAU,KAAKC,EAAE,UAAU,GAAG,eAAe,GAAe,OAAO,EAAE,YAArB,WAAgC,CAAC,MAAM,EAAE,EAAE,WAAU,EAAG,GAAGD,EAAE,KAAK,CAAC,CAAC,CAAC,MAAM,QAAQ,WAAWA,CAAC,CAAC,CAAC,MAAME,EAAE,IAAI,IAAI,CAAC,oBAAoB,uBAAuB,qBAAqB,2BAA2B,iBAAiB,CAAC,EAAE,SAASC,EAAEH,EAAEG,EAAEC,EAAE,CAAC,IAAIC,GAAGL,EAAE,UAAU,CAAE,GAAE,OAAQ,CAAC,CAAC,KAAKC,CAAC,IAAcA,IAAV,OAAW,EAAG,IAAK,CAAC,CAAC,KAAK,EAAE,QAAQC,EAAE,QAAQC,CAAC,IAAI,IAAIF,EAAE,EAAEC,EAAEC,CAAC,CAAC,EAAG,GAAGH,EAAE,sBAAsBK,EAAEA,EAAE,OAAOL,EAAE,oBAAoB,IAAK,GAAG,IAAIC,EAAE,kBAAkB,iBAAiB,CAAC,oBAAoB,CAAC,CAAE,GAAGG,EAAE,CAAC,KAAK,CAAC,kBAAkBH,EAAE,8BAA8BD,EAAE,CAAA,EAAG,+BAA+BG,CAAC,EAAEC,EAAEH,IAAII,EAAEA,EAAE,OAAQ,CAAC,CAAC,KAAKJ,CAAC,IAAI,EAAEC,EAAE,IAAID,CAAC,GAAGD,EAAE,SAASC,CAAC,EAAI,GAAEE,IAAIE,EAAEA,EAAE,OAAQJ,GAA4CA,EAAE,OAA3C,sCAA+C,EAAG,CAAC,GAAGI,EAAE,OAAO,EAAE,MAAM,IAAIJ,EAAEE,EAAE,UAAU,2GAA2G,CAAC,OAAOE,CAAC,CAAC,CAAC","x_google_ignoreList":[0]}