{"version":3,"file":"calcite-tile-group.entry-D4SpxFag.js","sources":["../../node_modules/@esri/calcite-components/dist/esm/calcite-tile-group.entry.js"],"sourcesContent":["/*!\n * All material copyright ESRI, All Rights Reserved, unless otherwise specified.\n * See https://github.com/Esri/calcite-design-system/blob/dev/LICENSE.md for details.\n * v2.13.2\n */\nimport { r as registerInstance, c as createEvent, h, g as getElement } from './index-abe3b66e.js';\nimport { u as updateHostInteraction, I as InteractiveContainer } from './interactive-1a42577a.js';\nimport { c as createObserver } from './observers-9c166451.js';\nimport { k as focusElementInGroup } from './dom-b6dedd88.js';\nimport './browser-618ac057.js';\nimport './guid-9c230b6a.js';\nimport './resources-a23d2491.js';\n\nconst CSS = {\n    container: \"container\",\n};\n\nconst tileGroupCss = \":host([disabled]){cursor:default;-webkit-user-select:none;user-select:none;opacity:var(--calcite-opacity-disabled)}:host([disabled]) *,:host([disabled]) ::slotted(*){pointer-events:none}:host{box-sizing:border-box;display:inline-block}:host ::slotted(calcite-tile){margin-block-end:var(--calcite-spacing-px);margin-inline-end:var(--calcite-spacing-px)}.container{display:grid;grid-auto-rows:minmax(auto, 1fr)}:host([scale=s]) .container{grid-template-columns:repeat(auto-fit, minmax(100px, 1fr))}:host([scale=m]) .container{grid-template-columns:repeat(auto-fit, minmax(140px, 1fr))}:host([scale=l]) .container{grid-template-columns:repeat(auto-fit, minmax(160px, 1fr))}:host([layout=vertical]) .container{display:flex;flex-direction:column}:host([disabled]) ::slotted([calcite-hydrated][disabled]),:host([disabled]) [calcite-hydrated][disabled]{opacity:1}.interaction-container{display:contents}:host([hidden]){display:none}[hidden]{display:none}\";\nconst CalciteTileGroupStyle0 = tileGroupCss;\n\nconst TileGroup = class {\n    constructor(hostRef) {\n        registerInstance(this, hostRef);\n        this.calciteTileGroupSelect = createEvent(this, \"calciteTileGroupSelect\", 6);\n        this.items = [];\n        //--------------------------------------------------------------------------\n        //\n        //  Private Methods\n        //\n        //--------------------------------------------------------------------------\n        this.getSlottedTiles = () => {\n            return this.slotEl\n                ?.assignedElements({ flatten: true })\n                .filter((el) => el?.matches(\"calcite-tile\"));\n        };\n        this.mutationObserver = createObserver(\"mutation\", () => this.updateTiles());\n        this.selectItem = (item) => {\n            if (!item) {\n                return;\n            }\n            this.items?.forEach((el) => {\n                const matchingEl = item === el;\n                switch (this.selectionMode) {\n                    case \"multiple\":\n                        if (matchingEl) {\n                            el.selected = !el.selected;\n                        }\n                        break;\n                    case \"single\":\n                        el.selected = matchingEl && !el.selected;\n                        break;\n                    case \"single-persist\":\n                        el.selected = !!matchingEl;\n                        break;\n                }\n            });\n            this.updateSelectedItems();\n            this.calciteTileGroupSelect.emit();\n        };\n        this.setSlotEl = (el) => {\n            this.slotEl = el;\n        };\n        this.updateSelectedItems = () => {\n            const selectedItems = this.items?.filter((el) => el.selected);\n            if ((this.selectionMode === \"single\" || this.selectionMode === \"single-persist\") &&\n                selectedItems?.length > 1) {\n                this.selectedItems = [selectedItems.pop()];\n                this.items?.forEach((el) => {\n                    if (this.selectedItems.indexOf(el) === -1) {\n                        el.selected = false;\n                    }\n                });\n            }\n            else {\n                this.selectedItems = selectedItems ?? [];\n            }\n        };\n        this.updateTiles = () => {\n            this.items = this.getSlottedTiles();\n            this.items?.forEach((el) => {\n                el.alignment = this.alignment;\n                el.interactive = true;\n                el.layout = this.layout;\n                el.scale = this.scale;\n                el.selectionAppearance = this.selectionAppearance;\n                el.selectionMode = this.selectionMode;\n            });\n            this.updateSelectedItems();\n        };\n        this.alignment = \"start\";\n        this.disabled = false;\n        this.label = undefined;\n        this.layout = \"horizontal\";\n        this.scale = \"m\";\n        this.selectedItems = [];\n        this.selectionAppearance = \"icon\";\n        this.selectionMode = \"none\";\n    }\n    scaleWatcher() {\n        this.updateTiles();\n    }\n    handleSelectionModeOrAppearanceChange() {\n        this.updateTiles();\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Lifecycle\n    //\n    //--------------------------------------------------------------------------\n    connectedCallback() {\n        this.mutationObserver?.observe(this.el, { childList: true });\n        this.updateTiles();\n    }\n    componentDidRender() {\n        updateHostInteraction(this);\n    }\n    disconnectedCallback() {\n        this.mutationObserver?.disconnect();\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Event Listeners\n    //\n    //--------------------------------------------------------------------------\n    calciteInternalTileKeyEventListener(event) {\n        if (event.composedPath().includes(this.el)) {\n            event.preventDefault();\n            event.stopPropagation();\n            const interactiveItems = this.items?.filter((el) => !el.disabled);\n            switch (event.detail.key) {\n                case \"ArrowDown\":\n                case \"ArrowRight\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"next\");\n                    break;\n                case \"ArrowUp\":\n                case \"ArrowLeft\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"previous\");\n                    break;\n                case \"Home\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"first\");\n                    break;\n                case \"End\":\n                    focusElementInGroup(interactiveItems, event.detail.target, \"last\");\n                    break;\n            }\n        }\n    }\n    calciteTileSelectHandler(event) {\n        if (event.composedPath().includes(this.el)) {\n            this.selectItem(event.target);\n        }\n    }\n    //--------------------------------------------------------------------------\n    //\n    //  Render Methods\n    //\n    //--------------------------------------------------------------------------\n    render() {\n        const role = this.selectionMode === \"none\" || this.selectionMode === \"multiple\" ? \"group\" : \"radiogroup\";\n        return (h(InteractiveContainer, { key: 'b6652c98d563b78b3eda1dfffb61efdbbfbbae58', disabled: this.disabled }, h(\"div\", { key: 'e708dc17cf003fd7799f3f510f2dd76bb236a418', \"aria-label\": this.label, class: CSS.container, role: role }, h(\"slot\", { key: 'e3fa46a38e975d2c45371fc9b5c1a89d271143e3', onSlotchange: this.updateTiles, ref: this.setSlotEl }))));\n    }\n    get el() { return getElement(this); }\n    static get watchers() { return {\n        \"scale\": [\"scaleWatcher\"],\n        \"selectionMode\": [\"handleSelectionModeOrAppearanceChange\"],\n        \"selectionAppearance\": [\"handleSelectionModeOrAppearanceChange\"]\n    }; }\n};\nTileGroup.style = CalciteTileGroupStyle0;\n\nexport { TileGroup as calcite_tile_group };\n\n//# sourceMappingURL=calcite-tile-group.entry.js.map"],"names":["CSS","tileGroupCss","CalciteTileGroupStyle0","TileGroup","hostRef","registerInstance","createEvent","_a","el","createObserver","item","matchingEl","selectedItems","_b","updateHostInteraction","event","interactiveItems","focusElementInGroup","role","h","InteractiveContainer","getElement"],"mappings":"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","x_google_ignoreList":[0]}