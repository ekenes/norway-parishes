import{ig as at,jL as ot,k8 as ve,gh as lt,ao as ie,aq as ne,gH as Le,lf as ft,lg as ut,aG as ct,fp as dt,hY as pt,fd as gt,lh as ht,li as vt,s as K,gf as me,v as ye,lj as mt,lk as yt,gq as bt,le as wt,ap as At,b5 as xt,ld as $t,b7 as St,j as b,m as w,bd as kt,k as Tt}from"./index-BSR5w7Gk.js";import{n as _t}from"./uuid-Cl5lrJ4c.js";function Et(e){return typeof e=="string"?document.getElementById(e):e??null}function ri(e,t){for(;;){const r=e.firstChild;if(!r)break;t.appendChild(r)}}/*!
 * @esri/arcgis-html-sanitizer - v4.1.0 - Tue Dec 03 2024 09:13:28 GMT-0500 (Eastern Standard Time)
 * Copyright (c) 2024 - Environmental Systems Research Institute, Inc.
 * Apache-2.0
 * 
 * js-xss
 * Copyright (c) 2012-2018 Zongmin Lei(雷宗民) <leizongmin@gmail.com>
 * http://ucdok.com
 * MIT License, see https://github.com/leizongmin/js-xss/blob/master/LICENSE for details
 *//*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var D=function(){return D=Object.assign||function(t){for(var r,i=1,n=arguments.length;i<n;i++){r=arguments[i];for(var a in r)Object.prototype.hasOwnProperty.call(r,a)&&(t[a]=r[a])}return t},D.apply(this,arguments)},se={exports:{}},v={},ae={exports:{}},L={};function Ce(){var e={};return e["align-content"]=!1,e["align-items"]=!1,e["align-self"]=!1,e["alignment-adjust"]=!1,e["alignment-baseline"]=!1,e.all=!1,e["anchor-point"]=!1,e.animation=!1,e["animation-delay"]=!1,e["animation-direction"]=!1,e["animation-duration"]=!1,e["animation-fill-mode"]=!1,e["animation-iteration-count"]=!1,e["animation-name"]=!1,e["animation-play-state"]=!1,e["animation-timing-function"]=!1,e.azimuth=!1,e["backface-visibility"]=!1,e.background=!0,e["background-attachment"]=!0,e["background-clip"]=!0,e["background-color"]=!0,e["background-image"]=!0,e["background-origin"]=!0,e["background-position"]=!0,e["background-repeat"]=!0,e["background-size"]=!0,e["baseline-shift"]=!1,e.binding=!1,e.bleed=!1,e["bookmark-label"]=!1,e["bookmark-level"]=!1,e["bookmark-state"]=!1,e.border=!0,e["border-bottom"]=!0,e["border-bottom-color"]=!0,e["border-bottom-left-radius"]=!0,e["border-bottom-right-radius"]=!0,e["border-bottom-style"]=!0,e["border-bottom-width"]=!0,e["border-collapse"]=!0,e["border-color"]=!0,e["border-image"]=!0,e["border-image-outset"]=!0,e["border-image-repeat"]=!0,e["border-image-slice"]=!0,e["border-image-source"]=!0,e["border-image-width"]=!0,e["border-left"]=!0,e["border-left-color"]=!0,e["border-left-style"]=!0,e["border-left-width"]=!0,e["border-radius"]=!0,e["border-right"]=!0,e["border-right-color"]=!0,e["border-right-style"]=!0,e["border-right-width"]=!0,e["border-spacing"]=!0,e["border-style"]=!0,e["border-top"]=!0,e["border-top-color"]=!0,e["border-top-left-radius"]=!0,e["border-top-right-radius"]=!0,e["border-top-style"]=!0,e["border-top-width"]=!0,e["border-width"]=!0,e.bottom=!1,e["box-decoration-break"]=!0,e["box-shadow"]=!0,e["box-sizing"]=!0,e["box-snap"]=!0,e["box-suppress"]=!0,e["break-after"]=!0,e["break-before"]=!0,e["break-inside"]=!0,e["caption-side"]=!1,e.chains=!1,e.clear=!0,e.clip=!1,e["clip-path"]=!1,e["clip-rule"]=!1,e.color=!0,e["color-interpolation-filters"]=!0,e["column-count"]=!1,e["column-fill"]=!1,e["column-gap"]=!1,e["column-rule"]=!1,e["column-rule-color"]=!1,e["column-rule-style"]=!1,e["column-rule-width"]=!1,e["column-span"]=!1,e["column-width"]=!1,e.columns=!1,e.contain=!1,e.content=!1,e["counter-increment"]=!1,e["counter-reset"]=!1,e["counter-set"]=!1,e.crop=!1,e.cue=!1,e["cue-after"]=!1,e["cue-before"]=!1,e.cursor=!1,e.direction=!1,e.display=!0,e["display-inside"]=!0,e["display-list"]=!0,e["display-outside"]=!0,e["dominant-baseline"]=!1,e.elevation=!1,e["empty-cells"]=!1,e.filter=!1,e.flex=!1,e["flex-basis"]=!1,e["flex-direction"]=!1,e["flex-flow"]=!1,e["flex-grow"]=!1,e["flex-shrink"]=!1,e["flex-wrap"]=!1,e.float=!1,e["float-offset"]=!1,e["flood-color"]=!1,e["flood-opacity"]=!1,e["flow-from"]=!1,e["flow-into"]=!1,e.font=!0,e["font-family"]=!0,e["font-feature-settings"]=!0,e["font-kerning"]=!0,e["font-language-override"]=!0,e["font-size"]=!0,e["font-size-adjust"]=!0,e["font-stretch"]=!0,e["font-style"]=!0,e["font-synthesis"]=!0,e["font-variant"]=!0,e["font-variant-alternates"]=!0,e["font-variant-caps"]=!0,e["font-variant-east-asian"]=!0,e["font-variant-ligatures"]=!0,e["font-variant-numeric"]=!0,e["font-variant-position"]=!0,e["font-weight"]=!0,e.grid=!1,e["grid-area"]=!1,e["grid-auto-columns"]=!1,e["grid-auto-flow"]=!1,e["grid-auto-rows"]=!1,e["grid-column"]=!1,e["grid-column-end"]=!1,e["grid-column-start"]=!1,e["grid-row"]=!1,e["grid-row-end"]=!1,e["grid-row-start"]=!1,e["grid-template"]=!1,e["grid-template-areas"]=!1,e["grid-template-columns"]=!1,e["grid-template-rows"]=!1,e["hanging-punctuation"]=!1,e.height=!0,e.hyphens=!1,e.icon=!1,e["image-orientation"]=!1,e["image-resolution"]=!1,e["ime-mode"]=!1,e["initial-letters"]=!1,e["inline-box-align"]=!1,e["justify-content"]=!1,e["justify-items"]=!1,e["justify-self"]=!1,e.left=!1,e["letter-spacing"]=!0,e["lighting-color"]=!0,e["line-box-contain"]=!1,e["line-break"]=!1,e["line-grid"]=!1,e["line-height"]=!1,e["line-snap"]=!1,e["line-stacking"]=!1,e["line-stacking-ruby"]=!1,e["line-stacking-shift"]=!1,e["line-stacking-strategy"]=!1,e["list-style"]=!0,e["list-style-image"]=!0,e["list-style-position"]=!0,e["list-style-type"]=!0,e.margin=!0,e["margin-bottom"]=!0,e["margin-left"]=!0,e["margin-right"]=!0,e["margin-top"]=!0,e["marker-offset"]=!1,e["marker-side"]=!1,e.marks=!1,e.mask=!1,e["mask-box"]=!1,e["mask-box-outset"]=!1,e["mask-box-repeat"]=!1,e["mask-box-slice"]=!1,e["mask-box-source"]=!1,e["mask-box-width"]=!1,e["mask-clip"]=!1,e["mask-image"]=!1,e["mask-origin"]=!1,e["mask-position"]=!1,e["mask-repeat"]=!1,e["mask-size"]=!1,e["mask-source-type"]=!1,e["mask-type"]=!1,e["max-height"]=!0,e["max-lines"]=!1,e["max-width"]=!0,e["min-height"]=!0,e["min-width"]=!0,e["move-to"]=!1,e["nav-down"]=!1,e["nav-index"]=!1,e["nav-left"]=!1,e["nav-right"]=!1,e["nav-up"]=!1,e["object-fit"]=!1,e["object-position"]=!1,e.opacity=!1,e.order=!1,e.orphans=!1,e.outline=!1,e["outline-color"]=!1,e["outline-offset"]=!1,e["outline-style"]=!1,e["outline-width"]=!1,e.overflow=!1,e["overflow-wrap"]=!1,e["overflow-x"]=!1,e["overflow-y"]=!1,e.padding=!0,e["padding-bottom"]=!0,e["padding-left"]=!0,e["padding-right"]=!0,e["padding-top"]=!0,e.page=!1,e["page-break-after"]=!1,e["page-break-before"]=!1,e["page-break-inside"]=!1,e["page-policy"]=!1,e.pause=!1,e["pause-after"]=!1,e["pause-before"]=!1,e.perspective=!1,e["perspective-origin"]=!1,e.pitch=!1,e["pitch-range"]=!1,e["play-during"]=!1,e.position=!1,e["presentation-level"]=!1,e.quotes=!1,e["region-fragment"]=!1,e.resize=!1,e.rest=!1,e["rest-after"]=!1,e["rest-before"]=!1,e.richness=!1,e.right=!1,e.rotation=!1,e["rotation-point"]=!1,e["ruby-align"]=!1,e["ruby-merge"]=!1,e["ruby-position"]=!1,e["shape-image-threshold"]=!1,e["shape-outside"]=!1,e["shape-margin"]=!1,e.size=!1,e.speak=!1,e["speak-as"]=!1,e["speak-header"]=!1,e["speak-numeral"]=!1,e["speak-punctuation"]=!1,e["speech-rate"]=!1,e.stress=!1,e["string-set"]=!1,e["tab-size"]=!1,e["table-layout"]=!1,e["text-align"]=!0,e["text-align-last"]=!0,e["text-combine-upright"]=!0,e["text-decoration"]=!0,e["text-decoration-color"]=!0,e["text-decoration-line"]=!0,e["text-decoration-skip"]=!0,e["text-decoration-style"]=!0,e["text-emphasis"]=!0,e["text-emphasis-color"]=!0,e["text-emphasis-position"]=!0,e["text-emphasis-style"]=!0,e["text-height"]=!0,e["text-indent"]=!0,e["text-justify"]=!0,e["text-orientation"]=!0,e["text-overflow"]=!0,e["text-shadow"]=!0,e["text-space-collapse"]=!0,e["text-transform"]=!0,e["text-underline-position"]=!0,e["text-wrap"]=!0,e.top=!1,e.transform=!1,e["transform-origin"]=!1,e["transform-style"]=!1,e.transition=!1,e["transition-delay"]=!1,e["transition-duration"]=!1,e["transition-property"]=!1,e["transition-timing-function"]=!1,e["unicode-bidi"]=!1,e["vertical-align"]=!1,e.visibility=!1,e["voice-balance"]=!1,e["voice-duration"]=!1,e["voice-family"]=!1,e["voice-pitch"]=!1,e["voice-range"]=!1,e["voice-rate"]=!1,e["voice-stress"]=!1,e["voice-volume"]=!1,e.volume=!1,e["white-space"]=!1,e.widows=!1,e.width=!0,e["will-change"]=!1,e["word-break"]=!0,e["word-spacing"]=!0,e["word-wrap"]=!0,e["wrap-flow"]=!1,e["wrap-through"]=!1,e["writing-mode"]=!1,e["z-index"]=!1,e}function Lt(e,t,r){}function Ct(e,t,r){}var Nt=/javascript\s*\:/img;function Ot(e,t){return Nt.test(t)?"":t}L.whiteList=Ce();L.getDefaultWhiteList=Ce;L.onAttr=Lt;L.onIgnoreAttr=Ct;L.safeAttrValue=Ot;var Pt={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},trimRight:function(e){return String.prototype.trimRight?e.trimRight():e.replace(/(\s*$)/g,"")}},I=Pt;function It(e,t){e=I.trimRight(e),e[e.length-1]!==";"&&(e+=";");var r=e.length,i=!1,n=0,a=0,l="";function o(){if(!i){var d=I.trim(e.slice(n,a)),f=d.indexOf(":");if(f!==-1){var c=I.trim(d.slice(0,f)),p=I.trim(d.slice(f+1));if(c){var g=t(n,l.length,c,p,d);g&&(l+=g+"; ")}}}n=a+1}for(;a<r;a++){var s=e[a];if(s==="/"&&e[a+1]==="*"){var u=e.indexOf("*/",a+2);if(u===-1)break;a=u+1,n=a+1,i=!1}else s==="("?i=!0:s===")"?i=!1:s===";"?i||o():s===`
`&&o()}return I.trim(l)}var Rt=It,H=L,Ft=Rt;function be(e){return e==null}function jt(e){var t={};for(var r in e)t[r]=e[r];return t}function Ne(e){e=jt(e||{}),e.whiteList=e.whiteList||H.whiteList,e.onAttr=e.onAttr||H.onAttr,e.onIgnoreAttr=e.onIgnoreAttr||H.onIgnoreAttr,e.safeAttrValue=e.safeAttrValue||H.safeAttrValue,this.options=e}Ne.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onAttr,a=r.onIgnoreAttr,l=r.safeAttrValue,o=Ft(e,function(s,u,d,f,c){var p=i[d],g=!1;if(p===!0?g=p:typeof p=="function"?g=p(f):p instanceof RegExp&&(g=p.test(f)),g!==!0&&(g=!1),f=l(d,f),!!f){var h={position:u,sourcePosition:s,source:c,isWhite:g};if(g){var m=n(d,f,h);return be(m)?d+":"+f:m}else{var m=a(d,f,h);if(!be(m))return m}}});return o};var zt=Ne;(function(e,t){var r=L,i=zt;function n(l,o){var s=new i(o);return s.process(l)}t=e.exports=n,t.FilterCSS=i;for(var a in r)t[a]=r[a]})(ae,ae.exports);var ce=ae.exports,de={indexOf:function(e,t){var r,i;if(Array.prototype.indexOf)return e.indexOf(t);for(r=0,i=e.length;r<i;r++)if(e[r]===t)return r;return-1},forEach:function(e,t,r){var i,n;if(Array.prototype.forEach)return e.forEach(t,r);for(i=0,n=e.length;i<n;i++)t.call(r,e[i],i,e)},trim:function(e){return String.prototype.trim?e.trim():e.replace(/(^\s*)|(\s*$)/g,"")},spaceIndex:function(e){var t=/\s|\n|\t/,r=t.exec(e);return r?r.index:-1}},Ht=ce.FilterCSS,Vt=ce.getDefaultWhiteList,G=de;function Oe(){return{a:["target","href","title"],abbr:["title"],address:[],area:["shape","coords","href","alt"],article:[],aside:[],audio:["autoplay","controls","crossorigin","loop","muted","preload","src"],b:[],bdi:["dir"],bdo:["dir"],big:[],blockquote:["cite"],br:[],caption:[],center:[],cite:[],code:[],col:["align","valign","span","width"],colgroup:["align","valign","span","width"],dd:[],del:["datetime"],details:["open"],div:[],dl:[],dt:[],em:[],figcaption:[],figure:[],font:["color","size","face"],footer:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],header:[],hr:[],i:[],img:["src","alt","title","width","height"],ins:["datetime"],li:[],mark:[],nav:[],ol:[],p:[],pre:[],s:[],section:[],small:[],span:[],sub:[],summary:[],sup:[],strong:[],strike:[],table:["width","border","align","valign"],tbody:["align","valign"],td:["width","rowspan","colspan","align","valign"],tfoot:["align","valign"],th:["width","rowspan","colspan","align","valign"],thead:["align","valign"],tr:["rowspan","align","valign"],tt:[],u:[],ul:[],video:["autoplay","controls","crossorigin","loop","muted","playsinline","poster","preload","src","height","width"]}}var Pe=new Ht;function Wt(e,t,r){}function Bt(e,t,r){}function Ut(e,t,r){}function Dt(e,t,r){}function Ie(e){return e.replace(qt,"&lt;").replace(Xt,"&gt;")}function Gt(e,t,r,i){if(r=Ve(r),t==="href"||t==="src"){if(r=G.trim(r),r==="#")return"#";if(!(r.substr(0,7)==="http://"||r.substr(0,8)==="https://"||r.substr(0,7)==="mailto:"||r.substr(0,4)==="tel:"||r.substr(0,11)==="data:image/"||r.substr(0,6)==="ftp://"||r.substr(0,2)==="./"||r.substr(0,3)==="../"||r[0]==="#"||r[0]==="/"))return""}else if(t==="background"){if(V.lastIndex=0,V.test(r))return""}else if(t==="style"){if(we.lastIndex=0,we.test(r)||(Ae.lastIndex=0,Ae.test(r)&&(V.lastIndex=0,V.test(r))))return"";i!==!1&&(i=i||Pe,r=i.process(r))}return r=We(r),r}var qt=/</g,Xt=/>/g,Mt=/"/g,Qt=/&quot;/g,Zt=/&#([a-zA-Z0-9]*);?/gim,Yt=/&colon;?/gim,Jt=/&newline;?/gim,V=/((j\s*a\s*v\s*a|v\s*b|l\s*i\s*v\s*e)\s*s\s*c\s*r\s*i\s*p\s*t\s*|m\s*o\s*c\s*h\s*a):/gi,we=/e\s*x\s*p\s*r\s*e\s*s\s*s\s*i\s*o\s*n\s*\(.*/gi,Ae=/u\s*r\s*l\s*\(.*/gi;function Re(e){return e.replace(Mt,"&quot;")}function Fe(e){return e.replace(Qt,'"')}function je(e){return e.replace(Zt,function(r,i){return i[0]==="x"||i[0]==="X"?String.fromCharCode(parseInt(i.substr(1),16)):String.fromCharCode(parseInt(i,10))})}function ze(e){return e.replace(Yt,":").replace(Jt," ")}function He(e){for(var t="",r=0,i=e.length;r<i;r++)t+=e.charCodeAt(r)<32?" ":e.charAt(r);return G.trim(t)}function Ve(e){return e=Fe(e),e=je(e),e=ze(e),e=He(e),e}function We(e){return e=Re(e),e=Ie(e),e}function Kt(){return""}function er(e,t){typeof t!="function"&&(t=function(){});var r=!Array.isArray(e);function i(l){return r?!0:G.indexOf(e,l)!==-1}var n=[],a=!1;return{onIgnoreTag:function(l,o,s){if(i(l))if(s.isClosing){var u="[/removed]",d=s.position+u.length;return n.push([a!==!1?a:s.position,d]),a=!1,u}else return a||(a=s.position),"[removed]";else return t(l,o,s)},remove:function(l){var o="",s=0;return G.forEach(n,function(u){o+=l.slice(s,u[0]),s=u[1]}),o+=l.slice(s),o}}}function tr(e){for(var t="",r=0;r<e.length;){var i=e.indexOf("<!--",r);if(i===-1){t+=e.slice(r);break}t+=e.slice(r,i);var n=e.indexOf("-->",i);if(n===-1)break;r=n+3}return t}function rr(e){var t=e.split("");return t=t.filter(function(r){var i=r.charCodeAt(0);return i===127?!1:i<=31?i===10||i===13:!0}),t.join("")}v.whiteList=Oe();v.getDefaultWhiteList=Oe;v.onTag=Wt;v.onIgnoreTag=Bt;v.onTagAttr=Ut;v.onIgnoreTagAttr=Dt;v.safeAttrValue=Gt;v.escapeHtml=Ie;v.escapeQuote=Re;v.unescapeQuote=Fe;v.escapeHtmlEntities=je;v.escapeDangerHtml5Entities=ze;v.clearNonPrintableCharacter=He;v.friendlyAttrValue=Ve;v.escapeAttrValue=We;v.onIgnoreTagStripAll=Kt;v.StripTagBody=er;v.stripCommentTag=tr;v.stripBlankChar=rr;v.cssFilter=Pe;v.getDefaultCSSWhiteList=Vt;var Q={},T=de;function ir(e){var t=T.spaceIndex(e),r;return t===-1?r=e.slice(1,-1):r=e.slice(1,t+1),r=T.trim(r).toLowerCase(),r.slice(0,1)==="/"&&(r=r.slice(1)),r.slice(-1)==="/"&&(r=r.slice(0,-1)),r}function nr(e){return e.slice(0,2)==="</"}function sr(e,t,r){var i="",n=0,a=!1,l=!1,o=0,s=e.length,u="",d="";e:for(o=0;o<s;o++){var f=e.charAt(o);if(a===!1){if(f==="<"){a=o;continue}}else if(l===!1){if(f==="<"){i+=r(e.slice(n,o)),a=o,n=o;continue}if(f===">"){i+=r(e.slice(n,a)),d=e.slice(a,o+1),u=ir(d),i+=t(a,i.length,u,d,nr(d)),n=o+1,a=!1;continue}if(f==='"'||f==="'")for(var c=1,p=e.charAt(o-c);p.trim()===""||p==="=";){if(p==="="){l=f;continue e}p=e.charAt(o-++c)}}else if(f===l){l=!1;continue}}return n<e.length&&(i+=r(e.substr(n))),i}var ar=/[^a-zA-Z0-9\\_:.-]/gim;function or(e,t){var r=0,i=0,n=[],a=!1,l=e.length;function o(c,p){if(c=T.trim(c),c=c.replace(ar,"").toLowerCase(),!(c.length<1)){var g=t(c,p||"");g&&n.push(g)}}for(var s=0;s<l;s++){var u=e.charAt(s),d,f;if(a===!1&&u==="="){a=e.slice(r,s),r=s+1,i=e.charAt(r)==='"'||e.charAt(r)==="'"?r:fr(e,s+1);continue}if(a!==!1&&s===i){if(f=e.indexOf(u,s+1),f===-1)break;d=T.trim(e.slice(i+1,f)),o(a,d),a=!1,s=f,r=s+1;continue}if(/\s|\n|\t/.test(u))if(e=e.replace(/\s|\n|\t/g," "),a===!1)if(f=lr(e,s),f===-1){d=T.trim(e.slice(r,s)),o(d),a=!1,r=s+1;continue}else{s=f-1;continue}else if(f=ur(e,s-1),f===-1){d=T.trim(e.slice(r,s)),d=xe(d),o(a,d),a=!1,r=s+1;continue}else continue}return r<e.length&&(a===!1?o(e.slice(r)):o(a,xe(T.trim(e.slice(r))))),T.trim(n.join(" "))}function lr(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="="?t:-1}}function fr(e,t){for(;t<e.length;t++){var r=e[t];if(r!==" ")return r==="'"||r==='"'?t:-1}}function ur(e,t){for(;t>0;t--){var r=e[t];if(r!==" ")return r==="="?t:-1}}function cr(e){return e[0]==='"'&&e[e.length-1]==='"'||e[0]==="'"&&e[e.length-1]==="'"}function xe(e){return cr(e)?e.substr(1,e.length-2):e}Q.parseTag=sr;Q.parseAttr=or;var dr=ce.FilterCSS,x=v,Be=Q,pr=Be.parseTag,gr=Be.parseAttr,U=de;function W(e){return e==null}function hr(e){var t=U.spaceIndex(e);if(t===-1)return{html:"",closing:e[e.length-2]==="/"};e=U.trim(e.slice(t+1,-1));var r=e[e.length-1]==="/";return r&&(e=U.trim(e.slice(0,-1))),{html:e,closing:r}}function vr(e){var t={};for(var r in e)t[r]=e[r];return t}function mr(e){var t={};for(var r in e)Array.isArray(e[r])?t[r.toLowerCase()]=e[r].map(function(i){return i.toLowerCase()}):t[r.toLowerCase()]=e[r];return t}function Ue(e){e=vr(e||{}),e.stripIgnoreTag&&(e.onIgnoreTag&&console.error('Notes: cannot use these two options "stripIgnoreTag" and "onIgnoreTag" at the same time'),e.onIgnoreTag=x.onIgnoreTagStripAll),e.whiteList||e.allowList?e.whiteList=mr(e.whiteList||e.allowList):e.whiteList=x.whiteList,e.onTag=e.onTag||x.onTag,e.onTagAttr=e.onTagAttr||x.onTagAttr,e.onIgnoreTag=e.onIgnoreTag||x.onIgnoreTag,e.onIgnoreTagAttr=e.onIgnoreTagAttr||x.onIgnoreTagAttr,e.safeAttrValue=e.safeAttrValue||x.safeAttrValue,e.escapeHtml=e.escapeHtml||x.escapeHtml,this.options=e,e.css===!1?this.cssFilter=!1:(e.css=e.css||{},this.cssFilter=new dr(e.css))}Ue.prototype.process=function(e){if(e=e||"",e=e.toString(),!e)return"";var t=this,r=t.options,i=r.whiteList,n=r.onTag,a=r.onIgnoreTag,l=r.onTagAttr,o=r.onIgnoreTagAttr,s=r.safeAttrValue,u=r.escapeHtml,d=t.cssFilter;r.stripBlankChar&&(e=x.stripBlankChar(e)),r.allowCommentTag||(e=x.stripCommentTag(e));var f=!1;r.stripIgnoreTagBody&&(f=x.StripTagBody(r.stripIgnoreTagBody,a),a=f.onIgnoreTag);var c=pr(e,function(p,g,h,m,j){var O={sourcePosition:p,position:g,isClosing:j,isWhite:Object.prototype.hasOwnProperty.call(i,h)},C=n(h,m,O);if(!W(C))return C;if(O.isWhite){if(O.isClosing)return"</"+h+">";var J=hr(m),he=i[h],$=gr(J.html,function(A,S){var P=U.indexOf(he,A)!==-1,k=l(h,A,S,P);return W(k)?P?(S=s(h,A,S,d),S?A+'="'+S+'"':A):(k=o(h,A,S,P),W(k)?void 0:k):k});return m="<"+h,$&&(m+=" "+$),J.closing&&(m+=" /"),m+=">",m}else return C=a(h,m,O),W(C)?u(m):C},u);return f&&(c=f.remove(c)),c};var yr=Ue;(function(e,t){var r=v,i=Q,n=yr;function a(o,s){var u=new n(s);return u.process(o)}t=e.exports=a,t.filterXSS=a,t.FilterXSS=n,function(){for(var o in r)t[o]=r[o];for(var s in i)t[s]=i[s]}();function l(){return typeof self<"u"&&typeof DedicatedWorkerGlobalScope<"u"&&self instanceof DedicatedWorkerGlobalScope}l()&&(self.filterXSS=e.exports)})(se,se.exports);var N=se.exports,br=function(e){if(typeof e!="object"||e===null||Object.prototype.toString.call(e)!=="[object Object]")return!1;var t=Object.getPrototypeOf(e);if(t===null)return!0;for(;Object.getPrototypeOf(t)!==null;)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t},wr=function(){function e(t,r){var i=this;this.arcgisWhiteList={a:["href","style","target"],abbr:["title"],article:["style"],aside:["style"],audio:["autoplay","controls","loop","muted","preload"],b:[],blockquote:["style"],br:[],code:["style"],dd:["style"],del:["style"],details:["open","style"],div:["align","aria-hidden","aria-label","style"],dl:["style"],dt:["style"],em:[],figcaption:["style"],figure:["style"],font:["color","face","size","style"],footer:["style"],h1:["style"],h2:["style"],h3:["style"],h4:["style"],h5:["style"],h6:["style"],header:["style"],hr:[],i:[],img:["alt","border","height","src","style","width"],li:[],main:["style"],mark:["style"],nav:["style"],ol:[],p:["style"],pre:["style"],section:["style"],source:["media","src","type"],span:["aria-hidden","aria-label","style"],strong:[],sub:["style"],summary:["style"],sup:["style"],table:["border","cellpadding","cellspacing","height","style","width"],tbody:[],tr:["align","height","style","valign"],td:["align","colspan","height","nowrap","rowspan","style","valign","width"],th:["align","colspan","height","nowrap","rowspan","style","valign","width"],time:["style"],u:[],ul:[],video:["autoplay","controls","height","loop","muted","poster","preload","width"]},this.arcgisCSSWhiteList=D(D({},N.getDefaultCSSWhiteList()),{"align-items":!0,"align-self":!0,flex:!0,"flex-basis":!0,"flex-direction":!0,"flex-flow":!0,"flex-grow":!0,"flex-shrink":!0,"flex-wrap":!0,float:!0,gap:!0,grid:!0,"grid-area":!0,"grid-auto-columns":!0,"grid-auto-flow":!0,"grid-auto-rows":!0,"grid-column":!0,"grid-column-end":!0,"grid-column-start":!0,"grid-row":!0,"grid-row-end":!0,"grid-row-start":!0,"grid-template":!0,"grid-template-areas":!0,"grid-template-columns":!0,"grid-template-rows":!0,"justify-content":!0,"justify-items":!0,"justify-self":!0,"line-height":!0,overflow:!0}),this.allowedProtocols=["http","https","mailto","iform","tel","flow","lfmobile","arcgis-navigator","arcgis-appstudio-player","arcgis-survey123","arcgis-collector","arcgis-workforce","arcgis-explorer","arcgis-trek2there","arcgis-quickcapture","mspbi","comgooglemaps","pdfefile","pdfehttp","pdfehttps","boxapp","boxemm","awb","awbs","gropen","radarscope"],this.arcgisFilterOptions={allowCommentTag:!0,safeAttrValue:function(a,l,o,s){return a==="a"&&l==="href"||(a==="img"||a==="source")&&l==="src"?i.sanitizeUrl(o):N.safeAttrValue(a,l,o,s)}},this._entityMap={"&":"&#x38;","<":"&#x3C;",">":"&#x3E;",'"':"&#x22;","'":"&#x27;","/":"&#x2F;"};var n;t&&!r?n=t:t&&r?(n=Object.create(this.arcgisFilterOptions),n.css={whiteList:this.arcgisCSSWhiteList},Object.keys(t).forEach(function(a){if(a==="whiteList")n.whiteList=i._extendObjectOfArrays([i.arcgisWhiteList,t.whiteList||{}]);else if(a==="css"){var l=t.css.whiteList;l!=null&&t.css instanceof Object&&Object.keys(l).forEach(function(o){return n.css.whiteList[o]=l[o]})}else n[a]=t[a]})):(n=Object.create(this.arcgisFilterOptions),n.whiteList=this.arcgisWhiteList,n.css={whiteList:this.arcgisCSSWhiteList}),this.xssFilterOptions=n,this._xssFilter=new N.FilterXSS(n)}return e.prototype.sanitize=function(t,r){switch(r===void 0&&(r={}),typeof t){case"number":return isNaN(t)||!isFinite(t)?null:t;case"boolean":return t;case"string":return this._xssFilter.process(t);case"object":return this._iterateOverObject(t,r);default:return r.allowUndefined&&typeof t>"u"?void 0:null}},e.prototype.sanitizeUrl=function(t,r){var i=(r??{}).isProtocolRequired,n=i===void 0?!0:i,a=this._trim(t.substring(0,t.indexOf(":"))),l=t==="/",o=/^#/.test(t),s=a&&this.allowedProtocols.indexOf(a.toLowerCase())>-1;return l||o||s?N.escapeAttrValue(t):!a&&!n?N.escapeAttrValue("https://".concat(t)):""},e.prototype.sanitizeHTMLAttribute=function(t,r,i,n){return typeof this.xssFilterOptions.safeAttrValue=="function"?this.xssFilterOptions.safeAttrValue(t,r,i,n):N.safeAttrValue(t,r,i,n)},e.prototype.validate=function(t,r){r===void 0&&(r={});var i=this.sanitize(t,r);return{isValid:t===i,sanitized:i}},e.prototype.encodeHTML=function(t){var r=this;return String(t).replace(/[&<>"'\/]/g,function(i){return r._entityMap[i]})},e.prototype.encodeAttrValue=function(t){var r=/^[a-zA-Z0-9]$/;return String(t).replace(/[\x00-\xFF]/g,function(i,n){return r.test(i)?i:"&#x".concat(Number(t.charCodeAt(n)).toString(16),";")})},e.prototype._extendObjectOfArrays=function(t){var r={};return t.forEach(function(i){Object.keys(i).forEach(function(n){Array.isArray(i[n])&&Array.isArray(r[n])?r[n]=r[n].concat(i[n]):r[n]=i[n]})}),r},e.prototype._iterateOverObject=function(t,r){var i=this;r===void 0&&(r={});try{var n=!1,a=void 0;if(Array.isArray(t))a=t.reduce(function(o,s){var u=i.validate(s,r);return u.isValid?o.concat([s]):(n=!0,o.concat([u.sanitized]))},[]);else if(br(t)){var l=Object.keys(t);a=l.reduce(function(o,s){var u=t[s],d=i.validate(u,r);return d.isValid?o[s]=u:(n=!0,o[s]=d.sanitized),o},{})}else return r.allowUndefined&&typeof t>"u"?void 0:null;return n?a:t}catch{return null}},e.prototype._trim=function(t){return String.prototype.trim?t.trim():t.replace(/(^\s*)|(\s*$)/g,"")},e}();const Z=new Map;function De(){Z.clear()}function Ar(e){return Z.get(e)}function xr(e,t){Z.set(e,t)}function ee(e){Z.delete(e)}function $r(...e){const t=ve.acquire();for(let i=0;i<e.length;i++){const n=e[i],a=typeof n;if(a==="string")t.push(n);else if(Array.isArray(n))t.push.apply(t,n);else if(a==="object")for(const l in n)n[l]&&t.push(l)}const r=t.join(" ");return ve.release(t),r}const ii=(()=>{const e=new Map,t=new ResizeObserver(i=>{var n;De();for(const a of i)(n=e.get(a.target))==null||n(a)}),r=(i,n,a)=>(e.set(i,n),t.observe(i,a),ne(()=>{t.unobserve(i),e.delete(i)}));return(i,n,a)=>{let l=null;return lt([ie(()=>typeof i=="function"?i():i,o=>{l==null||l.remove(),o&&(l=r(o,n,a))},Le),ne(()=>l==null?void 0:l.remove())])}})();function ni(e){const t=e==null?void 0:e.closest("[dir]");return t!==null&&t instanceof HTMLElement&&t.dir==="rtl"||document.dir==="rtl"}function si(e){const t="data-node-ref";this[e.getAttribute(t)]=null}function ai(e){const t="data-node-ref";this[e.getAttribute(t)]=e}const Sr=["dd","dl","dt","h1","h2","h3","h4","h5","h6","sub","sup","animate","animatetransform","circle","clippath","defs","ellipse","g","image","line","lineargradient","marker","mask","path","pattern","polygon","polyline","radialgradient","rect","stop","svg","switch","symbol","text","textpath","tspan","use"],kr=Sr.reduce((e,t)=>(e[t]=[],e),{}),Tr=["align","alink","alt","bgcolor","border","cellpadding","cellspacing","class","color","cols","colspan","coords","d","dir","face","height","hspace","ismap","lang","marginheight","marginwidth","multiple","nohref","noresize","noshade","nowrap","ref","rel","rev","rows","rowspan","scrolling","shape","span","summary","tabindex","title","usemap","valign","value","vlink","vspace","width"],Ge=new wr({whiteList:kr,onTagAttr:(e,t,r)=>{const i=`${t}="${r}"`;if(Tr.includes(t))return i},stripIgnoreTag:!0,stripIgnoreTagBody:["script","style"]},!0);function oi(e){return e==="Enter"||e===" "}async function li(e,t){await at(ot(t));const r=typeof e=="function"?e():e;r&&("setFocus"in r&&typeof r.setFocus=="function"?await r.setFocus():r instanceof HTMLElement&&r.focus())}const qe="http://www.w3.org/",Y=`${qe}2000/svg`,Xe=`${qe}1999/xlink`;let $e=[],pe=(e,t)=>{let r={};return Object.keys(e).forEach(i=>{r[i]=e[i]}),t&&Object.keys(t).forEach(i=>{r[i]=t[i]}),r},ge=(e,t)=>e.vnodeSelector===t.vnodeSelector&&(e.properties&&t.properties?e.properties.key===t.properties.key&&e.properties.bind===t.properties.bind:!e.properties&&!t.properties),Me=e=>{if(typeof e!="string")throw new Error("Style values must be strings")},_r=(e,t,r)=>{if(t.vnodeSelector!==""){for(let i=r;i<e.length;i++)if(ge(e[i],t))return i}return-1},te=(e,t,r,i)=>{let n=e[t];if(n.vnodeSelector==="")return;let a=n.properties;if(!(a&&(a.key===void 0?a.bind:a.key))){for(let l=0;l<e.length;l++)if(l!==t){let o=e[l];if(ge(o,n))throw new Error(`${r.vnodeSelector} had a ${n.vnodeSelector} child ${i==="added"?i:"removed"}, but there is now more than one. You must add unique key properties to make them distinguishable.`)}}},Er=e=>{if(e.properties){let t=e.properties.enterAnimation;t&&t(e.domNode,e.properties)}},oe=[],le=!1,Qe=e=>{(e.children||[]).forEach(Qe),e.properties&&e.properties.afterRemoved&&e.properties.afterRemoved.apply(e.properties.bind||e.properties,[e.domNode])},Se=()=>{le=!1,oe.forEach(Qe),oe.length=0},ke=e=>{oe.push(e),le||(le=!0,typeof window<"u"&&"requestIdleCallback"in window?window.requestIdleCallback(Se,{timeout:16}):setTimeout(Se,16))},Te=e=>{let t=e.domNode;if(e.properties){let r=e.properties.exitAnimation;if(r)return t.style.pointerEvents="none",void r(t,()=>{t.parentNode&&(t.parentNode.removeChild(t),ke(e))},e.properties)}t.parentNode&&(t.parentNode.removeChild(t),ke(e))},Lr=(e,t,r)=>{if(!t)return;let i=r.eventHandlerInterceptor,n=Object.keys(t),a=n.length;for(let l=0;l<a;l++){let o=n[l],s=t[o];if(o==="className")throw new Error('Property "className" is not supported, use "class".');if(o==="class")ue(e,s,!0);else if(o==="classes"){let u=Object.keys(s),d=u.length;for(let f=0;f<d;f++){let c=u[f];s[c]&&e.classList.add(c)}}else if(o==="styles"){let u=Object.keys(s),d=u.length;for(let f=0;f<d;f++){let c=u[f],p=s[c];p&&(Me(p),r.styleApplyer(e,c,p))}}else if(o!=="key"&&s!=null){let u=typeof s;u==="function"?(o.lastIndexOf("on",0)===0&&(i&&(s=i(o,s,e,t)),o==="oninput"&&function(){let d=s;s=function(f){d.apply(this,[f]),f.target["oninput-value"]=f.target.value}}()),e[o]=s):r.namespace===Y?o==="href"?e.setAttributeNS(Xe,o,s):e.setAttribute(o,s):u==="string"&&o!=="value"?o==="innerHTML"?e[o]=Ge.sanitize(s):fe(e)&&o in e?e[o]=s:e.setAttribute(o,s):e[o]=s}}};function fe(e){if(!(e instanceof Element&&e.tagName.includes("-")))return!1;const t=window.customElements.get(e.tagName.toLowerCase());return!!t&&e instanceof t}let q,Cr=(e,t,r)=>{if(t)for(let i of t)F(i,e,void 0,r)},Ze=(e,t,r)=>{Cr(e,t.children,r),t.text&&(e.textContent=t.text),Lr(e,t.properties,r),t.properties&&t.properties.afterCreate&&t.properties.afterCreate.apply(t.properties.bind||t.properties,[e,r,t.vnodeSelector,t.properties,t.children])},F=(e,t,r,i)=>{let n,a=0,l=e.vnodeSelector,o=t.ownerDocument;if(l==="")n=e.domNode=o.createTextNode(e.text),r!==void 0?t.insertBefore(n,r):t.appendChild(n);else{for(let s=0;s<=l.length;++s){let u=l.charAt(s);if(s===l.length||u==="."||u==="#"){let d=l.charAt(a-1),f=l.slice(a,s);d==="."?n.classList.add(f):d==="#"?n.id=f:(f==="svg"&&(i=pe(i,{namespace:Y})),i.namespace!==void 0?n=e.domNode=o.createElementNS(i.namespace,f):(n=e.domNode=e.domNode||o.createElement(f),f==="input"&&e.properties&&e.properties.type!==void 0&&n.setAttribute("type",e.properties.type)),r!==void 0?t.insertBefore(n,r):n.parentNode!==t&&t.appendChild(n)),a=s+1}}Ze(n,e,i)}},ue=(e,t,r)=>{t&&t.split(" ").forEach(i=>{i&&e.classList.toggle(i,r)})},Nr=(e,t,r,i)=>{if(!r)return;let n=!1,a=Object.keys(r),l=a.length;for(let o=0;o<l;o++){let s=a[o],u=r[s],d=t[s];if(s==="class")d!==u&&(ue(e,d,!1),ue(e,u,!0));else if(s==="classes"){let f=e.classList,c=Object.keys(u),p=c.length;for(let g=0;g<p;g++){let h=c[g],m=!!u[h];m!==!!d[h]&&(n=!0,m?f.add(h):f.remove(h))}}else if(s==="styles"){let f=Object.keys(u),c=f.length;for(let p=0;p<c;p++){let g=f[p],h=u[g];h!==d[g]&&(n=!0,h?(Me(h),i.styleApplyer(e,g,h)):i.styleApplyer(e,g,""))}}else if(u||typeof d!="string"||(u=""),s!=="value"||fe(e)){if(u!==d){let f=typeof u;f==="function"&&i.eventHandlerInterceptor||(i.namespace===Y?s==="href"?e.setAttributeNS(Xe,s,u):e.setAttribute(s,u):f==="string"?s==="innerHTML"?e[s]=Ge.sanitize(u):s==="role"&&u===""?e.removeAttribute(s):fe(e)&&s in e?e[s]=u:e.setAttribute(s,u):e[s]!==u&&(e[s]=u),n=!0)}}else{let f=e[s];f!==u&&(e["oninput-value"]?f===e["oninput-value"]:u!==d)&&(e[s]=u,e["oninput-value"]=void 0),u!==d&&(n=!0)}}return n},Or=(e,t,r,i,n)=>{if(r===i)return!1;i=i||$e;let a,l=(r=r||$e).length,o=i.length,s=0,u=0,d=!1;for(;u<o;){let f=s<l?r[s]:void 0,c=i[u];if(f!==void 0&&ge(f,c))d=q(f,c,n)||d,s++;else{let p=_r(r,c,s+1);if(p>=0){for(a=s;a<p;a++)Te(r[a]),te(r,a,e,"removed");d=q(r[p],c,n)||d,s=p+1}else F(c,t,s<l?r[s].domNode:void 0,n),Er(c),te(i,u,e,"added")}u++}if(l>s)for(a=s;a<l;a++)Te(r[a]),te(r,a,e,"removed");return d};q=(e,t,r)=>{let i=e.domNode,n=!1;if(e===t)return!1;let a=!1;if(t.vnodeSelector===""){if(t.text!==e.text){let l=i.ownerDocument.createTextNode(t.text);return i.parentNode.replaceChild(l,i),t.domNode=l,n=!0,n}t.domNode=i}else t.vnodeSelector.lastIndexOf("svg",0)===0&&(r=pe(r,{namespace:Y})),e.text!==t.text&&(a=!0,t.text===void 0?i.removeChild(i.firstChild):i.textContent=t.text),t.domNode=i,a=Or(t,i,e.children,t.children,r)||a,a=Nr(i,e.properties,t.properties,r)||a,t.properties&&t.properties.afterUpdate&&t.properties.afterUpdate.apply(t.properties.bind||t.properties,[i,r,t.vnodeSelector,t.properties,t.children]);return a&&t.properties&&t.properties.updateAnimation&&t.properties.updateAnimation(i,t.properties,e.properties),n};let B=(e,t)=>({getLastRender:()=>e,update:r=>{if(e.vnodeSelector!==r.vnodeSelector)throw new Error("The selector for the root VNode may not be changed. (consider using dom.merge and add one extra level to the virtual DOM)");let i=e;e=r,q(i,r,t)},domNode:e.domNode});const Pr={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}};let R=e=>pe(Pr,e),_={append:(e,t,r)=>(r=R(r),F(t,e,void 0,r),B(t,r)),insertBefore:(e,t,r)=>(r=R(r),F(t,e.parentNode,e,r),B(t,r)),merge:(e,t,r)=>(r=R(r),t.domNode=e,Ze(e,t,r),B(t,r)),replace:(e,t,r)=>(r=R(r),F(t,e.parentNode,e,r),e.parentNode.removeChild(e),B(t,r))},Ye,Ir=(e,t)=>{let r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r};Ye=Array.prototype.find?(e,t)=>e.find(t):(e,t)=>e.filter(t)[0];let Rr=(e,t)=>{let r=e;return t.forEach(i=>{r=r&&r.children?Ye(r.children,n=>n.domNode===i):void 0}),r},Fr=(e,t,r)=>{let i=function(n){r("domEvent",n);let a=t(),l=Ir(n.currentTarget,a.domNode);l.reverse();let o,s=Rr(a.getLastRender(),l);return e.scheduleRender(),s&&(o=s.properties[`on${n.type}`].apply(s.properties.bind||this,arguments)),r("domEventProcessed",n),o};return(n,a,l,o)=>i},fi=e=>{let t,r,i=R(e),n=i.performanceLogger,a=!0,l=!1,o=[],s=[],u=(f,c,p)=>{let g,h=()=>g;i.eventHandlerInterceptor=Fr(t,h,n),g=f(c,p(),i),o.push(g),s.push(p)},d=()=>{if(r=void 0,a){a=!1,n("renderStart",void 0);for(let f=0;f<o.length;f++){let c=s[f]();n("rendered",void 0),o[f].update(c),n("patched",void 0)}n("renderDone",void 0),a=!0}};return t={renderNow:d,scheduleRender:()=>{r||l||(r=requestAnimationFrame(d))},stop:()=>{r&&(cancelAnimationFrame(r),r=void 0),l=!0},resume:()=>{l=!1,a=!0,t.scheduleRender()},append:(f,c)=>{u(_.append,f,c)},insertBefore:(f,c)=>{u(_.insertBefore,f,c)},merge:(f,c)=>{u(_.merge,f,c)},replace:(f,c)=>{u(_.replace,f,c)},detach:f=>{for(let c=0;c<s.length;c++)if(s[c]===f)return s.splice(c,1),o.splice(c,1)[0];throw new Error("renderFunction was not found")}},t};const jr={handleInterceptedEvent:(e,t,r,i)=>(e.scheduleRender(),t.properties[`on${i.type}`].apply(t.properties.bind||r,[i]))},zr={namespace:void 0,performanceLogger:()=>{},eventHandlerInterceptor:void 0,styleApplyer:(e,t,r)=>{t.charAt(0)==="-"?e.style.setProperty(t,r):e.style[t]=r}},Hr=e=>({...zr,...e}),Vr=(e,t)=>{const r=[];for(;e&&e!==t;)r.push(e),e=e.parentNode;return r},Wr=(e,t)=>e.find(t),_e=(e,t,r=!1)=>{let i=e;return t.forEach((n,a)=>{const l=i!=null&&i.children?Wr(i.children,o=>o.domNode===n):void 0;r&&!l&&a!==t.length-1||(i=l)}),i},Br=e=>{let t;const r={...jr,...e},i=Hr(r),n=i.performanceLogger;let a,l=!0,o=!1;const s=[],u=[],d=(c,p,g)=>{var j;let h;i.eventHandlerInterceptor=(O,C,J,he)=>function($){let A;n("domEvent",$);const S=Vr($.currentTarget,h.domNode),P=S.some(E=>{var z;return customElements.get((z=E==null?void 0:E.tagName)==null?void 0:z.toLowerCase())});if($.eventPhase===Event.CAPTURING_PHASE||!P)S.reverse(),A=_e(h.getLastRender(),S);else{const E=$.composedPath(),z=E.slice(E.indexOf($.currentTarget),E.indexOf(h.domNode)).reverse();A=_e(h.getLastRender(),z,!0)}let k;return A&&(k=r.handleInterceptedEvent(t,A,this,$)),n("domEventProcessed",$),k},(j=r.postProcessProjectionOptions)==null||j.call(r,i);const m=g();h=c(p,m,i),i.eventHandlerInterceptor=void 0,s.push(h),u.push(g),r.afterFirstVNodeRendered&&r.afterFirstVNodeRendered(h,m)};let f=()=>{if(a=void 0,l){l=!1,n("renderStart",void 0);for(let c=0;c<s.length;c++){const p=u[c]();n("rendered",void 0);try{s[c].update(p)}catch(g){console.error(g)}n("patched",void 0)}n("renderDone",void 0),l=!0}};return r.modifyDoRenderImplementation&&(f=r.modifyDoRenderImplementation(f,s,u)),t={renderNow:f,scheduleRender:()=>{a||o||(a=requestAnimationFrame(f))},stop:()=>{a&&(cancelAnimationFrame(a),a=void 0),o=!0},resume:()=>{o=!1,l=!0,t.scheduleRender()},append:(c,p)=>{d(_.append,c,p)},insertBefore:(c,p)=>{d(_.insertBefore,c,p)},merge:(c,p)=>{d(_.merge,c,p)},replace:(c,p)=>{d(_.replace,c,p)},detach:c=>{for(let p=0;p<u.length;p++)if(u[p]===c)return u.splice(p,1),s.splice(p,1)[0];throw new Error("renderFunction was not found")}},t};let Je;function Ur(){try{ft(".")}catch{ut(ct(dt(Je)))}}function ui(e){var r;const t=[];for(const i of Object.keys(e))customElements.get(`calcite-${i}`)||t.push((r=e[i])==null?void 0:r.call(e));return t.length>0?Promise.all(t):null}Je="components/assets";const Ke=Symbol("widget"),et=Symbol("widget-test-data"),Dr=[],Gr={},X=new WeakMap;function tt(e,t){let r=t.children;if(r!=null&&r.length)for(let n=0;n<r.length;++n)r[n]=tt(e,r[n]);else r=Dr;const i=t.vnodeSelector;if(M(i)){const n=t.properties||Gr,a=n.key||i,l={key:a,afterCreate:qr,afterUpdate:Xr,afterRemoved:rt,parentWidget:e,widgetConstructor:i,widgetProperties:{...n,key:a,children:r}};return{vnodeSelector:i.vnodeSelector,properties:l,children:void 0,text:void 0,domNode:null}}return t}function qr(e,t,r,{parentWidget:i,widgetConstructor:n,widgetProperties:a}){var o;const l=new n(a);l.container=e,X.set(e,l),(o=l.afterCreate)==null||o.call(l,l,e),i.addHandles(ne(()=>rt(e))),queueMicrotask(()=>{l[et].projector.renderNow()})}function Xr(e,t,r,{widgetProperties:i}){var a;const n=X.get(e);n&&(n.set(i),(a=n.afterUpdate)==null||a.call(n,n,e))}function rt(e){var r;const t=X.get(e);t&&((r=t.afterRemoved)==null||r.call(t,t,e),t.destroy(),X.delete(e))}function M(e){return typeof e=="function"&&e[Ke]}const Ee=new Set;function Mr(e){Ee.add(e),e.finally(()=>Ee.delete(e))}var it;const Qr="esri.widgets.Widget";let Zr=0;function nt(e,t){const r=Object.prototype.hasOwnProperty;for(const i in t)r.call(t,i)&&r.call(e,i)&&(e[i]!=null&&t[i]!=null&&typeof e[i]=="object"&&typeof t[i]=="object"?nt(e[i],t[i]):e[i]=t[i]);return e}const Yr=Br({postProcessProjectionOptions(e){const t=e.eventHandlerInterceptor,r=/capture$/i;e.eventHandlerInterceptor=(i,n,a,l)=>{const o=t==null?void 0:t(i,n,a,l),s=r.test(i);if(!((i=i.replace(r,"")).toLowerCase()in a)||s){const u=i[2].toLowerCase()+i.slice(3),d=p=>o==null?void 0:o.call(a,p);a.addEventListener(u,d,s);const f=()=>a.removeEventListener(u,d,s),c=l.afterRemoved;l.afterRemoved=p=>{c==null||c(p),f()}}return o}},handleInterceptedEvent(e,t,r,i){const{eventPhase:n,type:a}=i,l=n===Event.CAPTURING_PHASE;let o=`on${a}${l?"capture":""}`;const s=t.properties;(s&&o in s||(o=`on${a[0].toUpperCase()}${a.slice(1)}${l?"Capture":""}`,s&&o in s))&&(De(),e.scheduleRender(),s[o].call(s.bind||r,i))}});let re=!1,y=class extends pt(xt.EventedAccessor){constructor(e,t){super(e,t),this._attached=!1,this._projector=Yr,this._readyForTrueRender=!1,this.key=this,this.autoRenderingEnabled=!0,this._loadLocale=gt(async()=>{var o;if((o=this._messageBundleProps)!=null&&o.length){const s=await Promise.allSettled(this._messageBundleProps.map(async({bundlePath:u,propertyName:d})=>{if(this.destroyed)return;let f=await $t(u);this.uiStrings&&Object.keys(this.uiStrings)&&(f=nt(St(f),this.uiStrings)),this[d]=f}));if(this.destroyed)return;for(const u of s)u.status==="rejected"&&K.getLogger(this).error("widget-intl:locale-error",this.declaredClass,u.reason)}await this.loadLocale()}),Ur();const r="esri-widget-uid-"+_t(),i=this.render.bind(this);this._trackingTarget=new ht(()=>{this.autoRenderingEnabled&&this.scheduleRender()});const n=()=>({vnodeSelector:"div",properties:{key:`${r}-hidden`,class:"",styles:{display:"none"}},domNode:null,children:void 0,text:void 0}),a=()=>{var d,f;if(!this._readyForTrueRender||this.destroyed)return null;const o=i()??n(),s=o.properties??(o.properties={});if(s.key??(s.key=r),M(o.vnodeSelector)){if(!this.visible)return n()}else this.visible?s.styles||(s.styles={}):(s.class="",s.styles={display:"none"}),(d=s.styles).display??(d.display="");let u=0;return(f=o.children)==null||f.forEach(c=>{var p;M(c.vnodeSelector)||(c.properties??(c.properties={}),(p=c.properties).key??(p.key=`${this.id}--${u++}`))}),tt(this,o)};this.render=()=>{if(re)return a();let o=Ar(this)??null;if(o)return o;this._trackingTarget.clear(),re=!0;try{o=vt(this._trackingTarget,a)}catch(s){throw K.getLogger(this).error(s),s}finally{re=!1}return o&&xr(this,o),o};const l=this.beforeFirstRender();l?this._resourcesFetch=l.then(()=>{this._readyForTrueRender=!0,this._postInitialize()}):(this._resourcesFetch=Promise.resolve().then(()=>{this._postInitialize()}),this._readyForTrueRender=!0),this.addResolvingPromise(this._resourcesFetch),Mr(this._resourcesFetch)}normalizeCtorArgs(e,t){const r={...e};return t&&(r.container=t),r}postInitialize(){}beforeFirstRender(){var t;const e=this.loadDependencies();return(t=this._messageBundleProps)!=null&&t.length||e?Promise.all([e,this._loadLocale()]).then(()=>{}).catch(me):null}loadDependencies(){return null}loadLocale(){return null}destroy(){this.destroyed||(ye(this._trackingTarget),ye(this.viewModel),this._detach(this.container),this._set("container",null),this._emitter.clear(),this.render=()=>null,this._projector=null,ee(this))}set container(e){this._get("container")||this._set("container",e)}castContainer(e){return Et(e)}get domNode(){return this.container}set domNode(e){this.container=e}get icon(){return null}set icon(e){this._overrideIfSome("icon",e)}get id(){var e;return this._get("id")||((e=this.container)==null?void 0:e.id)||Date.now().toString(16)+"-widget-"+Zr++}set id(e){e&&this._set("id",e)}get label(){return this.declaredClass.split(".").pop()}set label(e){this._overrideIfSome("label",e)}get renderable(){return this._resourcesFetch}get visible(){return this._get("visible")}set visible(e){this._set("visible",e)}get[(it=Ke,et)](){return{projector:this._projector}}render(){throw new Error("not implemented")}scheduleRender(){this.destroyed||(ee(this),this._projector.scheduleRender())}own(e){mt(K.getLogger(this),"`Widget.own()` is deprecated in favor of 'Widget.addHandles()'",{replacement:"Widget.addHandles()",version:"4.28"}),this.addHandles(e)}classes(...e){return $r.apply(this,e)}renderNow(){ee(this),this._projector.renderNow()}_postInitialize(){var t;if(this.destroyed)return;this.scheduleRender(),(t=this._delegatedEventNames)!=null&&t.length&&this.addHandles(ie(()=>this.viewModel,(r,i)=>{i&&this.removeHandles("delegated-events"),r&&yt(r)&&this.addHandles(this._delegatedEventNames.map(n=>bt(r,n,a=>{this.emit(n,a)})),"delegated-events")},Le)),this.postInitialize();const e=async()=>{await this._loadLocale().catch(me),this.scheduleRender()};this.addHandles([wt(e),ie(()=>this.uiStrings,e),At(()=>this.container,r=>{this.destroyed||this._attach(r)},{initial:!0,once:!0})])}_attach(e){e&&(this._projector.merge(e,this.render),this._attached=!0)}_detach(e){var t;this._attached&&(this._projector.detach(this.render),this._attached=!1),(t=e==null?void 0:e.parentNode)==null||t.removeChild(e)}};y[it]=!0,y.vnodeSelector="div",b([w()],y.prototype,"_readyForTrueRender",void 0),b([w({value:null})],y.prototype,"container",null),b([kt("container")],y.prototype,"castContainer",null),b([w()],y.prototype,"icon",null),b([w()],y.prototype,"id",null),b([w()],y.prototype,"label",null),b([w()],y.prototype,"renderable",null),b([w()],y.prototype,"uiStrings",void 0),b([w()],y.prototype,"viewModel",void 0),b([w({value:!0})],y.prototype,"visible",null),b([w()],y.prototype,"key",void 0),b([w()],y.prototype,"children",void 0),b([w()],y.prototype,"afterCreate",void 0),b([w()],y.prototype,"afterUpdate",void 0),b([w()],y.prototype,"afterRemoved",void 0),y=b([Tt(Qr)],y);const ci=y;function di(e){return(t,r)=>{t.hasOwnProperty("_messageBundleProps")||(t._messageBundleProps=t._messageBundleProps?t._messageBundleProps.slice():[]),t._messageBundleProps.push({bundlePath:e,propertyName:r})}}var Jr=function(e){return{vnodeSelector:"",properties:void 0,children:void 0,text:e.toString(),domNode:null}},st=function(e,t){for(var r=0,i=e.length;r<i;r++){var n=e[r];Array.isArray(n)?st(n,t):n!=null&&n!==!1&&(n.hasOwnProperty("vnodeSelector")||(n=Jr(n)),t.push(n))}},Kr=function(e,t){for(var r=[],i=2;i<arguments.length;i++)r[i-2]=arguments[i];if(r.length===1&&typeof r[0]=="string")return{vnodeSelector:e,properties:t||void 0,children:void 0,text:r[0],domNode:null};var n=[];return st(r,n),{vnodeSelector:e,properties:t||void 0,children:n,text:void 0,domNode:null}};function pi(e,t,...r){return typeof e!="function"||M(e)?Kr(e,t,...r):e(t,...r)}function gi(...e){return e}export{ci as B,gi as a,Et as b,di as e,si as f,fi as i,$r as l,ai as m,pi as n,ii as p,ui as r,ri as t,ni as u,oi as v,li as w};
//# sourceMappingURL=jsxFactory-byNdgf1H.js.map
